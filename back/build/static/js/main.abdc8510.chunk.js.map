{"version":3,"sources":["components/Hub.js","components/CollapseWrapper.js","components/Confirmator/Boxes.js","components/Confirmator/Editor.js","components/Confirmator/OrderSettings.js","components/Confirmator/ValidationDisplay.js","components/Confirmator/withEditing.js","components/Confirmator/OrderContainers/RawOrderContainer.js","components/Confirmator/OrderContainers/TransformedOrderContainer.js","components/Confirmator/OrderOperations/TransformButton.js","components/Confirmator/OrderOperations/CopyButton.js","components/Confirmator/OrderOperations/TransformPanel.js","components/Confirmator/NewOrderButton.js","components/Confirmator/OrderPool/OrderPoolOpenerButton.js","components/Confirmator/OrderOperations/MessageBeforeButton.js","components/Confirmator/OrderOperations/CustomButton.js","services/tokens.js","services/interceptor.js","services/emailAPI.js","components/Confirmator/OrderOperations/ConfirmationEmailSenderButton.js","services/smsAPI.js","components/Confirmator/OrderOperations/ConfirmationSMSSenderButton.js","services/calendarAPI.js","services/orderPoolAPI.js","components/Confirmator/OrderOperations/AddOrderToCalendarButton.js","components/Confirmator/OrderOperations/MainOperationsPanel.js","components/ResponsiveDialog.js","components/LoadingUntillDone.js","components/Confirmator/OrderPool/OrdersList.js","components/Confirmator/OrderPool/OrderPool.js","components/Confirmator/OrderPool/OrderPoolDialog.js","helpers/TextOrder.js","helpers/Order.js","components/Confirmator/Confirmator.js","components/Statistics/Statistics.js","assets/paku24-logo.png","components/Header.js","services/login.js","components/Notification.js","components/Login.js","components/Register.js","services/logout.js","components/LogoutButton.js","components/Footer.js","App.js","index.js"],"names":["Hub","history","useHistory","handleBlockClick","e","push","currentTarget","name","className","Button","onClick","variant","CollapseWrapper","open","clickable","label","icon","style","containerStyle","children","useState","isExpanded","setExpanded","Title","marginLeft","paddingLeft","marginRight","paddingRight","size","display","alignItems","cursor","pointerEvents","IconButton","padding","transform","Collapse","in","boxesAmountOptions","i","boxesSettings","minAmount","maxAmount","step","Boxes","order","handleChange","includeTime_start","setIncludeTime_start","includeTime_end","setIncludeTime_end","StartPicker","DateTimePicker","DatePicker","EndPicker","useEffect","boxesDeliveryDate","includes","boxesPickupDate","selfPickup","setSelfPickup","selfReturn","setSelfReturn","handleDateChange","date","includeTime","target","value","Date","toISOString","dayjs","format","split","width","gap","border","borderRadius","margin","utils","DayjsUtils","locale","locale_en","ampm","minutesStep","onChange","v","DialogProps","disableScrollLock","FormControlLabel","control","Checkbox","checked","color","labelPlacement","fontSize","flexWrap","NativeSelect","maxWidth","marginTop","boxesAmount","map","o","Editor","marginLeftRight","weekStart","dateTime","duration","fullWidth","serviceName","services","service","id","paymentType","paymentTypes","TextField","required","address","multiline","destination","email","type","phone","TextareaAutosize","rowsMin","cols","comment","placeholder","CheckboxGroup","props","FormControl","hiddenLabel","FormLabel","component","RadioGroup","distance","Radio","hsy","altColorPalette","XL","ValidationMessages","validationArray","errStyle","isError","message","ValidationDisplay","shouldValidate","setValidationArray","validationAr","validator","isBefore","confirmationDateString","time","isEmpty","isMobilePhone","isEmail","someIsInvalid","some","borderTop","borderBottom","withEditing","EditableComponent","NotEditableComponent","content","handleUpdate","rest","isEditable","setIsEditable","savedChanges","setSavedChanges","incomingChanges","setIncomingChanges","handleIncomingChanges","handleCancelClick","handleSaveClick","handleEditClick","button","RawOrderContainer","handleClick","rawOrderText","elementRef","ContainerWithEditing","ref","TransformedOrderContainer","transformedOrderText","length","line","index","TransformButton","text","CopyButton","disabled","enqueueSnackbar","useSnackbar","tempTextarea","document","createElement","body","appendChild","current","innerText","defaultValue","select","execCommand","removeChild","copyToClipboard","autoHideDuration","TransformPanel","handleOrderTransformFromText","handleOrderTransformFromEditor","transformDisabled","copyDisabled","NewOrderButton","OrderPoolOpenerButton","orderPoolUrl","MessageBeforeButton","CustomButton","isDisabled","grayScale","baseUrl","a","interceptor","axiosInstance","post","refreshTokens","axios","create","setupInterceptor","externalActions","interceptors","response","use","error","originalRequest","config","data","tokenService","notificate","logout","Error","status","setTimeout","Promise","reject","params","EMAIL","ConfirmationEmailSenderButton","statusText","changeStatus","buttonContent","sendConfirmationEmail","orderDetails","then","res","catch","err","sendSMS","SMS","ConfirmationSMSSenderButton","msg","addEventToCalendar","makeQueryArray","queryName","items","item","isLastItem","join","storeOrdersInSessionStorage","query","orders","resolve","sessionStorage","setItem","JSON","stringify","validUntil","now","getOrdersFromSessionStorage","parse","getItem","isStorageUpToDate","pages","options","deleted","forceUpdate","url","get","delete","put","confirm","remove","retrieve","getConfirmedOrders","period","periodFrom","periodTo","add","key","CALENDAR","AddOrderToCalendarButton","orderId","calendarEntries","makeCalendarEntries","orderPoolAPI","prepareForSending","createdEvent","toString","MainOperationsPanel","transformedOrder","handleResetClick","defaultStatuses","disable","sms","calendar","statuses","setStatuses","emailBlock","smsBlock","threeButtonsBlock","ResponsiveDialog","handleClose","theme","useTheme","fullScreen","useMediaQuery","breakpoints","down","Dialog","onClose","aria-labelledby","DialogContent","DialogActions","backgroundColor","LoadingUntillDone","loading","redirectComponent","OrdersList","handleExport","handleDeletion","handleLoadingMoreOrders","labelForDeletion","ordersWithStyles","setOrdersWithStyles","textOrder","txtOrder","isNew","toDateString","confirmed","hidden","orderWithStyles","handleHideOrShow","isJSON","jsonOrder","Object","entries","fieldName","fieldValue","minHeight","fontWeight","toLocaleDateString","toLocaleTimeString","slice","INBOX","TRASHCAN","OrderPool","setOrders","isLoading","setIsloading","currentTab","setCurrentTab","inbox","searchText","showOnlyNotConfirmed","trashcan","searchOptions","setSearchOptions","searchResults","setSearchResults","hasToUpdate","trigger","setForceUpdate","setPages","numberOfOrders","numberOfUnconfirmedOrders","filter","makeSearch","val","bool","searchTarget","search","values","condition","filterConfirmed","toLowerCase","trim","newPage","moreOrdersFromPool","concatenatedOrders","concat","filteredOrders","handleTabBarChange","dataset","tabname","ordersFromPool","data-tabname","prevOptsForCurTab","handleOnlyNotConfirmedSearch","OrderPoolDialog","goBack","cannotFind","removeOrdinalSuffix","dateStr","replace","TextOrder","this","initialCleanup","dateRe","exec","getFullYear","getMonth","getDate","beginMarker","beginIndex","indexOf","endIndex","paymentTypeField","nonWordChars","match","c","endIndex2","p","amountLine","deliveryLine","startMarker","fromIndex","priceLine","find","s","endMarkers","addresses","forEach","marker","rawAddress","replaceAll","cityField","postalCode","addressField","city","test","re","str","splitStr","noRebundantWhitespace","defaultOrder","distances","insideCapital","orderClassPropertyNames","keys","Order","propertyName","toTimeString","priceXL","price","diff","timeUnit","deliveryFee","pickupFee","dd","mm","yyyy","timeInNumberType","dayOFWeek","getDay","dayOfMonth","endOfMonth","weekEndFeeApplicable","endOfMonthFeeApplicable","morningFeeApplicable","nightFeeApplicable","paymentFeeApplicable","fees","weekend","firstOrLastDayOfTheMonth","morning","night","bill","f","printed","repeat","fee","toUpperCase","amount","filtered","sizeIcon","icons","distanceIcon","misc","feeIcons","reduce","acc","cur","serviceIcons","paymentIcons","payment","move","boxesDelivery","boxes","delivery","boxesPickup","pickup","moveTitle","makeIcons","boxesDeliveryTitle","boxesPickupTitle","title","description","removeFirstHeading","opts","defaultOpts","transformed","servicePrice","printFees","boxDelDateStr","boxPickDateStr","boxesPrice","ar","shift","console","formattedStr","orderArguments","Confirmator","rawOrder","setRawOrder","setTransformedOrder","default","setOrder","savedOrder","localStorage","savedRawOrder","rawOrderOrderContainerRef","useRef","transformedOrderContainerRef","handleOrderChange","changedOrder","handleRawOrderUpdate","rawO","setupOrderFromText","orderFromText","transO","path","scrollIntoView","smooth","splitPeriodToWeeks","numberOfWeeksInPeriod","Math","ceil","weekNumbers","Array","fill","isoWeek","number","count","startYear","startOf","year","weekNumber","splitOrdersByPeriods","periods","splitted","confirmedAt","isSameOrAfter","makeRows","labels","d","orderCount","makeWeekRows","weeks","Statistics","defStartDate","defEndDate","setPeriod","ordersByDays","setOrdersByDays","anchorEl","setAnchorEl","ordersByWeeks","setOrdersByWeeks","rows","setRows","handlePeriodChange","showOrdersByDay","ordersOfSelectedWeek","rownumber","ordByDays","day","weekday","firstWeek","lastWeek","orderPoolApi","confirmedOrdersOfAllWeeksOfPeriod","confirmedOrders","ordsByWeeks","ordersOfWholePeriod","weekRows","totalRow","Boolean","shouldApplyEventHandler","row","TableContainer","Paper","Table","aria-label","TableHead","TableRow","TableCell","align","TableBody","rowNumber","scope","Popper","placement","ClickAwayListener","mouseEvent","touchEvent","onClickAway","data-rownumber","extend","Header","isLogged","to","src","logo","alt","axiosLoginInstance","credentials","loginWithCredentials","loginWithAccessToken","Notification","notification","marginBottom","Login","updateUser","flexItem","referrer","location","state","username","setUsername","password","setPassword","isButtonDisabled","setIsButtonDisabled","inputError","setInputError","setNotification","event","preventDefault","loginServiсe","user","letterSpacing","onSubmit","paddingBottom","height","flexFlow","justifyContent","Register","setName","setEmail","purpose","setPurpose","setResponse","setDisabled","sendRequestForAccess","LogoutButton","Footer","logoutUser","paddingTop","fontFamily","logoutService","ErrorFallback","role","ProtectedRoute","currentLocation","dependsOn","pathname","redirectToLoginPage","App","setUser","userFromToken","FallbackComponent","exact","notistackRef","React","createRef","ReactDOM","render","StrictMode","basename","action","closeSnackbar","maxSnack","dense","anchorOrigin","horizontal","vertical","getElementById"],"mappings":"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","file":"static/js/main.abdc8510.chunk.js","sourcesContent":["import { Button } from '@material-ui/core'\nimport React from 'react'\nimport { useHistory } from 'react-router-dom'\nimport './Hub.css'\n\nexport default function Hub() {\n  const history = useHistory()\n\n  function handleBlockClick(e) {\n    history.push(e.currentTarget.name)\n  }\n  return (\n    <div className=\"hub\">\n      <Button\n        onClick={handleBlockClick}\n        name=\"confirmator\"\n        variant=\"contained\"\n        className=\"hub-block\"\n      >\n        Confirmator\n      </Button>\n\n      <Button\n        onClick={handleBlockClick}\n        name=\"statistics\"\n        variant=\"contained\"\n        className=\"hub-block\"\n      >\n        Statistics\n      </Button>\n    </div>\n  )\n}\n","/* eslint-disable react/jsx-indent */\n/* eslint-disable jsx-a11y/no-static-element-interactions */\n/* eslint-disable jsx-a11y/click-events-have-key-events */\nimport { Collapse, IconButton, Button } from '@material-ui/core'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport React, { useState } from 'react'\n\nexport default function CollapseWrapper({\n  open,\n  clickable = true,\n  label,\n  icon,\n  style,\n  containerStyle,\n  children,\n}) {\n  const [isExpanded, setExpanded] = useState(false)\n\n  const Title =\n    typeof label === 'object'\n      ? () => label\n      : () => (\n          <Button\n            style={{\n              marginLeft: 0,\n              paddingLeft: '0.5rem',\n              marginRight: 0,\n              paddingRight: '0.5rem',\n            }}\n            variant=\"text\"\n            size=\"small\"\n            label={label}\n          />\n        )\n\n  return (\n    <div style={containerStyle}>\n      <div\n        style={{\n          display: 'flex',\n          alignItems: 'center',\n          cursor: clickable ? 'pointer' : 'auto',\n          pointerEvents: clickable ? 'all' : 'none',\n          ...style,\n        }}\n        onClick={() => setExpanded(!isExpanded)}\n      >\n        {icon}\n        <Title />\n        {clickable && (\n          <IconButton style={{ padding: 0 }} size=\"small\" onClick={() => setExpanded(!isExpanded)}>\n            <ExpandMoreIcon\n              style={{\n                transform: isExpanded ? 'rotate(0.5turn)' : '',\n              }}\n            />\n          </IconButton>\n        )}\n      </div>\n      <Collapse in={open || isExpanded}>{children}</Collapse>\n    </div>\n  )\n}\n","import DayjsUtils from '@date-io/dayjs'\nimport { Checkbox, FormControlLabel, NativeSelect } from '@material-ui/core/'\nimport AllInboxIcon from '@material-ui/icons/AllInbox'\nimport { DatePicker, DateTimePicker, MuiPickersUtilsProvider } from '@material-ui/pickers'\nimport dayjs from 'dayjs'\nimport locale_en from 'dayjs/locale/en'\nimport React, { useEffect, useState } from 'react'\nimport boxesSettings from '../../data/boxes.json'\nimport CollapseWrapper from '../CollapseWrapper'\n\nconst boxesAmountOptions = [0]\nfor (let i = boxesSettings.minAmount; i <= boxesSettings.maxAmount; i += boxesSettings.step) {\n  boxesAmountOptions.push(i)\n}\n\nexport default function Boxes({ order = {}, handleChange, style }) {\n  const [includeTime_start, setIncludeTime_start] = useState(true)\n  const [includeTime_end, setIncludeTime_end] = useState(true)\n\n  const StartPicker = includeTime_start ? DateTimePicker : DatePicker\n  const EndPicker = includeTime_end ? DateTimePicker : DatePicker\n\n  useEffect(() => {\n    setIncludeTime_start(order.boxesDeliveryDate.includes('T'))\n    setIncludeTime_end(order.boxesPickupDate.includes('T'))\n  }, [order.boxesDeliveryDate, order.boxesPickupDate])\n\n  const [selfPickup, setSelfPickup] = useState(false)\n  const [selfReturn, setSelfReturn] = useState(false)\n\n  useEffect(() => {\n    setSelfPickup(order.selfPickup ?? false)\n    setSelfReturn(order.selfReturn ?? false)\n  }, [order.selfPickup, order.selfReturn])\n\n  const handleDateChange = (name, date, includeTime) =>\n    handleChange({\n      target: {\n        name,\n        value: includeTime\n          ? new Date(date).toISOString()\n          : // Not using .toISOString() as it will change the date to a previos day in the Helsinki/Finland timezone\n            // dayjs().format() keeps the timezone info and displays the correct day\n            dayjs(date).format().split('T')[0],\n      },\n    })\n\n  return (\n    <>\n      <CollapseWrapper\n        style={{ width: '100%', gap: '0.25rem' }}\n        containerStyle={{\n          width: '100%',\n          border: '1px solid lightgray',\n          padding: '0.5rem',\n          borderRadius: '0.25rem',\n          ...style,\n        }}\n        label={\n          <div style={{ display: 'flex', alignItems: 'center', gap: '0.3rem' }}>\n            <AllInboxIcon /> Boxes\n          </div>\n        }\n      >\n        <div\n          style={{\n            margin: '1.25rem 0.5rem 0.5rem',\n          }}\n        >\n          <div\n            style={{\n              display: 'flex',\n              alignItems: 'center',\n              gap: '1rem',\n            }}\n          >\n            <div>\n              <MuiPickersUtilsProvider utils={DayjsUtils} locale={locale_en}>\n                <StartPicker\n                  ampm={false}\n                  format={includeTime_start ? 'DD.MM.YYYY HH:mm' : 'DD.MM.YYYY'}\n                  minutesStep={15}\n                  value={order.boxesDeliveryDate}\n                  onChange={(v) =>\n                    handleDateChange('boxesDeliveryDate', new Date(v), includeTime_start)\n                  }\n                  DialogProps={{ disableScrollLock: true }}\n                />\n              </MuiPickersUtilsProvider>\n              <FormControlLabel\n                size=\"small\"\n                style={{ display: 'block', marginLeft: 0 }}\n                control={\n                  <Checkbox\n                    checked={includeTime_start}\n                    onChange={() => {\n                      const v = !includeTime_start\n                      setIncludeTime_start(v)\n                      handleDateChange('boxesDeliveryDate', order.boxesDeliveryDate, v)\n                    }}\n                    color=\"primary\"\n                  />\n                }\n                label=\"Include time\"\n                labelPlacement=\"start\"\n              />\n            </div>\n            <div style={{ fontSize: '1.25rem' }}>–</div>\n            <div>\n              <MuiPickersUtilsProvider utils={DayjsUtils} locale={locale_en}>\n                <EndPicker\n                  ampm={false}\n                  format={includeTime_end ? 'DD.MM.YYYY HH:mm' : 'DD.MM.YYYY'}\n                  minutesStep={15}\n                  value={order.boxesPickupDate}\n                  onChange={(v) =>\n                    handleDateChange('boxesPickupDate', new Date(v), includeTime_end)\n                  }\n                  DialogProps={{ disableScrollLock: true }}\n                />\n              </MuiPickersUtilsProvider>\n              <FormControlLabel\n                size=\"small\"\n                style={{ display: 'block', marginLeft: 0 }}\n                control={\n                  <Checkbox\n                    checked={includeTime_end}\n                    onChange={() => {\n                      const v = !includeTime_end\n                      setIncludeTime_end(v)\n                      handleDateChange('boxesPickupDate', order.boxesPickupDate, v)\n                    }}\n                    color=\"primary\"\n                  />\n                }\n                label=\"Include time\"\n                labelPlacement=\"start\"\n              />\n            </div>\n          </div>\n          <div style={{ display: 'flex', gap: '1rem', flexWrap: 'wrap' }}>\n            <NativeSelect\n              className=\"time-duration\"\n              style={{ maxWidth: '9rem', marginTop: '0.5rem' }}\n              name=\"boxesAmount\"\n              value={order?.boxesAmount}\n              onChange={handleChange}\n              variant=\"filled\"\n            >\n              {boxesAmountOptions.map((o) => (\n                <option key={o} value={o}>\n                  {o}\n                </option>\n              ))}\n            </NativeSelect>\n            <div style={{ display: 'flex', gap: '1rem', flexWrap: 'wrap' }}>\n              <FormControlLabel\n                size=\"small\"\n                style={{ display: 'block', marginLeft: 0 }}\n                control={\n                  <Checkbox\n                    checked={selfPickup}\n                    onChange={() => {\n                      const v = !selfPickup\n                      setSelfPickup(v)\n                      handleChange({\n                        target: {\n                          name: 'selfPickup',\n                          value: v,\n                        },\n                      })\n                    }}\n                    color=\"primary\"\n                  />\n                }\n                label=\"Self pickup\"\n                labelPlacement=\"start\"\n              />\n              <FormControlLabel\n                size=\"small\"\n                style={{ display: 'block', marginLeft: 0 }}\n                control={\n                  <Checkbox\n                    checked={selfReturn}\n                    onChange={() => {\n                      const v = !selfReturn\n                      setSelfReturn(v)\n                      handleChange({\n                        target: {\n                          name: 'selfReturn',\n                          value: v,\n                        },\n                      })\n                    }}\n                    color=\"primary\"\n                  />\n                }\n                label=\"Self return\"\n                labelPlacement=\"start\"\n              />\n            </div>\n          </div>\n        </div>\n      </CollapseWrapper>\n    </>\n  )\n}\n","import React from 'react'\nimport TextField from '@material-ui/core/TextField'\nimport NativeSelect from '@material-ui/core/NativeSelect'\nimport TextareaAutosize from '@material-ui/core/TextareaAutosize'\nimport DayjsUtils from '@date-io/dayjs'\nimport locale_en from 'dayjs/locale/en'\nimport { DateTimePicker, MuiPickersUtilsProvider } from '@material-ui/pickers'\nimport services from '../../data/services.json'\nimport paymentTypes from '../../data/paymentTypes.json'\nimport Boxes from './Boxes'\n\nexport default function Editor({ order, handleChange }) {\n  const margin = {\n    marginTop: 5,\n  }\n  const marginLeftRight = {\n    marginLeft: 5,\n    marginRight: 5,\n  }\n\n  locale_en.weekStart = 1\n\n  function handleDateChange(name, value) {\n    return handleChange({ target: { name, value } })\n  }\n\n  return (\n    <div className=\"basic-flex\" style={{ marginTop: '5px' }}>\n      <div className=\"flex-100-space-between flex-item\" style={marginLeftRight}>\n        <MuiPickersUtilsProvider utils={DayjsUtils} locale={locale_en}>\n          <DateTimePicker\n            ampm={false}\n            format=\"DD-MM-YYYY HH:mm\"\n            minutesStep={15}\n            style={marginLeftRight}\n            className=\"time-duration\"\n            value={order.dateTime}\n            onChange={(v) => handleDateChange('dateTime', new Date(v))}\n            DialogProps={{ disableScrollLock: true }}\n          />\n        </MuiPickersUtilsProvider>\n\n        <NativeSelect\n          className=\"time-duration\"\n          style={{ ...marginLeftRight, paddingLeft: 10 }}\n          name=\"duration\"\n          value={order?.duration}\n          onChange={handleChange}\n        >\n          <option value={1}>1h</option>\n          <option value={1.5}>1.5h</option>\n          <option value={2}>2h</option>\n          <option value={2.5}>2.5h</option>\n          <option value={3}>3h</option>\n          <option value={3.5}>3.5h</option>\n          <option value={4}>4h</option>\n          <option value={4.5}>4.5h</option>\n          <option value={5}>5h</option>\n          <option value={5.5}>5.5h</option>\n          <option value={6}>6h</option>\n          <option value={6.5}>6.5h</option>\n          <option value={7}>7h</option>\n          <option value={7.5}>7.5h</option>\n          <option value={8}>8h</option>\n          <option value={8.5}>8.5h</option>\n          <option value={9}>9h</option>\n          <option value={9.5}>9.5h</option>\n          <option value={10}>10h</option>\n        </NativeSelect>\n      </div>\n\n      <NativeSelect\n        fullWidth\n        style={marginLeftRight}\n        className=\"flex-item\"\n        name=\"serviceName\"\n        value={order?.serviceName}\n        onChange={handleChange}\n      >\n        {services.map((service) => (\n          <option key={service.id} value={service.name}>\n            {service.name}\n          </option>\n        ))}\n      </NativeSelect>\n\n      <NativeSelect\n        fullWidth\n        style={marginLeftRight}\n        className=\"flex-item\"\n        name=\"paymentType\"\n        value={order?.paymentType}\n        onChange={handleChange}\n      >\n        {paymentTypes.map(({ name, id }) => (\n          <option key={id} value={name}>\n            {name}\n          </option>\n        ))}\n      </NativeSelect>\n\n      <TextField\n        fullWidth\n        style={margin}\n        className=\"flex-item\"\n        required\n        name=\"address\"\n        value={order?.address}\n        onChange={handleChange}\n        label=\"Address\"\n        variant=\"outlined\"\n        size=\"small\"\n      />\n\n      <TextField\n        fullWidth\n        multiline\n        style={margin}\n        className=\"flex-item\"\n        name=\"destination\"\n        value={order?.destination}\n        onChange={handleChange}\n        label=\"Destination\"\n        variant=\"outlined\"\n        size=\"small\"\n      />\n\n      <TextField\n        fullWidth\n        required\n        style={margin}\n        className=\"flex-item\"\n        name=\"name\"\n        value={order?.name}\n        onChange={handleChange}\n        label=\"Name\"\n        variant=\"outlined\"\n        size=\"small\"\n      />\n\n      <TextField\n        fullWidth\n        style={margin}\n        className=\"flex-item\"\n        name=\"email\"\n        value={order?.email}\n        onChange={handleChange}\n        type=\"email\"\n        label=\"Email\"\n        variant=\"outlined\"\n        size=\"small\"\n      />\n\n      <TextField\n        fullWidth\n        style={margin}\n        className=\"flex-item\"\n        required\n        name=\"phone\"\n        value={order?.phone}\n        onChange={handleChange}\n        label=\"Phonenumber\"\n        variant=\"outlined\"\n        size=\"small\"\n      />\n\n      <Boxes style={{ marginTop: margin.marginTop }} order={order} handleChange={handleChange} />\n\n      <TextareaAutosize\n        style={margin}\n        className=\"flex-item textarea-2\"\n        rowsMin={3}\n        cols={27}\n        name=\"comment\"\n        value={order?.comment}\n        placeholder=\"Additional information.\"\n        onChange={handleChange}\n      />\n    </div>\n  )\n}\n","import React from 'react'\nimport FormLabel from '@material-ui/core/FormLabel'\nimport FormControl from '@material-ui/core/FormControl'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport Radio from '@material-ui/core/Radio'\nimport RadioGroup from '@material-ui/core/RadioGroup'\n\nexport default function CheckboxGroup(props) {\n  const { handleChange, order } = props\n\n  return (\n    <div className=\"checkbox-container\">\n      <FormControl className=\"checkbox-distance flex-item\" hiddenLabel={false} size=\"small\">\n        <FormLabel component=\"legend\">Pick one:</FormLabel>\n        <RadioGroup value={order.distance} onChange={handleChange}>\n          <FormControlLabel\n            name=\"distance\"\n            value=\"insideCapital\"\n            control={<Radio color=\"default\" />}\n            label=\"🏙 Inside capital\"\n          />\n          <FormControlLabel\n            name=\"distance\"\n            value=\"outsideCapital\"\n            control={<Radio color=\"default\" />}\n            label=\"🏞 Outside capital\"\n          />\n          <FormControlLabel\n            name=\"distance\"\n            value=\"fromCapitalToOutside\"\n            control={<Radio color=\"default\" />}\n            label=\"🏙->🏞 From capital\"\n          />\n          <FormControlLabel\n            name=\"distance\"\n            value=\"fromOutsideToCapital\"\n            control={<Radio color=\"default\" />}\n            label=\"🏞->🏙 To capital\"\n          />\n        </RadioGroup>\n      </FormControl>\n      <FormControl className=\"basic-flex\" size=\"small\">\n        <FormControlLabel\n          size=\"small\"\n          className=\"flex-item\"\n          control={<Checkbox checked={order.hsy} onChange={handleChange} color=\"primary\" />}\n          name=\"hsy\"\n          label=\"♻ HSY\"\n          labelPlacement=\"start\"\n        />\n        <FormControlLabel\n          className=\"flex-item\"\n          control={\n            <Checkbox checked={order.altColorPalette} onChange={handleChange} color=\"primary\" />\n          }\n          name=\"altColorPalette\"\n          label=\"Second car\"\n          labelPlacement=\"start\"\n        />\n        <FormControlLabel\n          className=\"flex-item\"\n          control={<Checkbox checked={order.XL} onChange={handleChange} color=\"primary\" />}\n          name=\"XL\"\n          label=\"XL\"\n          labelPlacement=\"start\"\n        />\n      </FormControl>\n    </div>\n  )\n}\n","import React, { useState, useEffect } from 'react'\nimport validator from 'validator'\nimport ErrorOutlineIcon from '@material-ui/icons/ErrorOutline'\n\nfunction ValidationMessages({ validationArray }) {\n  const errStyle = { color: 'red' }\n\n  return (\n    <>\n      {validationArray.map((v) => {\n        if (v.isError) {\n          return (\n            <div key={v.id}>\n              <span style={errStyle}>{v.name} </span>\n              {v.message}\n            </div>\n          )\n        }\n        return null\n      })}\n    </>\n  )\n}\n\nexport default function ValidationDisplay({ order, shouldValidate }) {\n  const [validationArray, setValidationArray] = useState([])\n\n  useEffect(() => {\n    if (shouldValidate) {\n      const validationAr = [\n        {\n          id: 1,\n          name: 'Date and time',\n          isError: validator.isBefore(order.dateTime.toISOString(), new Date().toISOString()),\n          message: `might have some problems. Check to be sure: ${\n            `${order.confirmationDateString} ${order.time}` || '---'\n          }`,\n        },\n        {\n          id: 2,\n          name: 'Address',\n          isError: validator.isEmpty(order.address),\n          message: 'is missing',\n        },\n        {\n          id: 3,\n          name: 'Phonenumber',\n          isError: !validator.isMobilePhone(order.phone, ['fi-FI', 'es-ES', 'sv-SE']),\n          message: `is missing or is incorrect: ${order.phone || '---'}`,\n        },\n        {\n          id: 4,\n          name: 'Email',\n          isError: !validator.isEmail(order.email),\n          message: `is missing or is incorrect: ${order.email || '---'}`,\n        },\n      ]\n      setValidationArray(validationAr)\n    }\n  }, [order.dateTime, order.phone, order.address, order.email, shouldValidate])\n\n  const someIsInvalid = validationArray.some((v) => v.isError)\n\n  const border = {\n    borderTop: '1px solid gray',\n    borderBottom: '1px solid gray',\n    padding: '15px 0 15px 0',\n    margin: '10px 0 10px 0',\n  }\n\n  return (\n    <>\n      {shouldValidate && someIsInvalid && (\n        <div style={border} className=\"flex-100-space-between\">\n          <div>\n            <ErrorOutlineIcon />\n            <ValidationMessages validationArray={validationArray} />\n          </div>\n        </div>\n      )}\n    </>\n  )\n}\n","import React, { useState } from 'react'\nimport Button from '@material-ui/core/Button'\nimport IconButton from '@material-ui/core/IconButton'\nimport EditOutlinedIcon from '@material-ui/icons/EditOutlined'\nimport './withEditing.css'\n\nconst withEditing = (EditableComponent, NotEditableComponent) => ({\n  content,\n  handleUpdate,\n  ...rest\n}) => {\n  const [isEditable, setIsEditable] = useState(false)\n  const [savedChanges, setSavedChanges] = useState(content)\n  const [incomingChanges, setIncomingChanges] = useState(savedChanges)\n\n  function removeUnsavedChanges() {\n    setIncomingChanges(savedChanges)\n  }\n\n  function handleIncomingChanges(e) {\n    setIncomingChanges(e.target.value)\n  }\n\n  function handleCancelClick() {\n    removeUnsavedChanges()\n    setIsEditable(!isEditable)\n  }\n\n  function handleSaveClick() {\n    setSavedChanges(incomingChanges)\n    handleUpdate(incomingChanges)\n    setIsEditable(!isEditable)\n  }\n\n  function handleEditClick() {\n    setIsEditable(!isEditable)\n  }\n\n  function notEditable() {\n    return (\n      <>\n        <NotEditableComponent\n          content={content}\n          button={\n            <span>\n              <IconButton size=\"small\" onClick={handleEditClick}>\n                <EditOutlinedIcon style={{ width: '20px' }} />\n              </IconButton>\n            </span>\n          }\n          {...rest}\n        />\n      </>\n    )\n  }\n  function editable() {\n    return (\n      <>\n        <EditableComponent\n          content={incomingChanges}\n          handleChange={handleIncomingChanges}\n          {...rest}\n        />\n        <div className=\"buttons-block\">\n          <Button size=\"small\" onClick={handleCancelClick}>\n            Cancel\n          </Button>\n          <Button className=\"primary\" size=\"small\" onClick={handleSaveClick}>\n            Save\n          </Button>\n        </div>\n      </>\n    )\n  }\n\n  return <>{isEditable ? editable() : notEditable()}</>\n}\n\nexport default withEditing\n","import React from 'react'\nimport TextareaAutosize from '@material-ui/core/TextareaAutosize'\nimport withEditing from '../withEditing'\n\nexport default function RawOrderContainer({ handleClick, rawOrderText, elementRef }) {\n  const Editable = ({ handleChange, content }) => (\n    <TextareaAutosize\n      onChange={handleChange}\n      value={content}\n      style={{ marginTop: '10px' }}\n      className=\"width-100\"\n      rowsMin={5}\n      cols={40}\n      placeholder=\"Raw order here.\"\n    />\n  )\n\n  const NotEditable = ({ button }) => (\n    <div ref={elementRef} className=\"not-editable-container\">\n      Raw order{button}\n    </div>\n  )\n  const ContainerWithEditing = withEditing(Editable, NotEditable)\n  return (\n    <ContainerWithEditing\n      style={{ width: 'max-content' }}\n      handleUpdate={handleClick}\n      content={rawOrderText}\n    />\n  )\n}\n","/* eslint-disable react/no-array-index-key */\n/* eslint-disable react/destructuring-assignment */\nimport React from 'react'\nimport TextareaAutosize from '@material-ui/core/TextareaAutosize'\nimport withEditing from '../withEditing'\nimport './orderContainers.css'\n\nexport default function TransformedOrderContainer({\n  elementRef,\n  handleClick,\n  transformedOrderText,\n}) {\n  const Editable = ({ handleChange, content }) => (\n    <TextareaAutosize\n      onChange={handleChange}\n      value={content}\n      ref={elementRef}\n      style={{ marginTop: '10px' }}\n      className=\"width-100\"\n      rowsMin={5}\n      cols={40}\n      placeholder=\"Transformed order.\"\n    />\n  )\n\n  const NotEditable = ({ content, button }) => (\n    <div\n      ref={elementRef}\n      style={{ width: transformedOrderText && '100%', marginTop: '12px' }}\n      className=\"not-editable-container\"\n    >\n      {content.length === 0 ? (\n        'Transformed order'\n      ) : (\n        <div className=\"text-container-with-scroll\">\n          {content.split('\\n').map((line, index) => (\n            <div key={index}>{line}</div>\n          ))}\n        </div>\n      )}\n      {button}\n    </div>\n  )\n  const ContainerWithEditing = withEditing(Editable, NotEditable)\n  return <ContainerWithEditing handleUpdate={handleClick} content={transformedOrderText} />\n}\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport TransformIcon from '@material-ui/icons/Transform'\n\nexport default function TransformButton({ handleClick, text = 'Transform', ...rest }) {\n  return (\n    <Button\n      className=\"button-one-third flex-item\"\n      variant=\"outlined\"\n      size=\"small\"\n      style={{ fontSize: '0.8rem', padding: '1px' }}\n      onClick={() => handleClick()}\n      {...rest}\n    >\n      <TransformIcon />\n      {text}\n    </Button>\n  )\n}\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport FileCopyIcon from '@material-ui/icons/FileCopy'\nimport { useSnackbar } from 'notistack'\n\nexport default function CopyButton({ elementRef, disabled }) {\n  const { enqueueSnackbar } = useSnackbar()\n\n  function copyToClipboard() {\n    const tempTextarea = document.createElement('textarea')\n    document.body.appendChild(tempTextarea)\n    // getting text from container (div) or from textarea that holds the transformed order\n    tempTextarea.value = elementRef.current.innerText || elementRef.current.defaultValue\n    tempTextarea.select()\n    document.execCommand('copy')\n    document.body.removeChild(tempTextarea)\n  }\n\n  function handleCopying() {\n    copyToClipboard()\n    enqueueSnackbar('Copied!', { autoHideDuration: 750 })\n  }\n\n  return (\n    <Button\n      disabled={disabled}\n      className=\"button-one-third flex-item\"\n      variant=\"outlined\"\n      size=\"small\"\n      onClick={handleCopying}\n    >\n      Copy <FileCopyIcon />\n    </Button>\n  )\n}\n","import React from 'react'\nimport TransformButton from './TransformButton'\nimport CopyButton from './CopyButton'\n\nexport default function TransformPanel({\n  handleOrderTransformFromText,\n  handleOrderTransformFromEditor,\n  transformDisabled,\n  copyDisabled,\n  elementRef,\n}) {\n  return (\n    <div className=\"order-operations\">\n      <div className=\"block\">\n        <CopyButton disabled={copyDisabled} elementRef={elementRef} />\n        <TransformButton\n          text=\"from text\"\n          disabled={transformDisabled}\n          handleClick={handleOrderTransformFromText}\n        />\n\n        <TransformButton text=\"from editor\" handleClick={handleOrderTransformFromEditor} />\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport NoteAddIcon from '@material-ui/icons/NoteAdd'\n\nexport default function NewOrderButton({ handleClick, className }) {\n  return (\n    <Button className={className} variant=\"contained\" size=\"small\" onClick={handleClick}>\n      New order <NoteAddIcon />\n    </Button>\n  )\n}\n","import React from 'react'\nimport { useHistory } from 'react-router-dom'\nimport Button from '@material-ui/core/Button'\n\nexport default function OrderPoolOpenerButton({ className, orderPoolUrl }) {\n  const history = useHistory()\n\n  const handleClickOpen = () => {\n    history.push(orderPoolUrl)\n  }\n\n  return (\n    <>\n      <Button size=\"small\" className={className} variant=\"contained\" onClick={handleClickOpen}>\n        Order Pool\n      </Button>\n    </>\n  )\n}\n","import React from 'react'\n\nexport default function MessageBeforeButton({ text, className, ...rest }) {\n  return (\n    <div className={`message ${className}`} {...rest}>\n      {text}\n    </div>\n  )\n}\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\n\nexport default function CustomButton({ handleClick, isDisabled, grayScale, content, className }) {\n  const style = grayScale && { color: 'grey' }\n  return (\n    <Button\n      disabled={isDisabled}\n      className={className}\n      variant=\"contained\"\n      size=\"small\"\n      onClick={handleClick}\n    >\n      <span style={{ display: 'flex', ...style }}>{content}</span>\n    </Button>\n  )\n}\n","/* eslint-disable consistent-return */\n// eslint-disable-next-line import/no-cycle\nimport interceptor from './interceptor'\n\nconst baseUrl = '/api/token'\n\nasync function refreshTokens() {\n  await interceptor.axiosInstance.post(baseUrl)\n  await interceptor.axiosInstance.post(`${baseUrl}/is-new`)\n}\n\nexport default { refreshTokens }\n","/* eslint-disable consistent-return */\nimport axios from 'axios'\n// eslint-disable-next-line import/no-cycle\nimport tokenService from './tokens'\n\nconst axiosInstance = axios.create()\n\nfunction setupInterceptor(externalActions) {\n  axiosInstance.interceptors.response.use(\n    (response) => response,\n    async (error) => {\n      const originalRequest = error.config\n      if (error.response.data.error === 'access token expired') {\n        // if tokenService receives an error, request won't be resent\n        await tokenService.refreshTokens()\n        return axiosInstance(originalRequest)\n      }\n      if (\n        error.response.data.error === 'access token missing' ||\n        error.response.data.error === 'invalid access token' ||\n        error.response.data.error === 'refresh token expired' ||\n        error.response.data.error === 'invalid refresh token' ||\n        error.response.data.error === 'refresh token missing'\n      ) {\n        externalActions.notificate()\n        externalActions.logout()\n        throw new Error('logout')\n      }\n      if (error.response.status === 429) {\n        setTimeout(() => null, 1500)\n      }\n      return Promise.reject(error)\n    }\n  )\n}\n\nexport default { axiosInstance, setupInterceptor }\n","import interceptor from './interceptor'\n\nconst baseUrl = '/api/email'\n/**\n * @param {Object} params\n * @param {string} params.orderDetails\n * @param {Object} params.order\n */\n\nexport default async function sendConfirmationEmail(params) {\n  const response = await interceptor.axiosInstance.post(`${baseUrl}/send-confirmation`, params)\n  return response.data\n}\n","import React from 'react'\nimport { useSnackbar } from 'notistack'\n\nimport EmailIcon from '@material-ui/icons/Email'\nimport CustomButton from './CustomButton'\nimport sendConfirmationEmail from '../../../services/emailAPI'\n\nconst EMAIL = 'email'\n\nexport default function ConfirmationEmailSenderButton({\n  email,\n  order,\n  transformedOrderText,\n  statusText,\n  isDisabled,\n  changeStatus,\n  className,\n}) {\n  const { enqueueSnackbar } = useSnackbar()\n\n  function handleEmailSending() {\n    if (email && transformedOrderText) {\n      changeStatus(EMAIL, 'Working', true)\n      return sendConfirmationEmail({\n        orderDetails: transformedOrderText,\n        order,\n        email,\n      })\n        .then((res) => {\n          changeStatus(EMAIL, 'Done', true)\n          enqueueSnackbar(res.message)\n        })\n        .catch((err) => {\n          if (err.message === 'logout') return\n          changeStatus(EMAIL, 'Error', false)\n          enqueueSnackbar(err.response.data.error, { variant: 'error' })\n        })\n    }\n    return enqueueSnackbar('No confirmation found or recipients defined.', {\n      variant: 'warning',\n    })\n  }\n\n  const buttonContent = statusText || (\n    <>\n      <span>Send</span> <EmailIcon />\n    </>\n  )\n\n  return (\n    <CustomButton\n      className={className}\n      isDisabled={isDisabled}\n      grayScale={statusText !== null}\n      handleClick={handleEmailSending}\n      content={buttonContent}\n    />\n  )\n}\n","import interceptor from './interceptor'\n\nconst baseUrl = '/api/sms'\n/**\n * @param {Object} params\n * @param {string} params.phone\n * @param {string} params.msg\n */\n\nexport default async function sendSMS(params) {\n  const response = await interceptor.axiosInstance.post(baseUrl, params)\n  return response.data\n}\n","import React from 'react'\nimport { useSnackbar } from 'notistack'\nimport TextsmsIcon from '@material-ui/icons/Textsms'\nimport sendSMS from '../../../services/smsAPI'\nimport CustomButton from './CustomButton'\n\nconst SMS = 'sms'\n\nexport default function ConfirmationSMSSenderButton({\n  phone,\n  transformedOrderText,\n  statusText,\n  isDisabled,\n  changeStatus,\n  className,\n}) {\n  const { enqueueSnackbar } = useSnackbar()\n\n  async function handleSendingSMS() {\n    try {\n      const msg = transformedOrderText\n      if (msg && phone) {\n        changeStatus(SMS, 'Working', true)\n        const response = await sendSMS({ msg, phone })\n        changeStatus(SMS, 'Done', true)\n        enqueueSnackbar(`${response.message}`)\n      }\n    } catch (err) {\n      if (err.message === 'logout') return\n      changeStatus(SMS, 'Error', false)\n      enqueueSnackbar(err.response?.data.error, { variant: 'error' })\n    }\n  }\n\n  const buttonContent = statusText || (\n    <>\n      <span>Send</span> <TextsmsIcon />\n    </>\n  )\n\n  return (\n    <CustomButton\n      className={className}\n      isDisabled={isDisabled}\n      grayScale={statusText !== null}\n      handleClick={handleSendingSMS}\n      content={buttonContent}\n    />\n  )\n}\n","import interceptor from './interceptor'\n\nconst baseUrl = '/api/calendar'\n\n/**\n * @param {Object} params\n * @param {string} params.entry\n * @param {Object} params.order\n * @param {Array} params.fees\n */\n\nexport default async function addEventToCalendar(params) {\n  const response = await interceptor.axiosInstance.post(baseUrl, params)\n  return response.data\n}\n","/* eslint-disable no-param-reassign */\nimport interceptor from './interceptor'\n\nconst baseUrl = '/api/order-pool'\n/**\n * @param {string} queryName\n * @param {Array} items\n * @return Something like: pages[]=1&pages[]=2&pages[]=3\n */\nfunction makeQueryArray(queryName, items) {\n  return items\n    .map((item, index) => {\n      const isLastItem = index === items.length - 1\n      return `${queryName}[]=${item}${isLastItem ? '' : '&'}`\n    })\n    .join('')\n}\n\nfunction storeOrdersInSessionStorage({ query, orders }) {\n  return new Promise((resolve) =>\n    resolve(\n      sessionStorage.setItem(\n        `order-pool/${query}`,\n        JSON.stringify({\n          validUntil: Date.now() + 5 * 60 * 1000,\n          orders,\n        })\n      )\n    )\n  )\n}\n\nfunction getOrdersFromSessionStorage(query) {\n  return Promise.resolve().then(() => JSON.parse(sessionStorage.getItem(`order-pool/${query}`)))\n}\n\nfunction isStorageUpToDate(query) {\n  return Promise.resolve(\n    (() => {\n      try {\n        const { validUntil } = JSON.parse(sessionStorage.getItem(`order-pool/${query}`))\n        return validUntil > Date.now()\n      } catch {\n        return false\n      }\n    })()\n  )\n}\n\n/**\n * @param {Array} [pages] - Default: [ 1 ]\n * @param {Object} options - Default: { deleted: false, forceUpdate: false }\n * @param {Boolean} [options.deleted]\n * @param {Boolean} [options.forceUpdate]\n */\nasync function get(pages = [1], options = { deleted: false, forceUpdate: false }) {\n  const { deleted, forceUpdate } = options\n\n  const query = `${deleted ? 'deleted=true' : 'deleted=false'}&${makeQueryArray('pages', pages)}`\n\n  if (!forceUpdate && (await isStorageUpToDate(query))) {\n    return getOrdersFromSessionStorage(query).then((data) => data.orders)\n  }\n\n  // example: /api/order-pool/?deleted=false&pages[]=1&pages[]=2\n  const url = `${baseUrl}/?${query}`\n\n  return interceptor.axiosInstance.get(url).then(async (res) => {\n    const { orders } = res?.data\n    await storeOrdersInSessionStorage({ query, orders })\n\n    return orders\n  })\n}\n\nfunction confirm(id) {\n  return interceptor.axiosInstance.put(`${baseUrl}/confirm/${id}`).then((res) => res?.data)\n  // .catch((err) => console.log(err))\n}\n\nasync function remove(id) {\n  const response = await interceptor.axiosInstance.delete(`${baseUrl}/delete/${id}`)\n  return response?.data\n}\n\nasync function retrieve(id) {\n  const response = await interceptor.axiosInstance.put(`${baseUrl}/retrieve/${id}`)\n  return response?.data\n}\n\nfunction getConfirmedOrders(period, options = { onlyCount: true }) {\n  const { periodFrom, periodTo } = period\n\n  return interceptor.axiosInstance\n    .get(`${baseUrl}/confirmed-by-user/?periodFrom=${periodFrom}&periodTo=${periodTo}`)\n    .then((res) => res.data)\n}\n\nfunction add({ order, key }) {\n  return interceptor.axiosInstance.post(`${baseUrl}/add`, { order, key }).then((res) => res?.data)\n}\n\nexport default { get, confirm, remove, retrieve, getConfirmedOrders, add }\n","/* eslint-disable no-param-reassign */\nimport React from 'react'\nimport { useSnackbar } from 'notistack'\nimport EventIcon from '@material-ui/icons/Event'\nimport addEventToCalendar from '../../../services/calendarAPI'\nimport orderPoolAPI from '../../../services/orderPoolAPI'\n\nimport CustomButton from './CustomButton'\n\nconst CALENDAR = 'calendar'\n\nexport default function AddOrderToCalendarButton({\n  order,\n  orderId,\n  statusText,\n  isDisabled,\n  changeStatus,\n  className,\n}) {\n  const { enqueueSnackbar } = useSnackbar()\n\n  async function handleAddingToCalendar() {\n    try {\n      changeStatus(CALENDAR, 'Working', true)\n      const response = await addEventToCalendar({\n        order,\n        calendarEntries: order.makeCalendarEntries(),\n      })\n      if (!orderId) {\n        const { id } = await orderPoolAPI.add({\n          order: order.prepareForSending(),\n          key: 'supersecretorderpoolkey',\n        })\n        orderId = id\n      }\n      await orderPoolAPI.confirm(orderId)\n      changeStatus(CALENDAR, 'Done', true)\n      enqueueSnackbar(`${response?.message}\\n${response?.createdEvent}`)\n    } catch (err) {\n      if (err.message === 'logout') return\n      changeStatus(CALENDAR, 'Error', false)\n      enqueueSnackbar(err.response?.data.error || err?.toString(), { variant: 'error' })\n    }\n  }\n\n  const buttonContent = statusText || (\n    <>\n      <span>Add</span> <EventIcon />\n    </>\n  )\n\n  return (\n    <CustomButton\n      className={className}\n      isDisabled={isDisabled}\n      grayScale={statusText !== null}\n      handleClick={handleAddingToCalendar}\n      content={buttonContent}\n    />\n  )\n}\n","import React, { useState } from 'react'\nimport NewOrderButton from '../NewOrderButton'\nimport OrderPoolOpenerButton from '../OrderPool/OrderPoolOpenerButton'\nimport MessageBeforeButton from './MessageBeforeButton'\nimport ConfirmationEmailSenderButton from './ConfirmationEmailSenderButton'\nimport ConfirmationSMSSenderButton from './ConfirmationSMSSenderButton'\nimport AddOrderToCalendarButton from './AddOrderToCalendarButton'\nimport './OrderOperations.css'\n\nexport default function MainOperationsPanel({\n  order,\n  orderId,\n  transformedOrder,\n  handleResetClick,\n  orderPoolUrl,\n}) {\n  const defaultStatuses = {\n    email: {\n      status: null,\n      disable: false,\n    },\n    sms: {\n      status: null,\n      disable: false,\n    },\n    calendar: {\n      status: null,\n      disable: false,\n    },\n  }\n  const [statuses, setStatuses] = useState(defaultStatuses)\n\n  function changeStatus(name, status, disable) {\n    setStatuses({ ...statuses, [name]: { status, disable } })\n  }\n\n  function emailBlock() {\n    const isDisabled = statuses.email.disable || !(order.email && transformedOrder.text)\n    return (\n      <div className=\"block\">\n        <MessageBeforeButton\n          className={`width-75 ${isDisabled && 'grayedFont'}`}\n          text={`Email to: ${order.email}`}\n        />\n        <ConfirmationEmailSenderButton\n          className=\"width-25\"\n          email={order.email}\n          order={order}\n          statusText={statuses.email.status}\n          isDisabled={isDisabled}\n          transformedOrderText={transformedOrder.text}\n          changeStatus={changeStatus}\n        />\n      </div>\n    )\n  }\n\n  function smsBlock() {\n    const isDisabled = statuses.sms.disable || !(order.phone && transformedOrder.text)\n    return (\n      <div className=\"block\">\n        <MessageBeforeButton\n          className={`width-75 ${isDisabled && 'grayedFont'}`}\n          text={`Sms to: ${order.phone}`}\n        />\n        <ConfirmationSMSSenderButton\n          className=\"width-25\"\n          statusText={statuses.sms.status}\n          isDisabled={isDisabled}\n          phone={order.phone}\n          transformedOrderText={transformedOrder.text}\n          changeStatus={changeStatus}\n        />\n      </div>\n    )\n  }\n\n  function threeButtonsBlock() {\n    const isDisabled = statuses.calendar.disable || !transformedOrder.text\n    return (\n      <div className=\"block\">\n        <NewOrderButton\n          className=\"share-space\"\n          handleClick={() => {\n            setStatuses(defaultStatuses)\n            handleResetClick()\n          }}\n        />\n        <OrderPoolOpenerButton className=\"share-space\" orderPoolUrl={orderPoolUrl} />\n        <AddOrderToCalendarButton\n          className=\"width-25\"\n          statusText={statuses.calendar.status}\n          isDisabled={isDisabled}\n          order={order}\n          orderId={orderId}\n          transformedOrderText={transformedOrder.text}\n          changeStatus={changeStatus}\n        />\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"order-operations\">\n      {emailBlock()}\n      {smsBlock()}\n      {threeButtonsBlock()}\n    </div>\n  )\n}\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport useMediaQuery from '@material-ui/core/useMediaQuery'\nimport { useTheme } from '@material-ui/core/styles'\n\nexport default function ResponsiveDialog({ children, handleClose }) {\n  const theme = useTheme()\n  const fullScreen = useMediaQuery(theme.breakpoints.down('sm'))\n\n  return (\n    <>\n      <Dialog\n        fullScreen={fullScreen}\n        open\n        onClose={handleClose}\n        aria-labelledby=\"responsive-dialog-title\"\n        disableScrollLock\n      >\n        <DialogContent>{children}</DialogContent>\n        <DialogActions>\n          <Button style={{ backgroundColor: 'white' }} variant=\"text\" onClick={handleClose}>\n            Close\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  )\n}\n","import React from 'react'\n\nexport default function LoadingUntillDone({ loading, redirectComponent = null, children }) {\n  return (\n    <>\n      {loading && <p>Loading...</p>}\n      {redirectComponent}\n      {!loading && !redirectComponent && children}\n    </>\n  )\n}\n","/* eslint-disable react/no-array-index-key */\nimport React, { useEffect, useState } from 'react'\nimport Button from '@material-ui/core/Button'\nimport isJSON from 'validator/es/lib/isJSON'\n\nexport default function OrdersList({\n  orders,\n  handleExport,\n  handleDeletion,\n  handleLoadingMoreOrders,\n  labelForDeletion,\n}) {\n  const [ordersWithStyles, setOrdersWithStyles] = useState([])\n\n  useEffect(() => {\n    setOrdersWithStyles(\n      orders.map((order) => ({\n        order: {\n          ...order,\n        },\n        isNew: new Date(order.date).toDateString() === new Date(Date.now()).toDateString(),\n        className: order.confirmed\n          ? 'basic-order-style confirmed-order-style'\n          : 'basic-order-style',\n        hidden: order.confirmed,\n      }))\n    )\n  }, [orders])\n\n  function handleHideOrShow(orderWithStyles) {\n    setOrdersWithStyles([\n      ...ordersWithStyles.map((o) => {\n        if (o.order.id === orderWithStyles.order.id) {\n          return {\n            ...orderWithStyles,\n            hidden: !o.hidden,\n            className: o.hidden ? 'basic-order-style' : 'basic-order-style confirmed-order-style',\n          }\n        }\n        return o\n      }),\n    ])\n  }\n\n  function empty() {\n    return <p>Nothing found</p>\n  }\n\n  function JSONOrder(jsonOrder, id) {\n    return Object.entries(JSON.parse(jsonOrder)).map(([fieldName, fieldValue], index) => (\n      <div\n        key={`${fieldName}${fieldValue}${id}`}\n        style={{\n          minHeight: '1.2rem',\n          backgroundColor: index % 2 !== 0 && 'var(--brand-color-very-light)',\n        }}\n      >\n        <span style={{ fontWeight: 'bold' }}>{fieldName}</span>:{' '}\n        {fieldName === 'dateTime'\n          ? `${new Date(fieldValue).toLocaleDateString()} ${new Date(fieldValue)\n              .toLocaleTimeString()\n              .slice(0, 5)}`\n          : fieldValue}\n      </div>\n    ))\n  }\n\n  function textOrder(txtOrder, id) {\n    return txtOrder.split('\\n').map((line, index) => <div key={`${id}${index}${line}`}>{line}</div>)\n  }\n\n  function list() {\n    return (\n      <>\n        {ordersWithStyles.map((orderWithStyles) => (\n          <div className=\"order-pool-list\" key={orderWithStyles.order.id}>\n            <div className=\"order-top-bar\">\n              <div className=\"order-status-icons-container\">\n                {orderWithStyles.isNew && (\n                  <span className=\"order-status-new-order order-status-icon\">NEW</span>\n                )}\n                <span\n                  className={`order-status-icon ${\n                    orderWithStyles.order.confirmed\n                      ? 'order-status-icon order-status-confirmed'\n                      : 'order-status-icon order-status-notification'\n                  }`}\n                >\n                  {orderWithStyles.order.confirmed ? '✔' : '❕'}{' '}\n                </span>\n              </div>\n              <div className=\"order-actions\">\n                <Button\n                  style={{ padding: 0, fontSize: '0.9rem' }}\n                  variant=\"text\"\n                  size=\"small\"\n                  onClick={() => handleDeletion(orderWithStyles.order.id)}\n                >\n                  {labelForDeletion}\n                </Button>\n                <Button\n                  style={{\n                    padding: 0,\n                    fontSize: '0.8rem',\n                    color: orderWithStyles.order.confirmed && 'var(--brand-color-dark)',\n                  }}\n                  onClick={() => {\n                    handleExport(orderWithStyles.order)\n                  }}\n                  variant=\"text\"\n                  size=\"small\"\n                >\n                  Export\n                </Button>\n                <Button\n                  style={{ padding: 0 }}\n                  variant=\"text\"\n                  size=\"small\"\n                  onClick={() => handleHideOrShow(orderWithStyles)}\n                >\n                  {orderWithStyles.hidden ? 'Show ➕' : 'Hide ➖'}\n                </Button>\n              </div>\n            </div>\n            <div className={orderWithStyles.className}>\n              {isJSON(orderWithStyles.order.text)\n                ? JSONOrder(orderWithStyles.order.text, orderWithStyles.order.id)\n                : textOrder(orderWithStyles.order.text, orderWithStyles.order.id)}\n            </div>\n          </div>\n        ))}\n        <Button onClick={handleLoadingMoreOrders} size=\"small\">\n          Load more\n        </Button>\n      </>\n    )\n  }\n\n  return orders.length === 0 ? empty() : list()\n}\n","import React, { useEffect, useState } from 'react'\nimport TextField from '@material-ui/core/TextField'\nimport Button from '@material-ui/core/Button'\nimport IconButton from '@material-ui/core/IconButton'\nimport RefreshIcon from '@material-ui/icons/Refresh'\nimport DeleteIcon from '@material-ui/icons/Delete'\nimport RestoreIcon from '@material-ui/icons/Restore'\nimport orderPoolAPI from '../../../services/orderPoolAPI'\nimport LoadingUntillDone from '../../LoadingUntillDone'\nimport OrdersList from './OrdersList'\nimport './OrderPool.css'\n\nconst INBOX = 'inbox'\nconst TRASHCAN = 'trashcan'\n\nexport default function OrderPool({ handleExport }) {\n  const [orders, setOrders] = useState([])\n  const [isLoading, setIsloading] = useState(true)\n\n  const [currentTab, setCurrentTab] = useState(INBOX)\n  const [searchOptions, setSearchOptions] = useState({\n    inbox: {\n      pages: [1],\n      searchText: '',\n      showOnlyNotConfirmed: false,\n    },\n    trashcan: {\n      pages: [1],\n      searchText: '',\n      showOnlyNotConfirmed: false,\n    },\n  })\n  const [searchResults, setSearchResults] = useState(orders)\n  const [forceUpdate, setForceUpdate] = useState({ hasToUpdate: false, trigger: 0 })\n  const [pages, setPages] = useState({ inbox: [1], trashcan: [1] })\n\n  const numberOfOrders = orders.length\n  const numberOfUnconfirmedOrders = orders.filter((order) => !order.confirmed).length\n\n  function filterWithSearchText(values, search) {\n    return values.filter((value) => value.text.toLowerCase().includes(search?.toLowerCase().trim()))\n  }\n\n  function filterConfirmed(values, condition) {\n    return condition ? values.filter((value) => value?.confirmed === false) : values\n  }\n\n  function makeSearch(val, bool, searchTarget) {\n    const filteredWithConfirmedAndSearch = filterConfirmed(\n      filterWithSearchText(searchTarget, val),\n      bool\n    )\n    return filteredWithConfirmedAndSearch\n  }\n\n  useEffect(async () => {\n    setIsloading(true)\n    let ordersFromPool\n    try {\n      ordersFromPool =\n        currentTab === INBOX\n          ? await orderPoolAPI.get(pages[currentTab], {\n              forceUpdate: forceUpdate.hasToUpdate,\n            })\n          : await orderPoolAPI.get(pages[currentTab], {\n              deleted: true,\n              forceUpdate: forceUpdate.hasToUpdate,\n            })\n\n      setOrders(ordersFromPool)\n\n      const filteredOrders = makeSearch(\n        searchOptions[currentTab].searchText,\n        searchOptions[currentTab].showOnlyNotConfirmed,\n        ordersFromPool\n      )\n      setSearchResults(filteredOrders)\n      return setIsloading(false)\n    } catch (err) {\n      return err\n    }\n  }, [currentTab, forceUpdate.trigger])\n\n  async function handleLoadingMoreOrders() {\n    const newPage = [pages[currentTab].length + 1]\n    setPages({\n      ...pages,\n      [currentTab]: [...pages[currentTab], ...newPage],\n    })\n    const moreOrdersFromPool =\n      currentTab === INBOX\n        ? await orderPoolAPI.get(newPage)\n        : await orderPoolAPI.get(newPage, { deleted: true })\n\n    const concatenatedOrders = orders.concat(moreOrdersFromPool)\n\n    setOrders(concatenatedOrders)\n\n    const filteredOrders = makeSearch(\n      searchOptions[currentTab].searchText,\n      searchOptions[currentTab].showOnlyNotConfirmed,\n      concatenatedOrders\n    )\n    setSearchResults(filteredOrders)\n  }\n\n  function handleSearchChange(e) {\n    const prevOptsForCurTab = searchOptions[currentTab]\n    setSearchOptions({\n      ...searchOptions,\n      [currentTab]: { ...prevOptsForCurTab, searchText: e.target.value },\n    })\n\n    const filteredOrders = makeSearch(\n      e.target.value,\n      prevOptsForCurTab.showOnlyNotConfirmed,\n      orders\n    )\n\n    setSearchResults(filteredOrders)\n  }\n\n  function handleOnlyNotConfirmedSearch(bool) {\n    const prevOptsForCurTab = searchOptions[currentTab]\n    setSearchOptions({\n      ...searchOptions,\n      [currentTab]: { ...prevOptsForCurTab, showOnlyNotConfirmed: bool },\n    })\n\n    const filteredOrders = makeSearch(prevOptsForCurTab.searchText, bool, orders)\n\n    setSearchResults(filteredOrders)\n  }\n\n  function handleTabBarChange(e) {\n    setCurrentTab(e.target.dataset.tabname)\n  }\n\n  function handleRefresh() {\n    setForceUpdate({\n      ...forceUpdate,\n      trigger: forceUpdate.trigger + 1,\n      hasToUpdate: true,\n    })\n    setTimeout(() =>\n      setForceUpdate({\n        ...forceUpdate,\n        hasToUpdate: false,\n      })\n    )\n  }\n\n  async function handleOrderDeletion(id) {\n    await orderPoolAPI.remove(id)\n    setOrders(orders.filter((order) => order.id !== id))\n    setSearchResults(searchResults.filter((order) => order.id !== id))\n  }\n\n  async function handleRetrieval(id) {\n    await orderPoolAPI.retrieve(id)\n    setOrders(orders.filter((order) => order.id !== id))\n    setSearchResults(searchResults.filter((order) => order.id !== id))\n  }\n\n  const inboxClassName = () =>\n    currentTab === INBOX ? 'tab-panel-item tab-panel-item-selected' : 'tab-panel-item'\n\n  const trashcanClassName = () =>\n    currentTab === TRASHCAN ? 'tab-panel-item tab-panel-item-selected' : 'tab-panel-item'\n\n  return (\n    <>\n      <div className=\"tab-panel\">\n        <Button onClick={handleTabBarChange} className=\"p-0\" variant=\"text\" size=\"small\">\n          <h3 data-tabname={INBOX} className={inboxClassName()}>\n            Inbox\n          </h3>\n        </Button>\n        <Button onClick={handleTabBarChange} className=\"p-0\" variant=\"text\" size=\"small\">\n          <h3 data-tabname={TRASHCAN} className={trashcanClassName()}>\n            Trashcan\n          </h3>\n        </Button>\n        <IconButton\n          style={{ marginLeft: 'auto', marginRight: '12px' }}\n          onClick={handleRefresh}\n          className=\"p-0\"\n          variant=\"text\"\n          size=\"small\"\n        >\n          <RefreshIcon />\n        </IconButton>\n      </div>\n      <div className=\"filters-tab\">\n        <span className=\"filters-tab-orders-count\">\n          {searchResults.length}/{orders.length}\n        </span>\n        <TextField\n          className=\"flex-item\"\n          type=\"text\"\n          name=\"searchText\"\n          placeholder=\"Search\"\n          value={searchOptions[currentTab].searchText}\n          onChange={handleSearchChange}\n        />\n        {numberOfUnconfirmedOrders > 0 && (\n          <Button\n            className=\"p-0 filters-tab-orders-status-icon\"\n            size=\"small\"\n            onClick={() =>\n              handleOnlyNotConfirmedSearch(!searchOptions[currentTab].showOnlyNotConfirmed)\n            }\n          >\n            <span style={{ fontSize: '1rem' }}>\n              {searchOptions[currentTab].showOnlyNotConfirmed\n                ? numberOfOrders\n                : numberOfUnconfirmedOrders}\n            </span>\n            <span\n              className={`order-status-icon order-status-notification ${\n                searchOptions[currentTab].showOnlyNotConfirmed && 'order-status-icon-selected'\n              }`}\n            >\n              {searchOptions[currentTab].showOnlyNotConfirmed ? '✔&❕' : '❕'}\n            </span>\n          </Button>\n        )}\n      </div>\n      <LoadingUntillDone loading={isLoading}>\n        <OrdersList\n          orders={searchResults}\n          handleExport={handleExport}\n          labelForDeletion={currentTab === TRASHCAN ? <RestoreIcon /> : <DeleteIcon />}\n          handleDeletion={currentTab === TRASHCAN ? handleRetrieval : handleOrderDeletion}\n          handleLoadingMoreOrders={handleLoadingMoreOrders}\n        />\n      </LoadingUntillDone>\n    </>\n  )\n}\n","import React from 'react'\nimport { useHistory } from 'react-router-dom'\nimport ResponsiveDialog from '../../ResponsiveDialog'\nimport OrderPool from './OrderPool'\n\nexport default function OrderPoolDialog({ handleExport }) {\n  const history = useHistory()\n\n  const handleClose = () => {\n    history.goBack()\n  }\n\n  return (\n    <>\n      <ResponsiveDialog handleClose={handleClose}>\n        <OrderPool\n          handleExport={(o) => {\n            handleExport(o)\n            handleClose()\n          }}\n        />\n      </ResponsiveDialog>\n    </>\n  )\n}\n","/* eslint-disable no-param-reassign */\n/* eslint-disable no-control-regex */\n/* eslint-disable no-useless-escape */\nimport services from '../data/services.json'\nimport paymentTypes from '../data/paymentTypes.json'\n\nfunction cannotFind(name) {\n  return `Cannot find ${name}`\n}\n\nfunction removeOrdinalSuffix(dateStr) {\n  return dateStr.replace(/(?<=\\d+)(th|rd|st|nd)/, '')\n}\n\nexport default class TextOrder {\n  constructor(textOrder) {\n    this.textOrder = TextOrder.initialCleanup(textOrder)\n  }\n\n  get dateTime() {\n    const dateRe = /(?<=Date and time: \\w+, )\\w+ \\d+(th|rd|st|nd)? \\w+/.exec(this.textOrder)\n\n    if (!dateRe) throw new Error(cannotFind('date'))\n\n    const date = new Date(`${removeOrdinalSuffix(dateRe[0])}Z`)\n    const time = /\\d+:\\d+/.exec(this.textOrder)[0]\n\n    const dateTime = new Date(`\n    ${date.getFullYear()}\n    ${date.getMonth() + 1}\n    ${date.getDate()}\n    ${time}`)\n\n    return dateTime\n  }\n\n  get duration() {\n    const duration = /\\d+(\\.\\d+)?(?=\\sh.)/.exec(this.textOrder)\n\n    if (!duration) throw new Error(cannotFind('duration'))\n\n    return duration[0]\n  }\n\n  get paymentType() {\n    const beginMarker = 'Payment Type: '\n    const endMarker = 'PRICE'\n\n    const beginIndex = this.textOrder.indexOf(beginMarker) + beginMarker.length\n    const endIndex = this.textOrder.indexOf(endMarker)\n\n    const paymentTypeField = this.textOrder.slice(beginIndex, endIndex).trim()\n\n    const nonWordChars = paymentTypeField\n      .match(/\\W+/g)\n      .filter((c) => c !== '/' && c !== ' ' && c !== 'ä')\n\n    const endIndex2 = paymentTypeField.indexOf(nonWordChars[0].trim())\n\n    const paymentType = paymentTypeField.slice(0, endIndex2).trim()\n\n    if (!paymentType) throw new Error(cannotFind('payment type'))\n\n    // does payment type names include our payment type\n    if (!paymentTypes.map((p) => p.name).includes(paymentType)) {\n      throw new Error('Unrecognized payment type')\n    }\n    return paymentType\n  }\n\n  get boxesAmount() {\n    const beginIndex = this.textOrder.indexOf('— Amount: ')\n    const endIndex = this.textOrder.indexOf('— Price')\n    const amountLine = this.textOrder.slice(beginIndex, endIndex)\n    const re = /\\d+/\n    const amount = amountLine && amountLine.match(re)[0]\n    return amount\n  }\n\n  get boxesDeliveryDate() {\n    const beginIndex =\n      this.textOrder.indexOf('— Booking time starts: ') + '— Booking time starts: '.length\n    const endIndex = this.textOrder.indexOf('— Booking time ends')\n    const deliveryLine = this.textOrder.slice(beginIndex, endIndex).replace()\n\n    const date = new Date(removeOrdinalSuffix(deliveryLine)).toISOString()\n\n    return date\n  }\n\n  get boxesPickupDate() {\n    const beginIndex =\n      this.textOrder.indexOf('— Booking time ends: ') + '— Booking time ends: '.length\n    const endIndex = this.textOrder.indexOf('— Self pickup')\n    const deliveryLine = this.textOrder.slice(beginIndex, endIndex).replace()\n\n    const date = new Date(removeOrdinalSuffix(deliveryLine)).toISOString()\n\n    return date\n  }\n\n  get selfPickup() {\n    const startMarker = 'Self pickup: '\n    const endMarker = '— Self return'\n\n    const fromIndex = this.textOrder.indexOf(startMarker) + startMarker.length\n    const endIndex = this.textOrder.indexOf(endMarker)\n\n    const value = this.textOrder.slice(fromIndex, endIndex).trim()\n\n    return value === 'Yes'\n  }\n\n  get selfReturn() {\n    const startMarker = 'Self return: '\n    const endMarker = 'Payment Type'\n\n    const fromIndex = this.textOrder.indexOf(startMarker) + startMarker.length\n    const endIndex = this.textOrder.indexOf(endMarker)\n\n    const value = this.textOrder.slice(fromIndex, endIndex).trim()\n\n    return value === 'Yes'\n  }\n\n  get movingBoxesPrice() {\n    const beginIndex = this.textOrder.indexOf('— Price: ')\n    const endIndex = this.textOrder.indexOf('— Booking time start')\n    const priceLine = this.textOrder.slice(beginIndex, endIndex)\n    const re = /\\d+/\n    const price = priceLine && priceLine.match(re)[0]\n    return price\n  }\n\n  get serviceName() {\n    const startMarker = 'Service: '\n    const endMarker = 'Accessories'\n    const fromIndex = this.textOrder.indexOf(startMarker) + startMarker.length\n    const endIndex = this.textOrder.indexOf(endMarker)\n    const serviceName = this.textOrder.slice(fromIndex, endIndex).trim()\n\n    if (!serviceName) {\n      throw new Error(cannotFind('service name'))\n    }\n\n    // Check if service with that name exists\n    const service = services.find((s) => s.name === serviceName)\n\n    if (!service) throw new Error('Unrecognized service name')\n\n    return serviceName\n  }\n\n  get addresses() {\n    const beginMarkers = ['Start location:', 'End location:']\n    const endMarkers = ['End location', 'Name']\n    const addresses = []\n\n    beginMarkers.forEach((marker, index) => {\n      const beginIndex = this.textOrder.indexOf(marker) + marker.length\n      const endIndex = this.textOrder.indexOf(endMarkers[index])\n\n      const rawAddress = this.textOrder.slice(beginIndex, endIndex).replaceAll(',', '').trim()\n\n      const cityField = rawAddress.slice(0, rawAddress.indexOf(' / '))\n\n      // Finnish postal codes are all 5 digits long\n      let postalCode = rawAddress.match(/\\d{5}/)\n      postalCode = (postalCode && postalCode[0]) || ''\n\n      const addressField = rawAddress.slice(rawAddress.indexOf(' / ') + ' / '.length)\n\n      let city = cityField.match(/\\D+/)\n      city = city && city[0]\n      let address = addressField.replace(postalCode, '')\n      address = address || null\n\n      const numbersInAddress = /\\d+/.test(addressField)\n\n      // User provided address instead of city and city instead of address\n      if (!numbersInAddress || (addressField.includes(postalCode) && addressField.length < 15)) {\n        address = cityField.replace(postalCode, '')\n        city = addressField.match(/\\D+/)\n        city = city && city[0]\n      }\n\n      if (address.includes(city)) {\n        address = address.replace(city, '')\n      }\n\n      if (index === 0 && !address) throw new Error(cannotFind('address'))\n\n      addresses.push(`${address}, ${postalCode} ${city}`.replace(/\\s+/g, ' ').trim())\n    })\n\n    return addresses\n  }\n\n  get address() {\n    return this.addresses[0]\n  }\n\n  get destination() {\n    // destructuring doesn't throw an error if destination is undefined\n    const [, destination] = this.addresses\n    return destination\n  }\n\n  get name() {\n    const beginMarker = 'Name: '\n    const endMarker = 'Email'\n\n    const beginIndex = this.textOrder.indexOf(beginMarker) + beginMarker.length\n    const endIndex = this.textOrder.indexOf(endMarker)\n\n    const name = this.textOrder.slice(beginIndex, endIndex).trim()\n\n    if (!name) throw new Error(cannotFind('name'))\n\n    return name\n  }\n\n  get email() {\n    // regex from internet\n    const email = /(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])/.exec(\n      this.textOrder\n    )\n\n    if (!email) throw new Error(cannotFind('email'))\n\n    return email[0]\n  }\n\n  get phone() {\n    // regex from internet\n    const phone = /(?<=Phone: )[+]*[(]{0,1}[0-9]{1,4}[)]{0,1}[-\\s\\./0-9]*/.exec(this.textOrder)\n\n    if (!phone) throw new Error(cannotFind('phone'))\n\n    return phone[0].trim()\n  }\n\n  get comment() {\n    let comment = /(?<=Comment: )(.*\\s*)*/.exec(this.textOrder)\n    comment = comment ? comment[0] : ''\n\n    const re = /\\n\\n\\-\\-\\nTämä viesti lähetettiin sivustolta Paku24\\.fi \\(https:\\/\\/paku24\\.fi\\)/\n    const footer = re.exec(comment)\n\n    if (footer) {\n      comment = comment.replace(re, '')\n    }\n\n    return comment\n  }\n\n  // get vanSize() {\n\n  // }\n\n  static initialCleanup(str) {\n    const splitStr = str.split('\\n')\n    const noRebundantWhitespace = []\n    splitStr.forEach((line) => noRebundantWhitespace.push(line.trim()))\n    const string = noRebundantWhitespace\n      .join('\\n')\n      .replaceAll('————————', '')\n      .replaceAll('------------------------', '')\n\n    return string\n  }\n}\n","/* eslint-disable no-console */\nimport isJSON from 'validator/es/lib/isJSON'\nimport dayjs from 'dayjs'\nimport fees from '../data/fees.json'\nimport services from '../data/services.json'\nimport TextOrder from './TextOrder'\nimport paymentTypes from '../data/paymentTypes.json'\nimport distances from '../data/distances.json'\nimport boxesSettings from '../data/boxes.json'\nimport icons from '../data/icons.json'\n\nconst defaultOrder = {\n  dateTime: new Date(),\n  duration: 1,\n  serviceName: services[0].name,\n  paymentType: paymentTypes[0].name,\n  address: '',\n  destination: '',\n  name: '',\n  email: '',\n  phone: '',\n  boxesDeliveryDate: new Date().toISOString(),\n  boxesPickupDate: new Date().toISOString(),\n  boxesAmount: 0,\n  selfPickup: false,\n  selfReturn: false,\n  comment: '',\n  distance: distances.insideCapital,\n  hsy: false,\n  altColorPalette: false,\n  XL: false,\n}\nconst orderClassPropertyNames = Object.keys(defaultOrder)\n\nexport default class Order {\n  constructor(order) {\n    for (const propertyName of orderClassPropertyNames) {\n      this[propertyName] = order[propertyName] ?? defaultOrder[propertyName]\n    }\n    this.dateTime = new Date(order.dateTime)\n  }\n\n  get time() {\n    return this.dateTime.toTimeString().slice(0, 5)\n  }\n\n  get servicePrice() {\n    const service = services.find((s) => s.name === this.serviceName)\n    return this.XL ? service.priceXL : service.price\n  }\n\n  get boxesPrice() {\n    const duration = dayjs(this.boxesPickupDate).diff(\n      dayjs(this.boxesDeliveryDate),\n      boxesSettings.timeUnit\n    )\n\n    let price = this.boxesAmount * boxesSettings.price * duration\n\n    if (!this.selfPickup) {\n      price += boxesSettings.deliveryFee\n    }\n    if (!this.selfReturn) {\n      price += boxesSettings.pickupFee\n    }\n\n    return price\n  }\n\n  get ISODateString() {\n    return `${this.dateTime.toISOString().split('T')[0]}T${this.time}`\n  }\n\n  get confirmationDateString() {\n    let dd = this.dateTime.getDate()\n    let mm = this.dateTime.getMonth() + 1\n    const yyyy = this.dateTime.getFullYear()\n\n    if (dd < 10) {\n      dd = `0${dd}`\n    }\n    if (mm < 10) {\n      mm = `0${mm}`\n    }\n\n    return `${dd}-${mm}-${yyyy}`\n  }\n\n  get fees() {\n    const timeInNumberType = this.time.split(':')[0] * 1\n\n    const dayOFWeek = this.dateTime.getDay()\n    const dayOfMonth = this.dateTime.getDate()\n    const endOfMonth = [\n      new Date(this.dateTime.getFullYear(), this.dateTime.getMonth() + 1, 0).getDate(),\n      1,\n    ]\n\n    const weekEndFeeApplicable = dayOFWeek === 6 || dayOFWeek === 0\n    const endOfMonthFeeApplicable = !weekEndFeeApplicable && endOfMonth.includes(dayOfMonth)\n    const morningFeeApplicable = timeInNumberType < 8\n    const nightFeeApplicable = timeInNumberType >= 20\n    const paymentFeeApplicable =\n      this.paymentType === 'Lasku' ||\n      this.paymentType === 'Lasku/Osamaksu' ||\n      this.paymentType === 'Invoice/Instalment payment'\n\n    return [\n      weekEndFeeApplicable && fees.weekend,\n      endOfMonthFeeApplicable && fees.firstOrLastDayOfTheMonth,\n      morningFeeApplicable && fees.morning,\n      nightFeeApplicable && fees.night,\n      paymentFeeApplicable && fees.bill,\n    ].filter((f) => f !== false)\n  }\n\n  printFees() {\n    const template = '\\n@feeName\\n@feeAmount'\n    // template needs to be as long as the fees array\n    let printed = template.repeat(this.fees.length)\n    this.fees.forEach((fee) => {\n      printed = printed.replace('@feeName', fee.name.toUpperCase())\n      printed = printed.replace('@feeAmount', `${fee.amount}€`)\n    })\n\n    return printed\n  }\n\n  /**\n   * Deletes properties hsy, altColorPalette and distance.\n   * Transforms to JSON\n   */\n  prepareForSending() {\n    const filtered = this\n    delete filtered.hsy\n    delete filtered.altColorPalette\n    delete filtered.distance\n    return JSON.stringify(filtered)\n  }\n\n  static getEventForCalendar(formattedStr, startMarker) {\n    return formattedStr.slice(formattedStr.indexOf(startMarker))\n  }\n\n  static setupOrderFromText(text) {\n    return new Promise((resolve) => {\n      if (isJSON(text)) {\n        resolve(new Order(JSON.parse(text)))\n      }\n\n      const orderArguments = {}\n      const textOrder = new TextOrder(text)\n      for (const propertyName of orderClassPropertyNames) {\n        orderArguments[propertyName] = textOrder[propertyName]\n      }\n      resolve(new Order(orderArguments))\n    })\n  }\n\n  static default() {\n    return new Order(defaultOrder)\n  }\n\n  makeIcons() {\n    const sizeIcon = this.XL ? icons.size.XL : ''\n    const distanceIcon = icons.misc[this.distance] || ''\n    const feeIcons = this.fees\n      .map((fee) => {\n        if (fee.name === 'Laskulisä') return ''\n\n        return icons.fees[fee.name]\n      })\n      .reduce((acc, cur) => acc + cur, '')\n    const serviceIcons = icons.service[this.serviceName]\n    const paymentIcons = icons.payment[this.paymentType]\n\n    return {\n      move: `${sizeIcon}${distanceIcon}${feeIcons}${serviceIcons}${paymentIcons}`,\n      boxesDelivery: icons.boxes.delivery,\n      boxesPickup: icons.boxes.pickup,\n    }\n  }\n\n  makeCalendarEntries() {\n    const moveTitle = `${this.makeIcons().move}${this.time}(${this.duration}h)`\n\n    const boxesDeliveryTitle = `${this.boxesAmount} ${this.makeIcons().boxesDelivery} ${\n      this.boxesDeliveryDate.includes('T')\n        ? `${dayjs(this.boxesDeliveryDate).format('HH:mm')} `\n        : ''\n    }`\n\n    const boxesPickupTitle = `NOUTO ${this.boxesAmount} ${this.makeIcons().boxesPickup} ${\n      this.boxesPickupDate.includes('T') ? `${dayjs(this.boxesPickupDate).format('HH:mm')} ` : ''\n    }`\n\n    return {\n      move: {\n        title: `${moveTitle} ${this.name}`,\n        description: `${moveTitle}${this.format(\n          {\n            title: 0,\n            date: 0,\n            time: 0,\n            duration: 0,\n            paymentType: 0,\n          },\n          { removeFirstHeading: true }\n        )}`,\n      },\n      boxesDelivery: {\n        title: `${boxesDeliveryTitle}${this.name}`,\n        description: `${boxesDeliveryTitle}${this.format(\n          {\n            address: 1,\n            name: 1,\n            email: 1,\n            phone: 1,\n            boxes: 1,\n          },\n          { removeFirstHeading: true }\n        )}`,\n      },\n      boxesPickup: {\n        title: `${boxesPickupTitle}${this.name}`,\n        description: `${boxesPickupTitle}${this.format(\n          {\n            destination: 1,\n            name: 1,\n            email: 1,\n            phone: 1,\n            boxes: 1,\n          },\n          { removeFirstHeading: true }\n        )}`,\n      },\n    }\n  }\n\n  format(opts = {}, { removeFirstHeading = false } = {}) {\n    const defaultOpts = {\n      title: 1,\n      date: 1,\n      time: 1,\n      duration: 1,\n      paymentType: 1,\n      address: 1,\n      destination: 1,\n      name: 1,\n      email: 1,\n      phone: 1,\n      boxes: 1,\n      comment: 1,\n    }\n\n    let options = defaultOpts\n\n    // Include only selected fields\n    if (Object.keys(opts).length > 0 && Object.values(opts).includes(1)) {\n      options = opts\n    }\n    // Do not include selected fields but include the rest\n    else if (Object.values(opts).includes(0)) {\n      options = {\n        ...defaultOpts,\n        ...opts,\n      }\n    }\n\n    let transformed = ''\n\n    try {\n      if (options.title) {\n        transformed += 'VARAUKSEN TIEDOT\\n'\n      }\n      if (options.date) {\n        transformed += `${this.confirmationDateString}\\n`\n      }\n      if (options.time) {\n        transformed += 'ALKAMISAIKA\\n'\n        transformed += `Klo ${this.time} (+/-15min)\\n`\n      }\n      if (options.duration) {\n        transformed += 'ARVIOITU KESTO\\n'\n        transformed += `${this.duration}h (${this.servicePrice}€/h, ${this.serviceName})\\n`\n      }\n      if (options.paymentType) {\n        transformed += 'MAKSUTAPA\\n'\n        transformed += `${this.paymentType}${this.printFees()}\\n`\n      }\n      if (options.address) {\n        transformed += 'LÄHTÖPAIKKA\\n'\n        transformed += `${this.address}\\n`\n      }\n      if (options.destination && this.destination.length > 5) {\n        transformed += 'MÄÄRÄNPÄÄ\\n'\n        transformed += `${this.destination}\\n`\n      }\n      if (options.name) {\n        transformed += 'NIMI\\n'\n        transformed += `${this.name}\\n`\n      }\n      if (options.email && this.email) {\n        transformed += 'SÄHKÖPOSTI\\n'\n        transformed += `${this.email}\\n`\n      }\n      if (options.phone) {\n        transformed += 'PUHELIN\\n'\n        transformed += `${this.phone}\\n`\n      }\n\n      if (options.boxes && this.boxesAmount > 0) {\n        const boxDelDateStr = dayjs(this.boxesDeliveryDate).format(\n          `DD-MM-YYYY ${this.boxesDeliveryDate.includes('T') ? 'HH:mm' : ''}`\n        )\n        const boxPickDateStr = dayjs(this.boxesPickupDate).format(\n          `DD-MM-YYYY ${this.boxesPickupDate.includes('T') ? 'HH:mm' : ''}`\n        )\n\n        transformed += 'MUUTTOLAATIKOT\\n'\n        transformed += `${boxDelDateStr} - ${boxPickDateStr}\\n`\n        if (this.selfPickup) transformed += 'Itse nouto\\n'\n        if (this.selfReturn) transformed += 'Itse palautus\\n'\n        transformed += `Määrä: ${this.boxesAmount} kpl\\n`\n        transformed += `Hinta: ${this.boxesPrice}€\\n`\n      }\n\n      if (options.comment && this.comment) {\n        transformed += 'LISÄTIETOJA\\n'\n        transformed += `${this.comment}\\n`\n      }\n\n      if (removeFirstHeading) {\n        const ar = transformed.split('\\n')\n        ar.shift()\n\n        transformed = ar.join('\\n')\n      }\n    } catch (err) {\n      console.error(err)\n    }\n\n    return transformed\n  }\n}\n","import React, { useState, useRef, useEffect } from 'react'\nimport { useSnackbar } from 'notistack'\nimport { Route } from 'react-router-dom'\n\nimport './Confirmator.css'\nimport Editor from './Editor'\n\nimport OrderSettings from './OrderSettings'\nimport ValidationDisplay from './ValidationDisplay'\nimport RawOrderContainer from './OrderContainers/RawOrderContainer'\nimport TransformedOrderContainer from './OrderContainers/TransformedOrderContainer'\nimport TransformPanel from './OrderOperations/TransformPanel'\nimport MainOperationsPanel from './OrderOperations/MainOperationsPanel'\nimport OrderPoolDialog from './OrderPool/OrderPoolDialog'\n\nimport Order from '../../helpers/Order'\n\nexport default function Confirmator() {\n  const [rawOrder, setRawOrder] = useState({ text: '', id: null })\n  const [transformedOrder, setTransformedOrder] = useState({\n    text: '',\n    id: null,\n  })\n\n  const [order, setOrder] = useState(Order.default())\n\n  useEffect(() => {\n    const savedOrder = localStorage.getItem('confirmator_order')\n    const savedRawOrder = localStorage.getItem('confirmator_rawOrder')\n    savedOrder && setOrder(new Order(JSON.parse(savedOrder)))\n    savedRawOrder && setRawOrder(JSON.parse(savedRawOrder))\n  }, [])\n\n  useEffect(() => {\n    localStorage.setItem('confirmator_order', JSON.stringify(order))\n  }, [order])\n  useEffect(() => {\n    localStorage.setItem('confirmator_rawOrder', JSON.stringify(rawOrder))\n  }, [rawOrder])\n\n  const { enqueueSnackbar } = useSnackbar()\n\n  const rawOrderOrderContainerRef = useRef(null)\n  const transformedOrderContainerRef = useRef(null)\n\n  function reset() {\n    setRawOrder({ text: '', id: null })\n    setTransformedOrder({ text: '', id: null })\n    setOrder(Order.default())\n  }\n\n  function handleOrderChange(e) {\n    const changedOrder = new Order({\n      ...order,\n      [e.target.name]: e.target.type === 'checkbox' ? e.target.checked : e.target.value,\n    })\n    return setOrder(changedOrder)\n  }\n\n  function handleRawOrderUpdate(rawO) {\n    // Raw order has an id and is an object if it is exported from DB otherwise it's a plain string\n    setRawOrder({ ...rawOrder, id: rawO.id || null, text: rawO.text || rawO })\n  }\n  function handleTransformedOrderUpdate(transO) {\n    setTransformedOrder({ ...transformedOrder, text: transO })\n  }\n\n  function handleOrderTransformFromText(o = rawOrder) {\n    Order.setupOrderFromText(o.text)\n      .then((orderFromText) => {\n        setOrder(orderFromText)\n        return setTransformedOrder({\n          id: o.id,\n          text: orderFromText.format(),\n        })\n      })\n      .catch((err) => enqueueSnackbar(err.message, { variant: 'error' }))\n  }\n\n  function handleOrderTransformFromEditor() {\n    return setTransformedOrder({ id: rawOrder.id, text: order.format() })\n  }\n\n  function handleOrderPoolExport(o) {\n    handleRawOrderUpdate(o)\n    handleOrderTransformFromText(o)\n    setTimeout(() => rawOrderOrderContainerRef.current.scrollIntoView({ smooth: true }), 700)\n  }\n\n  return (\n    <div className=\"flex-container\">\n      <RawOrderContainer\n        elementRef={rawOrderOrderContainerRef}\n        rawOrderText={rawOrder.text}\n        handleClick={handleRawOrderUpdate}\n      />\n\n      <Editor order={order} handleChange={handleOrderChange} />\n\n      <TransformPanel\n        elementRef={transformedOrderContainerRef}\n        transformDisabled={!rawOrder.text}\n        copyDisabled={!transformedOrder.text}\n        handleOrderTransformFromText={handleOrderTransformFromText}\n        handleOrderTransformFromEditor={handleOrderTransformFromEditor}\n      />\n\n      <TransformedOrderContainer\n        elementRef={transformedOrderContainerRef}\n        transformedOrderText={transformedOrder.text}\n        handleClick={handleTransformedOrderUpdate}\n      />\n\n      <OrderSettings handleChange={handleOrderChange} order={order} />\n      <ValidationDisplay order={order} shouldValidate={transformedOrder.text} />\n      <MainOperationsPanel\n        order={order}\n        orderId={rawOrder.id}\n        transformedOrder={transformedOrder}\n        handleResetClick={reset}\n        orderPoolUrl=\"/confirmator/order-pool\"\n      />\n      <Route path=\"/confirmator/order-pool\">\n        <OrderPoolDialog handleExport={handleOrderPoolExport} />\n      </Route>\n    </div>\n  )\n}\n","import React, { useState, useEffect } from 'react'\nimport TextField from '@material-ui/core/TextField'\nimport Popper from '@material-ui/core/Popper'\nimport Table from '@material-ui/core/Table'\nimport TableBody from '@material-ui/core/TableBody'\nimport TableCell from '@material-ui/core/TableCell'\nimport TableContainer from '@material-ui/core/TableContainer'\nimport TableHead from '@material-ui/core/TableHead'\nimport TableRow from '@material-ui/core/TableRow'\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener'\nimport Paper from '@material-ui/core/Paper'\nimport IconButton from '@material-ui/core/IconButton'\nimport dayjs from 'dayjs'\nimport isoWeek from 'dayjs/plugin/isoWeek'\nimport isSameOrAfter from 'dayjs/plugin/isSameOrAfter'\nimport './Statistics.css'\nimport orderPoolApi from '../../services/orderPoolAPI'\n\ndayjs.extend(isSameOrAfter)\ndayjs.extend(isoWeek)\n\n/**\n * @param {Object} period\n * @param {dayjsdate} period.periodFrom\n * @param {dayjsdate} period.periodTo\n * @return {Array} Example: [{ periodFrom: '2021-05-23T21:00:00.000Z', periodTo: '2021-05-30T21:00:00.000Z'}]\n */\n\nfunction splitPeriodToWeeks({ periodFrom, periodTo }) {\n  const numberOfWeeksInPeriod = Math.ceil(periodTo.diff(periodFrom, 'week', true))\n\n  // A turn of a year example: [50, 51, 52, 53, 54, 55]\n  const weekNumbers = Array(numberOfWeeksInPeriod)\n    .fill(periodFrom.isoWeek()) // The first week of the period\n    .map((number, count) => number + count)\n\n  const startYear = periodFrom.startOf('isoWeek').year()\n\n  const weeks = weekNumbers.map((weekNumber) => ({\n    periodFrom: dayjs().year(startYear).isoWeek(weekNumber).startOf('isoWeek').toISOString(),\n    periodTo: dayjs()\n      .year(startYear)\n      .isoWeek(weekNumber + 1)\n      .startOf('isoWeek')\n      .toISOString(),\n  }))\n\n  return weeks\n}\n\nfunction splitOrdersByPeriods(orders, periods) {\n  const splitted = []\n  periods.forEach((period) => {\n    const filtered = orders.filter(\n      (o) =>\n        dayjs(o.confirmedAt).isSameOrAfter(dayjs(period.periodFrom)) &&\n        dayjs(o.confirmedAt).isBefore(dayjs(period.periodTo))\n    )\n    splitted.push(filtered)\n  })\n\n  return splitted\n}\n\nfunction createData(name, orderCount) {\n  return { name, orderCount }\n}\n\n/**\n * @returns {array} Array of objects\n */\nfunction makeRows(labels, data) {\n  return data.map((d, i) => createData(labels[i], d))\n}\n\nfunction makeWeekRows(orders, weeks) {\n  return makeRows(\n    orders.map((o, i) => `Week ${dayjs(weeks[i].periodFrom).isoWeek()}`),\n    orders.map((o) => o.length)\n  )\n}\n\nfunction makeTotalRow(orders) {\n  return makeRows(\n    ['Total during specified period'],\n    orders.map((o) => o.length)\n  )\n}\n\nexport default function Statistics() {\n  const defStartDate = dayjs().startOf('month')\n  const defEndDate = defStartDate.add(1, 'month').startOf('month')\n  const [period, setPeriod] = useState({\n    periodFrom: defStartDate,\n    periodTo: defEndDate,\n  })\n  const [ordersByDays, setOrdersByDays] = useState({})\n  const [anchorEl, setAnchorEl] = useState(null)\n\n  const [ordersByWeeks, setOrdersByWeeks] = useState([])\n  const [rows, setRows] = useState([])\n\n  useEffect(async () => {\n    const weeks = splitPeriodToWeeks(period)\n    const firstWeek = weeks[0]\n    const lastWeek = weeks[weeks.length - 1]\n\n    const {\n      confirmedOrders: confirmedOrdersOfAllWeeksOfPeriod,\n    } = await orderPoolApi.getConfirmedOrders({\n      periodFrom: firstWeek.periodFrom,\n      periodTo: lastWeek.periodTo,\n    })\n\n    const ordsByWeeks = splitOrdersByPeriods(confirmedOrdersOfAllWeeksOfPeriod, weeks)\n\n    const ordersOfWholePeriod = splitOrdersByPeriods(confirmedOrdersOfAllWeeksOfPeriod, [period])\n\n    const weekRows = makeWeekRows(ordsByWeeks, weeks)\n    const totalRow = makeTotalRow(ordersOfWholePeriod)\n\n    setOrdersByWeeks(ordsByWeeks)\n    setRows([...weekRows, ...totalRow])\n  }, [period])\n\n  function handlePeriodChange(e) {\n    setPeriod({ ...period, [e.target.name]: dayjs(e.target.value) })\n  }\n\n  function showOrdersByDay(e) {\n    setAnchorEl(e.currentTarget)\n\n    const ordersOfSelectedWeek = ordersByWeeks[e.currentTarget.dataset.rownumber]\n\n    const ordByDays = {}\n\n    ordersOfSelectedWeek.forEach((order) => {\n      const day = new Date(order.confirmedAt).toLocaleDateString('en-US', { weekday: 'long' })\n      if (ordByDays[day] == null) {\n        ordByDays[day] = []\n      }\n      ordByDays[day].push(order)\n    })\n\n    setOrdersByDays(ordByDays)\n  }\n\n  const open = Boolean(anchorEl)\n  const shouldApplyEventHandler = (row) => row.orderCount > 0 && !row.name.includes('Total')\n\n  return (\n    <div className=\"statistics\">\n      <div className=\"row-flex-start gap-1 dates\">\n        <TextField\n          onChange={handlePeriodChange}\n          name=\"periodFrom\"\n          label=\"Start of period\"\n          type=\"date\"\n          value={period.periodFrom.format('YYYY-MM-DD')}\n        />\n        <TextField\n          onChange={handlePeriodChange}\n          name=\"periodTo\"\n          label=\"End of period\"\n          type=\"date\"\n          value={period.periodTo.format('YYYY-MM-DD')}\n        />\n      </div>\n      <TableContainer component={Paper}>\n        <Table aria-label=\"statistics table\">\n          <TableHead>\n            <TableRow>\n              <TableCell>Statistics</TableCell>\n              <TableCell align=\"right\">Confirmed orders</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {rows.map((row, rowNumber) => (\n              <TableRow key={row.name}>\n                <TableCell component=\"th\" scope=\"row\">\n                  {row.name}\n                </TableCell>\n                <TableCell align=\"right\">\n                  <Popper style={{ padding: 10 }} placement=\"left\" open={open} anchorEl={anchorEl}>\n                    <ClickAwayListener\n                      mouseEvent=\"onMouseDown\"\n                      touchEvent=\"onTouchStart\"\n                      onClickAway={() => setAnchorEl(null)}\n                    >\n                      <Paper>\n                        <div style={{ padding: 10 }}>\n                          {Object.entries(ordersByDays).map(([key, value]) => (\n                            <div key={key}>\n                              {key}: {value.length}\n                            </div>\n                          ))}\n                        </div>\n                      </Paper>\n                    </ClickAwayListener>\n                  </Popper>\n                  <IconButton\n                    data-rownumber={rowNumber}\n                    size=\"small\"\n                    onClick={shouldApplyEventHandler(row) ? showOrdersByDay : null}\n                  >\n                    {row.orderCount}\n                  </IconButton>\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </div>\n  )\n}\n","export default __webpack_public_path__ + \"static/media/paku24-logo.7602fc02.png\";","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport './Header.css'\nimport logo from '../assets/paku24-logo.png'\n\nexport default function Header({ isLogged }) {\n  return (\n    <div className=\"logo\">\n      <div>\n        <Link to={isLogged ? '/' : '/login'}>\n          <img src={logo} alt=\"Logo\" width=\"125px\" />\n        </Link>\n        <span className=\"text\">CONFIRMATOR</span>\n      </div>\n    </div>\n  )\n}\n","import axios from 'axios'\n\nconst baseUrl = '/api/login'\n\n// Defining interceptor specific to login service\n// Default interceptor notifies about refresh token problems\n// We don't need to notify about that when the user opens the app for the first time\n// (eg. when trying to login)\nconst axiosLoginInstance = axios.create()\naxiosLoginInstance.interceptors.response.use(\n  (response) => response,\n  async (error) => {\n    const originalRequest = error.config\n    if (error.response.data.error === 'access token expired') {\n      try {\n        await axios.post('/api/token')\n        await axios.post('/api/token/is-new')\n        return axiosLoginInstance(originalRequest)\n      } catch (err) {\n        return err\n      }\n    }\n\n    return Promise.reject(error)\n  }\n)\n\nasync function loginWithCredentials(credentials) {\n  return axiosLoginInstance.post(baseUrl, credentials).then((res) => res.data)\n}\n\nasync function loginWithAccessToken() {\n  const response = await axiosLoginInstance.post(`${baseUrl}/token`)\n  return response.data\n}\n\nexport default { loginWithCredentials, loginWithAccessToken }\n","import React from 'react'\nimport InfoOutlinedIcon from '@material-ui/icons/InfoOutlined'\n\nconst Notification = ({ notification }) => {\n  let color = 'black'\n  if (notification.toLowerCase().includes('error')) color = 'red'\n\n  return (\n    <>\n      {notification ? (\n        <div\n          style={{\n            backgroundColor: 'white',\n            color,\n            padding: '10px',\n            width: '80%',\n            borderBottom: '3px solid darkgrey',\n            fontSize: 'small',\n            display: 'flex',\n            alignItems: 'center',\n            marginBottom: '10px',\n          }}\n        >\n          <InfoOutlinedIcon />\n          <span style={{ marginLeft: '10px' }}>{notification}</span>\n        </div>\n      ) : null}\n    </>\n  )\n}\n\nexport default Notification\n","import React, { useState } from 'react'\nimport { useHistory, Link } from 'react-router-dom'\nimport TextField from '@material-ui/core/TextField'\nimport Button from '@material-ui/core/Button'\nimport loginServiсe from '../services/login'\nimport Notification from './Notification'\n\nexport default function Login({ updateUser }) {\n  const background = {\n    width: '95%',\n    margin: '0 auto',\n    padding: 20,\n    backgroundColor: 'lightgrey',\n    borderBottom: '4px solid darkgrey',\n  }\n\n  const flexItem = {\n    marginBottom: '7px',\n    backgroundColor: 'white',\n  }\n\n  const formContainer = {\n    color: 'black',\n    fontSize: '1.3rem',\n    letterSpacing: '0.7px',\n    marginTop: '10px',\n    marginBottom: '15px',\n  }\n\n  const flexForm = {\n    paddingBottom: '10px',\n    height: '80%',\n    display: 'flex',\n    flexFlow: 'column wrap',\n    justifyContent: 'space-evenly',\n  }\n\n  const history = useHistory()\n  const referrer = history?.location.state?.referrer\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [isButtonDisabled, setIsButtonDisabled] = useState(false)\n  const [inputError, setInputError] = useState(false)\n  const [notification, setNotification] = useState('')\n\n  async function handleLogin(event) {\n    event.preventDefault()\n    setNotification('Working...')\n\n    try {\n      const { user } = await loginServiсe.loginWithCredentials({\n        username,\n        password,\n      })\n      setNotification('Done')\n\n      // Not counting '/' as referrer\n      history.push(referrer?.length > 1 ? referrer : '/confirmator')\n      updateUser(user)\n    } catch (err) {\n      setInputError(true)\n      setIsButtonDisabled(true)\n      setTimeout(() => setIsButtonDisabled(false), 2000)\n      setNotification(`Error: ${err.response?.data.error || 'Mystery 👻'}`)\n    }\n  }\n\n  return (\n    <div style={{ margin: '30px 5px' }}>\n      <div style={background}>\n        <div style={formContainer}>\n          LOGIN\n          <span\n            style={{\n              color: 'black',\n              fontSize: '1.0rem',\n              letterSpacing: '0.2px',\n            }}\n          >\n            {' '}\n            or <Link to=\"/register\">request access</Link>\n          </span>\n        </div>\n\n        <Notification notification={notification} />\n\n        <form onSubmit={handleLogin} style={flexForm}>\n          <TextField\n            className=\"flex-item\"\n            style={flexItem}\n            error={inputError}\n            required\n            name=\"username\"\n            value={username}\n            onChange={({ target }) => setUsername(target.value)}\n            label=\"Username\"\n            variant=\"filled\"\n            size=\"small\"\n          />\n          <TextField\n            className=\"flex-item\"\n            style={flexItem}\n            error={inputError}\n            type=\"password\"\n            required\n            value={password}\n            name=\"password\"\n            onChange={({ target }) => setPassword(target.value)}\n            label=\"Password\"\n            variant=\"filled\"\n            size=\"small\"\n          />\n\n          <Button\n            className=\"flex-item\"\n            style={flexItem}\n            type=\"submit\"\n            disabled={isButtonDisabled}\n            variant=\"contained\"\n            size=\"small\"\n          >\n            Login\n          </Button>\n        </form>\n      </div>\n    </div>\n  )\n}\n","import React, { useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport TextField from '@material-ui/core/TextField'\nimport Button from '@material-ui/core/Button'\nimport axios from 'axios'\nimport Notification from './Notification'\n\nexport default function Register() {\n  const background = {\n    width: '95%',\n    padding: 20,\n    margin: '0 auto',\n    backgroundColor: 'lightgrey',\n    borderBottom: '4px solid darkgrey',\n  }\n\n  const flexItem = {\n    marginBottom: '7px',\n    backgroundColor: 'white',\n  }\n\n  const formContainer = {\n    color: 'black',\n    fontSize: '1.3rem',\n    letterSpacing: '0.7px',\n    marginTop: '10px',\n    marginBottom: '15px',\n  }\n\n  const flexForm = {\n    paddingBottom: '10px',\n    height: '80%',\n    display: 'flex',\n    flexFlow: 'column wrap',\n    justifyContent: 'space-evenly',\n  }\n\n  const [name, setName] = useState('')\n  const [email, setEmail] = useState('')\n  const [purpose, setPurpose] = useState('')\n  const [response, setResponse] = useState('')\n  const [disabled, setDisabled] = useState(false)\n\n  async function sendRequestForAccess(params) {\n    return axios.post('/api/registration/request-access', params).then((res) => res.data)\n  }\n\n  async function handleRequest(event) {\n    event.preventDefault()\n    setDisabled(true)\n    setResponse('Working...')\n    try {\n      const res = await sendRequestForAccess({ name, email, purpose })\n      setResponse(res?.message)\n      setName('')\n      setEmail('')\n      setPurpose('')\n      setDisabled(false)\n    } catch (err) {\n      setDisabled(false)\n      setResponse(`Error: ${err?.response.data?.error || 'Mystery 👻'}`)\n    }\n  }\n\n  return (\n    <div style={{ margin: '30px 5px' }}>\n      <div style={background}>\n        <div style={formContainer}>\n          REQUEST ACCESS\n          <span\n            style={{\n              color: 'black',\n              fontSize: '1.0rem',\n              letterSpacing: '0.2px',\n            }}\n          >\n            {' '}\n            or <Link to=\"/login\">login</Link>\n          </span>\n        </div>\n\n        <Notification notification={response} />\n\n        <form onSubmit={handleRequest} style={flexForm}>\n          <TextField\n            style={flexItem}\n            required\n            name=\"name\"\n            value={name}\n            onChange={({ target }) => setName(target.value)}\n            label=\"Name\"\n            variant=\"filled\"\n            size=\"small\"\n          />\n          <TextField\n            style={flexItem}\n            type=\"email\"\n            required\n            value={email}\n            name=\"email\"\n            onChange={({ target }) => setEmail(target.value)}\n            label=\"Email\"\n            variant=\"filled\"\n            size=\"small\"\n          />\n\n          <TextField\n            style={flexItem}\n            type=\"text\"\n            required\n            multiline\n            rows=\"3\"\n            value={purpose}\n            name=\"purpose\"\n            onChange={({ target }) => setPurpose(target.value)}\n            label=\"Why do you want to use this application?\"\n            variant=\"filled\"\n            size=\"small\"\n          />\n\n          <Button\n            style={flexItem}\n            type=\"submit\"\n            disabled={disabled}\n            variant=\"contained\"\n            size=\"small\"\n          >\n            Send request\n          </Button>\n        </form>\n      </div>\n    </div>\n  )\n}\n","import axios from 'axios'\n\nconst baseUrl = '/api/logout'\n\nasync function logout() {\n  return axios.post(baseUrl).then((res) => res.data)\n}\n\nexport default { logout }\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp'\n\nexport default function LogoutButton({ handleClick }) {\n  return (\n    <Button\n      style={{ backgroundColor: 'lightgrey' }}\n      variant=\"outlined\"\n      size=\"small\"\n      onClick={handleClick}\n    >\n      Logout <ExitToAppIcon />\n    </Button>\n  )\n}\n","import React from 'react'\nimport logoutService from '../services/logout'\nimport LogoutButton from './LogoutButton'\n\nexport default function Footer({ user, logoutUser }) {\n  return (\n    <div\n      style={{\n        backgroundColor: 'darkgrey',\n        padding: '15px',\n        // marginTop: '40px',\n        display: 'flex',\n        justifyContent: 'space-between',\n        borderTop: '3.5px solid lightgrey',\n        marginTop: 'auto',\n      }}\n    >\n      <div style={{ paddingTop: '2px', marginRight: '20px' }}>\n        <span style={{ fontFamily: 'monospace' }}>\n          {' '}\n          {user.username}\n          <br />\n          {user.name}\n        </span>\n      </div>\n      <LogoutButton handleClick={() => logoutService.logout().then(logoutUser)} />\n    </div>\n  )\n}\n","import React, { useState, useEffect } from 'react'\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom'\nimport { ErrorBoundary } from 'react-error-boundary'\nimport { useSnackbar } from 'notistack'\nimport Hub from './components/Hub'\nimport Confirmator from './components/Confirmator/Confirmator'\nimport Statistics from './components/Statistics/Statistics'\nimport Header from './components/Header'\nimport Login from './components/Login'\nimport Register from './components/Register'\nimport loginServiсe from './services/login'\nimport './App.css'\nimport Footer from './components/Footer'\nimport LoadingUntillDone from './components/LoadingUntillDone'\nimport interceptor from './services/interceptor'\n\nfunction ErrorFallback({ error }) {\n  return (\n    <div role=\"alert\">\n      <p>Something went wrong:</p>\n      <pre style={{ color: 'red' }}>{error.message}</pre>\n    </div>\n  )\n}\n\nfunction ProtectedRoute({ dependsOn, path, children, ...rest }) {\n  const history = useHistory()\n  let currentLocation\n  if (dependsOn === null || dependsOn === 'Loading') {\n    currentLocation = history.location.pathname\n  }\n\n  const loading = dependsOn === 'Loading'\n  const mustRedirect = dependsOn === null\n  const redirectToLoginPage = mustRedirect && (\n    <Redirect to={{ pathname: '/login', state: { referrer: currentLocation } }} />\n  )\n\n  return (\n    <>\n      <LoadingUntillDone loading={loading} redirectComponent={redirectToLoginPage}>\n        <Route {...rest} path={path}>\n          {children}\n        </Route>\n      </LoadingUntillDone>\n    </>\n  )\n}\n\nfunction App() {\n  const [user, setUser] = useState('Loading')\n\n  const { enqueueSnackbar } = useSnackbar()\n  const history = useHistory()\n  let referrer\n  if (user === null || user === 'Loading') {\n    referrer = history.location.pathname\n  }\n\n  useEffect(async () => {\n    // Initializing Axios interceptor with ability to logout user\n    interceptor.setupInterceptor({\n      logout: () => setUser(null),\n      notificate: () =>\n        enqueueSnackbar(\n          'You were logged out for security reasons. Your work has been saved. Login to continue.',\n          {\n            variant: 'warning',\n            autoHideDuration: 10000,\n          }\n        ),\n    })\n\n    try {\n      const { user: userFromToken } = await loginServiсe.loginWithAccessToken()\n      history.push(referrer)\n      return setUser(userFromToken)\n    } catch (err) {\n      return setUser(null)\n    }\n  }, [])\n\n  return (\n    <>\n      <Header isLogged={user !== null && user !== 'Loading'} />\n      <ErrorBoundary FallbackComponent={ErrorFallback}>\n        <Switch>\n          <Route path=\"/register\">\n            <Register />\n          </Route>\n          <Route path=\"/login\">\n            {user === null ? <Login updateUser={setUser} /> : <Redirect to=\"/\" />}\n          </Route>\n\n          <ProtectedRoute dependsOn={user} path=\"/confirmator\">\n            <Confirmator />\n          </ProtectedRoute>\n          <ProtectedRoute dependsOn={user} path=\"/statistics\">\n            <Statistics />\n          </ProtectedRoute>\n          <ProtectedRoute dependsOn={user} exact path=\"/\">\n            <Hub />\n          </ProtectedRoute>\n        </Switch>\n        <ProtectedRoute dependsOn={user} path=\"/\">\n          <Footer user={user} logoutUser={() => setUser(null)} />\n        </ProtectedRoute>\n      </ErrorBoundary>\n    </>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter as Router } from 'react-router-dom'\nimport { SnackbarProvider } from 'notistack'\nimport CancelIcon from '@material-ui/icons/Cancel'\nimport App from './App'\nimport './index.css'\n\nconst notistackRef = React.createRef()\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router basename=\"/app\">\n      <SnackbarProvider\n        action={(key) => (\n          <CancelIcon\n            onClick={() => {\n              notistackRef.current.closeSnackbar(key)\n            }}\n          />\n        )}\n        ref={notistackRef}\n        maxSnack={3}\n        dense\n        autoHideDuration={5000}\n        anchorOrigin={{ horizontal: 'left', vertical: 'top' }}\n      >\n        <App />\n      </SnackbarProvider>\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}