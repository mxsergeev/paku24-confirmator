{"version":3,"sources":["components/Hub.js","components/Confirmator/Editor.js","components/Confirmator/OrderSettings.js","components/Confirmator/ValidationDisplay.js","components/Confirmator/withEditing.js","components/Confirmator/OrderContainers/RawOrderContainer.js","components/Confirmator/OrderContainers/TransformedOrderContainer.js","components/Confirmator/OrderOperations/TransformButton.js","components/Confirmator/OrderOperations/CopyButton.js","components/Confirmator/OrderOperations/TransformPanel.js","components/Confirmator/NewOrderButton.js","components/Confirmator/OrderPool/OrderPoolOpenerButton.js","components/Confirmator/OrderOperations/MessageBeforeButton.js","components/Confirmator/OrderOperations/CustomButton.js","services/tokens.js","services/interceptor.js","services/emailAPI.js","components/Confirmator/OrderOperations/ConfirmationEmailSenderButton.js","services/smsAPI.js","components/Confirmator/OrderOperations/ConfirmationSMSSenderButton.js","services/calendarAPI.js","services/orderPoolAPI.js","helpers/TextOrder.js","helpers/Order.js","components/Confirmator/OrderOperations/AddOrderToCalendarButton.js","components/Confirmator/OrderOperations/MainOperationsPanel.js","components/ResponsiveDialog.js","components/LoadingUntillDone.js","components/Confirmator/OrderPool/OrdersList.js","components/Confirmator/OrderPool/OrderPool.js","components/Confirmator/OrderPool/OrderPoolDialog.js","components/Confirmator/Confirmator.js","components/Statistics/Statistics.js","assets/paku24-logo.png","components/Header.js","services/login.js","components/Notification.js","components/Login.js","components/Register.js","services/logout.js","components/LogoutButton.js","components/Footer.js","App.js","index.js"],"names":["Hub","history","useHistory","handleBlockClick","e","push","currentTarget","name","className","Button","onClick","variant","Editor","order","handleChange","margin","marginTop","marginLeftRight","marginLeft","marginRight","useState","dateTime","selectedDate","handleDateChange","useEffect","target","value","locale_en","weekStart","style","utils","DayjsUtils","locale","DateTimePicker","ampm","format","minutesStep","onChange","DialogProps","disableScrollLock","NativeSelect","paddingLeft","duration","fullWidth","serviceName","services","map","service","id","paymentType","paymentTypes","TextField","required","address","label","size","multiline","destination","email","type","phone","TextareaAutosize","rowsMin","cols","comment","placeholder","CheckboxGroup","props","FormControl","hiddenLabel","FormLabel","component","RadioGroup","distance","FormControlLabel","control","Radio","color","Checkbox","checked","hsy","labelPlacement","altColorPalette","XL","ValidationMessages","validationArray","errStyle","v","isError","message","ValidationDisplay","shouldValidate","setValidationArray","validationAr","validator","isBefore","toISOString","Date","confirmationDateString","time","isEmpty","isMobilePhone","isEmail","someIsInvalid","some","borderTop","borderBottom","padding","withEditing","EditableComponent","NotEditableComponent","content","handleUpdate","rest","isEditable","setIsEditable","savedChanges","setSavedChanges","incomingChanges","setIncomingChanges","handleIncomingChanges","handleCancelClick","handleSaveClick","handleEditClick","button","IconButton","width","RawOrderContainer","handleClick","rawOrderText","elementRef","ContainerWithEditing","ref","TransformedOrderContainer","transformedOrderText","length","split","line","index","TransformButton","text","fontSize","CopyButton","disabled","enqueueSnackbar","useSnackbar","tempTextarea","document","createElement","body","appendChild","current","innerText","defaultValue","select","execCommand","removeChild","copyToClipboard","autoHideDuration","TransformPanel","handleOrderTransformFromText","handleOrderTransformFromEditor","transformDisabled","copyDisabled","NewOrderButton","OrderPoolOpenerButton","orderPoolUrl","MessageBeforeButton","CustomButton","isDisabled","grayScale","display","baseUrl","a","interceptor","axiosInstance","post","refreshTokens","axios","create","setupInterceptor","externalActions","interceptors","response","use","error","originalRequest","config","data","tokenService","notificate","logout","Error","status","setTimeout","Promise","reject","params","EMAIL","ConfirmationEmailSenderButton","statusText","changeStatus","buttonContent","sendConfirmationEmail","orderDetails","then","res","catch","err","sendSMS","SMS","ConfirmationSMSSenderButton","msg","addEventToCalendar","makeQueryArray","queryName","items","item","isLastItem","join","storeOrdersInSessionStorage","query","orders","resolve","sessionStorage","setItem","JSON","stringify","validUntil","now","getOrdersFromSessionStorage","parse","getItem","isStorageUpToDate","pages","options","deleted","forceUpdate","url","get","delete","put","confirm","remove","retrieve","getConfirmedOrders","period","periodFrom","periodTo","add","key","cannotFind","TextOrder","textOrder","this","initialCleanup","dateRe","exec","date","replace","getFullYear","getMonth","getDate","beginMarker","beginIndex","indexOf","endIndex","paymentTypeField","slice","trim","nonWordChars","match","filter","c","endIndex2","p","includes","priceLine","startMarker","fromIndex","find","s","endMarkers","addresses","forEach","marker","rawAddress","replaceAll","cityField","postalCode","addressField","city","test","re","str","splitStr","noRebundantWhitespace","defaultOrder","distances","insideCapital","orderClassPropertyNames","Object","keys","Order","propertyName","toTimeString","priceXL","price","dd","mm","yyyy","timeInNumberType","dayOFWeek","getDay","dayOfMonth","endOfMonth","weekEndFeeApplicable","endOfMonthFeeApplicable","morningFeeApplicable","nightFeeApplicable","paymentFeeApplicable","fees","weekend","firstOrLastDayOfTheMonth","morning","night","bill","f","printed","repeat","fee","toUpperCase","amount","filtered","formattedStr","isJSON","orderArguments","transformed","servicePrice","printFees","console","CALENDAR","AddOrderToCalendarButton","orderId","entry","getEventForCalendar","orderPoolAPI","prepareForSending","createdEvent","MainOperationsPanel","transformedOrder","handleResetClick","defaultStatuses","disable","sms","calendar","statuses","setStatuses","emailBlock","smsBlock","threeButtonsBlock","ResponsiveDialog","children","handleClose","theme","useTheme","fullScreen","useMediaQuery","breakpoints","down","Dialog","open","onClose","aria-labelledby","DialogContent","DialogActions","backgroundColor","LoadingUntillDone","loading","redirectComponent","OrdersList","handleExport","handleDeletion","handleLoadingMoreOrders","labelForDeletion","ordersWithStyles","setOrdersWithStyles","txtOrder","isNew","toDateString","confirmed","hidden","orderWithStyles","o","handleHideOrShow","jsonOrder","entries","fieldName","fieldValue","minHeight","fontWeight","toLocaleDateString","toLocaleTimeString","INBOX","TRASHCAN","OrderPool","setOrders","isLoading","setIsloading","currentTab","setCurrentTab","inbox","searchText","showOnlyNotConfirmed","trashcan","searchOptions","setSearchOptions","searchResults","setSearchResults","hasToUpdate","trigger","setForceUpdate","setPages","numberOfOrders","numberOfUnconfirmedOrders","makeSearch","val","bool","searchTarget","search","values","condition","filterConfirmed","toLowerCase","newPage","moreOrdersFromPool","concatenatedOrders","concat","filteredOrders","handleTabBarChange","dataset","tabname","ordersFromPool","data-tabname","prevOptsForCurTab","handleOnlyNotConfirmedSearch","OrderPoolDialog","goBack","Confirmator","rawOrder","setRawOrder","setTransformedOrder","default","setOrder","savedOrder","localStorage","savedRawOrder","transform","transformToText","rawOrderOrderContainerRef","useRef","transformedOrderContainerRef","handleOrderChange","changedOrder","handleRawOrderUpdate","rawO","setupOrderFromText","orderFromText","transO","path","scrollIntoView","smooth","splitPeriodToWeeks","numberOfWeeks","isoWeek","Array","fill","number","count","weekNumber","dayjs","startOf","splitOrdersByPeriods","periods","splitted","confirmedAt","isSameOrAfter","makeRows","labels","d","i","orderCount","makeWeekRows","weeks","Statistics","defStartDate","defEndDate","setPeriod","confirmedOrders","setConfirmedOrders","ordersByDays","setOrdersByDays","anchorEl","setAnchorEl","ordersByWeeks","rows","setRows","handlePeriodChange","showOrdersByDay","ordersOfSelectedWeek","rownumber","ordByDays","day","weekday","firstWeek","lastWeek","orderPoolApi","confirmedOrdersOfAllWeeksOfPeriod","ordersOfWholePeriod","weekRows","totalRow","Boolean","shouldApplyEventHandler","row","TableContainer","Paper","Table","aria-label","TableHead","TableRow","TableCell","align","TableBody","rowNumber","scope","Popper","placement","ClickAwayListener","mouseEvent","touchEvent","onClickAway","data-rownumber","extend","weekOfYear","Header","isLogged","to","src","logo","alt","axiosLoginInstance","credentials","loginWithCredentials","loginWithAccessToken","Notification","notification","alignItems","marginBottom","Login","updateUser","flexItem","referrer","location","state","username","setUsername","password","setPassword","isButtonDisabled","setIsButtonDisabled","inputError","setInputError","setNotification","event","preventDefault","loginServi—Åe","user","letterSpacing","onSubmit","paddingBottom","height","flexFlow","justifyContent","Register","setName","setEmail","purpose","setPurpose","setResponse","setDisabled","sendRequestForAccess","LogoutButton","Footer","logoutUser","paddingTop","fontFamily","logoutService","ErrorFallback","role","ProtectedRoute","currentLocation","dependsOn","pathname","redirectToLoginPage","App","setUser","userFromToken","FallbackComponent","exact","notistackRef","React","createRef","ReactDOM","render","StrictMode","basename","action","closeSnackbar","maxSnack","dense","anchorOrigin","horizontal","vertical","getElementById"],"mappings":"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","file":"static/js/main.2fea3451.chunk.js","sourcesContent":["import { Button } from '@material-ui/core'\nimport React from 'react'\nimport { useHistory } from 'react-router-dom'\nimport './Hub.css'\n\nexport default function Hub() {\n  const history = useHistory()\n\n  function handleBlockClick(e) {\n    history.push(e.currentTarget.name)\n  }\n  return (\n    <div className=\"hub\">\n      <Button\n        onClick={handleBlockClick}\n        name=\"confirmator\"\n        variant=\"contained\"\n        className=\"hub-block\"\n      >\n        Confirmator\n      </Button>\n\n      <Button\n        onClick={handleBlockClick}\n        name=\"statistics\"\n        variant=\"contained\"\n        className=\"hub-block\"\n      >\n        Statistics\n      </Button>\n    </div>\n  )\n}\n","import React, { useState, useEffect } from 'react'\nimport TextField from '@material-ui/core/TextField'\nimport NativeSelect from '@material-ui/core/NativeSelect'\nimport TextareaAutosize from '@material-ui/core/TextareaAutosize'\nimport DayjsUtils from '@date-io/dayjs'\nimport locale_en from 'dayjs/locale/en'\nimport { DateTimePicker, MuiPickersUtilsProvider } from '@material-ui/pickers'\nimport services from '../../data/services.json'\nimport paymentTypes from '../../data/paymentTypes.json'\n\nexport default function Editor({ order, handleChange }) {\n  const margin = {\n    marginTop: 5,\n  }\n  const marginLeftRight = {\n    marginLeft: 5,\n    marginRight: 5,\n  }\n\n  // hack to make date from mui datetimepicker to be inside fake event object\n  const [selectedDate, handleDateChange] = useState(order.dateTime)\n  useEffect(() => {\n    handleChange({ target: { name: 'dateTime', value: selectedDate } })\n  }, [selectedDate])\n\n  locale_en.weekStart = 1\n\n  return (\n    <div className=\"basic-flex\" style={{ marginTop: '5px' }}>\n      <div className=\"flex-100-space-between flex-item\" style={marginLeftRight}>\n        <MuiPickersUtilsProvider utils={DayjsUtils} locale={locale_en}>\n          <DateTimePicker\n            ampm={false}\n            format=\"DD-MM-YYYY HH:mm\"\n            minutesStep={15}\n            style={marginLeftRight}\n            className=\"time-duration\"\n            name=\"dateTime\"\n            value={order.dateTime}\n            onChange={handleDateChange}\n            DialogProps={{ disableScrollLock: true }}\n          />\n        </MuiPickersUtilsProvider>\n\n        <NativeSelect\n          className=\"time-duration\"\n          style={{ ...marginLeftRight, paddingLeft: 10 }}\n          name=\"duration\"\n          value={order?.duration}\n          onChange={handleChange}\n        >\n          <option value={1}>1h</option>\n          <option value={1.5}>1.5h</option>\n          <option value={2}>2h</option>\n          <option value={2.5}>2.5h</option>\n          <option value={3}>3h</option>\n          <option value={3.5}>3.5h</option>\n          <option value={4}>4h</option>\n          <option value={4.5}>4.5h</option>\n          <option value={5}>5h</option>\n          <option value={5.5}>5.5h</option>\n          <option value={6}>6h</option>\n          <option value={6.5}>6.5h</option>\n          <option value={7}>7h</option>\n          <option value={7.5}>7.5h</option>\n          <option value={8}>8h</option>\n          <option value={8.5}>8.5h</option>\n          <option value={9}>9h</option>\n          <option value={9.5}>9.5h</option>\n          <option value={10}>10h</option>\n        </NativeSelect>\n      </div>\n\n      <NativeSelect\n        fullWidth\n        style={marginLeftRight}\n        className=\"flex-item\"\n        name=\"serviceName\"\n        value={order?.serviceName}\n        onChange={handleChange}\n      >\n        {services.map((service) => (\n          <option key={service.id} value={service.name}>\n            {service.name}\n          </option>\n        ))}\n      </NativeSelect>\n\n      <NativeSelect\n        fullWidth\n        style={marginLeftRight}\n        className=\"flex-item\"\n        name=\"paymentType\"\n        value={order?.paymentType}\n        onChange={handleChange}\n      >\n        {paymentTypes.map(({ name, id }) => (\n          <option key={id} value={name}>\n            {name}\n          </option>\n        ))}\n      </NativeSelect>\n\n      <TextField\n        fullWidth\n        style={margin}\n        className=\"flex-item\"\n        required\n        name=\"address\"\n        value={order?.address}\n        onChange={handleChange}\n        label=\"Address\"\n        variant=\"outlined\"\n        size=\"small\"\n      />\n\n      <TextField\n        fullWidth\n        multiline\n        style={margin}\n        className=\"flex-item\"\n        name=\"destination\"\n        value={order?.destination}\n        onChange={handleChange}\n        label=\"Destination\"\n        variant=\"outlined\"\n        size=\"small\"\n      />\n\n      <TextField\n        fullWidth\n        required\n        style={margin}\n        className=\"flex-item\"\n        name=\"name\"\n        value={order?.name}\n        onChange={handleChange}\n        label=\"Name\"\n        variant=\"outlined\"\n        size=\"small\"\n      />\n\n      <TextField\n        fullWidth\n        style={margin}\n        className=\"flex-item\"\n        name=\"email\"\n        value={order?.email}\n        onChange={handleChange}\n        type=\"email\"\n        label=\"Email\"\n        variant=\"outlined\"\n        size=\"small\"\n      />\n\n      <TextField\n        fullWidth\n        style={margin}\n        className=\"flex-item\"\n        required\n        name=\"phone\"\n        value={order?.phone}\n        onChange={handleChange}\n        label=\"Phonenumber\"\n        variant=\"outlined\"\n        size=\"small\"\n      />\n\n      <TextareaAutosize\n        style={margin}\n        className=\"flex-item textarea-2\"\n        rowsMin={3}\n        cols={27}\n        name=\"comment\"\n        value={order?.comment}\n        placeholder=\"Additional information.\"\n        onChange={handleChange}\n      />\n    </div>\n  )\n}\n","import React from 'react'\nimport FormLabel from '@material-ui/core/FormLabel'\nimport FormControl from '@material-ui/core/FormControl'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport Radio from '@material-ui/core/Radio'\nimport RadioGroup from '@material-ui/core/RadioGroup'\n\nexport default function CheckboxGroup(props) {\n  const { handleChange, order } = props\n\n  return (\n    <div className=\"checkbox-container\">\n      <FormControl className=\"checkbox-distance flex-item\" hiddenLabel={false} size=\"small\">\n        <FormLabel component=\"legend\">Pick one:</FormLabel>\n        <RadioGroup value={order.distance} onChange={handleChange}>\n          <FormControlLabel\n            name=\"distance\"\n            value=\"insideCapital\"\n            control={<Radio color=\"default\" />}\n            label=\"üèô Inside capital\"\n          />\n          <FormControlLabel\n            name=\"distance\"\n            value=\"outsideCapital\"\n            control={<Radio color=\"default\" />}\n            label=\"üèû Outside capital\"\n          />\n          <FormControlLabel\n            name=\"distance\"\n            value=\"fromCapitalToOutside\"\n            control={<Radio color=\"default\" />}\n            label=\"üèô->üèû From capital\"\n          />\n          <FormControlLabel\n            name=\"distance\"\n            value=\"fromOutsideToCapital\"\n            control={<Radio color=\"default\" />}\n            label=\"üèû->üèô To capital\"\n          />\n        </RadioGroup>\n      </FormControl>\n      <FormControl className=\"basic-flex\" size=\"small\">\n        <FormControlLabel\n          size=\"small\"\n          className=\"flex-item\"\n          control={<Checkbox checked={order.hsy} onChange={handleChange} color=\"primary\" />}\n          name=\"hsy\"\n          label=\"‚ôª HSY\"\n          labelPlacement=\"start\"\n        />\n        <FormControlLabel\n          className=\"flex-item\"\n          control={\n            <Checkbox checked={order.altColorPalette} onChange={handleChange} color=\"primary\" />\n          }\n          name=\"altColorPalette\"\n          label=\"Second car\"\n          labelPlacement=\"start\"\n        />\n        <FormControlLabel\n          className=\"flex-item\"\n          control={<Checkbox checked={order.XL} onChange={handleChange} color=\"primary\" />}\n          name=\"XL\"\n          label=\"XL\"\n          labelPlacement=\"start\"\n        />\n      </FormControl>\n    </div>\n  )\n}\n","import React, { useState, useEffect } from 'react'\nimport validator from 'validator'\nimport ErrorOutlineIcon from '@material-ui/icons/ErrorOutline'\n\nfunction ValidationMessages({ validationArray }) {\n  const errStyle = { color: 'red' }\n\n  return (\n    <>\n      {validationArray.map((v) => {\n        if (v.isError) {\n          return (\n            <div key={v.id}>\n              <span style={errStyle}>{v.name} </span>\n              {v.message}\n            </div>\n          )\n        }\n        return null\n      })}\n    </>\n  )\n}\n\nexport default function ValidationDisplay({ order, shouldValidate }) {\n  const [validationArray, setValidationArray] = useState([])\n\n  useEffect(() => {\n    if (shouldValidate) {\n      const validationAr = [\n        {\n          id: 1,\n          name: 'Date and time',\n          isError: validator.isBefore(order.dateTime.toISOString(), new Date().toISOString()),\n          message: `might have some problems. Check to be sure: ${\n            `${order.confirmationDateString} ${order.time}` || '---'\n          }`,\n        },\n        {\n          id: 2,\n          name: 'Address',\n          isError: validator.isEmpty(order.address),\n          message: 'is missing',\n        },\n        {\n          id: 3,\n          name: 'Phonenumber',\n          isError: !validator.isMobilePhone(order.phone, ['fi-FI', 'es-ES', 'sv-SE']),\n          message: `is missing or is incorrect: ${order.phone || '---'}`,\n        },\n        {\n          id: 4,\n          name: 'Email',\n          isError: !validator.isEmail(order.email),\n          message: `is missing or is incorrect: ${order.email || '---'}`,\n        },\n      ]\n      setValidationArray(validationAr)\n    }\n  }, [order.dateTime, order.phone, order.address, order.email, shouldValidate])\n\n  const someIsInvalid = validationArray.some((v) => v.isError)\n\n  const border = {\n    borderTop: '1px solid gray',\n    borderBottom: '1px solid gray',\n    padding: '15px 0 15px 0',\n    margin: '10px 0 10px 0',\n  }\n\n  return (\n    <>\n      {shouldValidate && someIsInvalid && (\n        <div style={border} className=\"flex-100-space-between\">\n          <div>\n            <ErrorOutlineIcon />\n            <ValidationMessages validationArray={validationArray} />\n          </div>\n        </div>\n      )}\n    </>\n  )\n}\n","import React, { useState } from 'react'\nimport Button from '@material-ui/core/Button'\nimport IconButton from '@material-ui/core/IconButton'\nimport EditOutlinedIcon from '@material-ui/icons/EditOutlined'\nimport './withEditing.css'\n\nconst withEditing = (EditableComponent, NotEditableComponent) => ({\n  content,\n  handleUpdate,\n  ...rest\n}) => {\n  const [isEditable, setIsEditable] = useState(false)\n  const [savedChanges, setSavedChanges] = useState(content)\n  const [incomingChanges, setIncomingChanges] = useState(savedChanges)\n\n  function removeUnsavedChanges() {\n    setIncomingChanges(savedChanges)\n  }\n\n  function handleIncomingChanges(e) {\n    setIncomingChanges(e.target.value)\n  }\n\n  function handleCancelClick() {\n    removeUnsavedChanges()\n    setIsEditable(!isEditable)\n  }\n\n  function handleSaveClick() {\n    setSavedChanges(incomingChanges)\n    handleUpdate(incomingChanges)\n    setIsEditable(!isEditable)\n  }\n\n  function handleEditClick() {\n    setIsEditable(!isEditable)\n  }\n\n  function notEditable() {\n    return (\n      <>\n        <NotEditableComponent\n          content={content}\n          button={\n            <span>\n              <IconButton size=\"small\" onClick={handleEditClick}>\n                <EditOutlinedIcon style={{ width: '20px' }} />\n              </IconButton>\n            </span>\n          }\n          {...rest}\n        />\n      </>\n    )\n  }\n  function editable() {\n    return (\n      <>\n        <EditableComponent\n          content={incomingChanges}\n          handleChange={handleIncomingChanges}\n          {...rest}\n        />\n        <div className=\"buttons-block\">\n          <Button size=\"small\" onClick={handleCancelClick}>\n            Cancel\n          </Button>\n          <Button className=\"primary\" size=\"small\" onClick={handleSaveClick}>\n            Save\n          </Button>\n        </div>\n      </>\n    )\n  }\n\n  return <>{isEditable ? editable() : notEditable()}</>\n}\n\nexport default withEditing\n","import React from 'react'\nimport TextareaAutosize from '@material-ui/core/TextareaAutosize'\nimport withEditing from '../withEditing'\n\nexport default function RawOrderContainer({ handleClick, rawOrderText, elementRef }) {\n  const Editable = ({ handleChange, content }) => (\n    <TextareaAutosize\n      onChange={handleChange}\n      value={content}\n      style={{ marginTop: '10px' }}\n      className=\"width-100\"\n      rowsMin={5}\n      cols={40}\n      placeholder=\"Raw order here.\"\n    />\n  )\n\n  const NotEditable = ({ button }) => (\n    <div ref={elementRef} className=\"not-editable-container\">\n      Raw order{button}\n    </div>\n  )\n  const ContainerWithEditing = withEditing(Editable, NotEditable)\n  return (\n    <ContainerWithEditing\n      style={{ width: 'max-content' }}\n      handleUpdate={handleClick}\n      content={rawOrderText}\n    />\n  )\n}\n","/* eslint-disable react/no-array-index-key */\n/* eslint-disable react/destructuring-assignment */\nimport React from 'react'\nimport TextareaAutosize from '@material-ui/core/TextareaAutosize'\nimport withEditing from '../withEditing'\nimport './orderContainers.css'\n\nexport default function TransformedOrderContainer({\n  elementRef,\n  handleClick,\n  transformedOrderText,\n}) {\n  const Editable = ({ handleChange, content }) => (\n    <TextareaAutosize\n      onChange={handleChange}\n      value={content}\n      ref={elementRef}\n      style={{ marginTop: '10px' }}\n      className=\"width-100\"\n      rowsMin={5}\n      cols={40}\n      placeholder=\"Transformed order.\"\n    />\n  )\n\n  const NotEditable = ({ content, button }) => (\n    <div\n      ref={elementRef}\n      style={{ width: transformedOrderText && '100%', marginTop: '12px' }}\n      className=\"not-editable-container\"\n    >\n      {content.length === 0 ? (\n        'Transformed order'\n      ) : (\n        <div className=\"text-container-with-scroll\">\n          {content.split('\\n').map((line, index) => (\n            <div key={index}>{line}</div>\n          ))}\n        </div>\n      )}\n      {button}\n    </div>\n  )\n  const ContainerWithEditing = withEditing(Editable, NotEditable)\n  return <ContainerWithEditing handleUpdate={handleClick} content={transformedOrderText} />\n}\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport TransformIcon from '@material-ui/icons/Transform'\n\nexport default function TransformButton({ handleClick, text = 'Transform', ...rest }) {\n  return (\n    <Button\n      className=\"button-one-third flex-item\"\n      variant=\"outlined\"\n      size=\"small\"\n      style={{ fontSize: '0.8rem', padding: '1px' }}\n      onClick={() => handleClick()}\n      {...rest}\n    >\n      <TransformIcon />\n      {text}\n    </Button>\n  )\n}\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport FileCopyIcon from '@material-ui/icons/FileCopy'\nimport { useSnackbar } from 'notistack'\n\nexport default function CopyButton({ elementRef, disabled }) {\n  const { enqueueSnackbar } = useSnackbar()\n\n  function copyToClipboard() {\n    const tempTextarea = document.createElement('textarea')\n    document.body.appendChild(tempTextarea)\n    // getting text from container (div) or from textarea that holds the transformed order\n    tempTextarea.value = elementRef.current.innerText || elementRef.current.defaultValue\n    tempTextarea.select()\n    document.execCommand('copy')\n    document.body.removeChild(tempTextarea)\n  }\n\n  function handleCopying() {\n    copyToClipboard()\n    enqueueSnackbar('Copied!', { autoHideDuration: 750 })\n  }\n\n  return (\n    <Button\n      disabled={disabled}\n      className=\"button-one-third flex-item\"\n      variant=\"outlined\"\n      size=\"small\"\n      onClick={handleCopying}\n    >\n      Copy <FileCopyIcon />\n    </Button>\n  )\n}\n","import React from 'react'\nimport TransformButton from './TransformButton'\nimport CopyButton from './CopyButton'\n\nexport default function TransformPanel({\n  handleOrderTransformFromText,\n  handleOrderTransformFromEditor,\n  transformDisabled,\n  copyDisabled,\n  elementRef,\n}) {\n  return (\n    <div className=\"order-operations\">\n      <div className=\"block\">\n        <CopyButton disabled={copyDisabled} elementRef={elementRef} />\n        <TransformButton\n          text=\"from text\"\n          disabled={transformDisabled}\n          handleClick={handleOrderTransformFromText}\n        />\n\n        <TransformButton text=\"from editor\" handleClick={handleOrderTransformFromEditor} />\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport NoteAddIcon from '@material-ui/icons/NoteAdd'\n\nexport default function NewOrderButton({ handleClick, className }) {\n  return (\n    <Button className={className} variant=\"contained\" size=\"small\" onClick={handleClick}>\n      New order <NoteAddIcon />\n    </Button>\n  )\n}\n","import React from 'react'\nimport { useHistory } from 'react-router-dom'\nimport Button from '@material-ui/core/Button'\n\nexport default function OrderPoolOpenerButton({ className, orderPoolUrl }) {\n  const history = useHistory()\n\n  const handleClickOpen = () => {\n    history.push(orderPoolUrl)\n  }\n\n  return (\n    <>\n      <Button size=\"small\" className={className} variant=\"contained\" onClick={handleClickOpen}>\n        Order Pool\n      </Button>\n    </>\n  )\n}\n","import React from 'react'\n\nexport default function MessageBeforeButton({ text, className, ...rest }) {\n  return (\n    <div className={`message ${className}`} {...rest}>\n      {text}\n    </div>\n  )\n}\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\n\nexport default function CustomButton({ handleClick, isDisabled, grayScale, content, className }) {\n  const style = grayScale && { color: 'grey' }\n  return (\n    <Button\n      disabled={isDisabled}\n      className={className}\n      variant=\"contained\"\n      size=\"small\"\n      onClick={handleClick}\n    >\n      <span style={{ display: 'flex', ...style }}>{content}</span>\n    </Button>\n  )\n}\n","/* eslint-disable consistent-return */\n// eslint-disable-next-line import/no-cycle\nimport interceptor from './interceptor'\n\nconst baseUrl = '/api/token'\n\nasync function refreshTokens() {\n  await interceptor.axiosInstance.post(baseUrl)\n  await interceptor.axiosInstance.post(`${baseUrl}/is-new`)\n}\n\nexport default { refreshTokens }\n","/* eslint-disable consistent-return */\nimport axios from 'axios'\n// eslint-disable-next-line import/no-cycle\nimport tokenService from './tokens'\n\nconst axiosInstance = axios.create()\n\nfunction setupInterceptor(externalActions) {\n  axiosInstance.interceptors.response.use(\n    (response) => response,\n    async (error) => {\n      const originalRequest = error.config\n      if (error.response.data.error === 'access token expired') {\n        // if tokenService receives an error, request won't be resent\n        await tokenService.refreshTokens()\n        return axiosInstance(originalRequest)\n      }\n      if (\n        error.response.data.error === 'access token missing' ||\n        error.response.data.error === 'invalid access token' ||\n        error.response.data.error === 'refresh token expired' ||\n        error.response.data.error === 'invalid refresh token' ||\n        error.response.data.error === 'refresh token missing'\n      ) {\n        externalActions.notificate()\n        externalActions.logout()\n        throw new Error('logout')\n      }\n      if (error.response.status === 429) {\n        setTimeout(() => null, 1500)\n      }\n      return Promise.reject(error)\n    }\n  )\n}\n\nexport default { axiosInstance, setupInterceptor }\n","import interceptor from './interceptor'\n\nconst baseUrl = '/api/email'\n/**\n * @param {Object} params\n * @param {string} params.orderDetails\n * @param {Object} params.order\n */\n\nexport default async function sendConfirmationEmail(params) {\n  const response = await interceptor.axiosInstance.post(`${baseUrl}/send-confirmation`, params)\n  return response.data\n}\n","import React from 'react'\nimport { useSnackbar } from 'notistack'\n\nimport EmailIcon from '@material-ui/icons/Email'\nimport CustomButton from './CustomButton'\nimport sendConfirmationEmail from '../../../services/emailAPI'\n\nconst EMAIL = 'email'\n\nexport default function ConfirmationEmailSenderButton({\n  email,\n  order,\n  transformedOrderText,\n  statusText,\n  isDisabled,\n  changeStatus,\n  className,\n}) {\n  const { enqueueSnackbar } = useSnackbar()\n\n  function handleEmailSending() {\n    if (email && transformedOrderText) {\n      changeStatus(EMAIL, 'Working', true)\n      return sendConfirmationEmail({\n        orderDetails: transformedOrderText,\n        order,\n        email,\n      })\n        .then((res) => {\n          changeStatus(EMAIL, 'Done', true)\n          enqueueSnackbar(res.message)\n        })\n        .catch((err) => {\n          if (err.message === 'logout') return\n          changeStatus(EMAIL, 'Error', false)\n          enqueueSnackbar(err.response.data.error, { variant: 'error' })\n        })\n    }\n    return enqueueSnackbar('No confirmation found or recipients defined.', {\n      variant: 'warning',\n    })\n  }\n\n  const buttonContent = statusText || (\n    <>\n      <span>Send</span> <EmailIcon />\n    </>\n  )\n\n  return (\n    <CustomButton\n      className={className}\n      isDisabled={isDisabled}\n      grayScale={statusText !== null}\n      handleClick={handleEmailSending}\n      content={buttonContent}\n    />\n  )\n}\n","import interceptor from './interceptor'\n\nconst baseUrl = '/api/sms'\n/**\n * @param {Object} params\n * @param {string} params.phone\n * @param {string} params.msg\n */\n\nexport default async function sendSMS(params) {\n  const response = await interceptor.axiosInstance.post(baseUrl, params)\n  return response.data\n}\n","import React from 'react'\nimport { useSnackbar } from 'notistack'\nimport TextsmsIcon from '@material-ui/icons/Textsms'\nimport sendSMS from '../../../services/smsAPI'\nimport CustomButton from './CustomButton'\n\nconst SMS = 'sms'\n\nexport default function ConfirmationSMSSenderButton({\n  phone,\n  transformedOrderText,\n  statusText,\n  isDisabled,\n  changeStatus,\n  className,\n}) {\n  const { enqueueSnackbar } = useSnackbar()\n\n  async function handleSendingSMS() {\n    try {\n      const msg = transformedOrderText\n      if (msg && phone) {\n        changeStatus(SMS, 'Working', true)\n        const response = await sendSMS({ msg, phone })\n        changeStatus(SMS, 'Done', true)\n        enqueueSnackbar(`${response.message}`)\n      }\n    } catch (err) {\n      if (err.message === 'logout') return\n      changeStatus(SMS, 'Error', false)\n      enqueueSnackbar(err.response?.data.error, { variant: 'error' })\n    }\n  }\n\n  const buttonContent = statusText || (\n    <>\n      <span>Send</span> <TextsmsIcon />\n    </>\n  )\n\n  return (\n    <CustomButton\n      className={className}\n      isDisabled={isDisabled}\n      grayScale={statusText !== null}\n      handleClick={handleSendingSMS}\n      content={buttonContent}\n    />\n  )\n}\n","import interceptor from './interceptor'\n\nconst baseUrl = '/api/calendar'\n\n/**\n * @param {Object} params\n * @param {string} params.entry\n * @param {Object} params.order\n * @param {Array} params.fees\n */\n\nexport default async function addEventToCalendar(params) {\n  const response = await interceptor.axiosInstance.post(baseUrl, params)\n  return response.data\n}\n","/* eslint-disable no-param-reassign */\nimport interceptor from './interceptor'\n\nconst baseUrl = '/api/order-pool'\n/**\n * @param {string} queryName\n * @param {Array} items\n * @return Something like: pages[]=1&pages[]=2&pages[]=3\n */\nfunction makeQueryArray(queryName, items) {\n  return items\n    .map((item, index) => {\n      const isLastItem = index === items.length - 1\n      return `${queryName}[]=${item}${isLastItem ? '' : '&'}`\n    })\n    .join('')\n}\n\nfunction storeOrdersInSessionStorage({ query, orders }) {\n  return new Promise((resolve) =>\n    resolve(\n      sessionStorage.setItem(\n        `order-pool/${query}`,\n        JSON.stringify({\n          validUntil: Date.now() + 5 * 60 * 1000,\n          orders,\n        })\n      )\n    )\n  )\n}\n\nfunction getOrdersFromSessionStorage(query) {\n  return Promise.resolve().then(() => JSON.parse(sessionStorage.getItem(`order-pool/${query}`)))\n}\n\nfunction isStorageUpToDate(query) {\n  return Promise.resolve(\n    (() => {\n      try {\n        const { validUntil } = JSON.parse(sessionStorage.getItem(`order-pool/${query}`))\n        return validUntil > Date.now()\n      } catch {\n        return false\n      }\n    })()\n  )\n}\n\n/**\n * @param {Array} [pages] - Default: [ 1 ]\n * @param {Object} options - Default: { deleted: false, forceUpdate: false }\n * @param {Boolean} [options.deleted]\n * @param {Boolean} [options.forceUpdate]\n */\nasync function get(pages = [1], options = { deleted: false, forceUpdate: false }) {\n  const { deleted, forceUpdate } = options\n\n  const query = `${deleted ? 'deleted=true' : 'deleted=false'}&${makeQueryArray('pages', pages)}`\n\n  if (!forceUpdate && (await isStorageUpToDate(query))) {\n    return getOrdersFromSessionStorage(query).then((data) => data.orders)\n  }\n\n  // example: /api/order-pool/?deleted=false&pages[]=1&pages[]=2\n  const url = `${baseUrl}/?${query}`\n\n  return interceptor.axiosInstance.get(url).then(async (res) => {\n    const { orders } = res?.data\n    await storeOrdersInSessionStorage({ query, orders })\n\n    return orders\n  })\n}\n\nfunction confirm(id) {\n  return interceptor.axiosInstance.put(`${baseUrl}/confirm/${id}`).then((res) => res?.data)\n  // .catch((err) => console.log(err))\n}\n\nasync function remove(id) {\n  const response = await interceptor.axiosInstance.delete(`${baseUrl}/delete/${id}`)\n  return response?.data\n}\n\nasync function retrieve(id) {\n  const response = await interceptor.axiosInstance.put(`${baseUrl}/retrieve/${id}`)\n  return response?.data\n}\n\nfunction getConfirmedOrders(period, options = { onlyCount: true }) {\n  const { periodFrom, periodTo } = period\n\n  return interceptor.axiosInstance\n    .get(`${baseUrl}/confirmed-by-user/?periodFrom=${periodFrom}&periodTo=${periodTo}`)\n    .then((res) => res.data)\n}\n\nfunction add({ order, key }) {\n  return interceptor.axiosInstance.post(`${baseUrl}/add`, { order, key }).then((res) => res?.data)\n}\n\nexport default { get, confirm, remove, retrieve, getConfirmedOrders, add }\n","/* eslint-disable no-param-reassign */\n/* eslint-disable no-control-regex */\n/* eslint-disable no-useless-escape */\nimport services from '../data/services.json'\nimport paymentTypes from '../data/paymentTypes.json'\n\nfunction cannotFind(name) {\n  return `Cannot find ${name}`\n}\n\nexport default class TextOrder {\n  constructor(textOrder) {\n    this.textOrder = TextOrder.initialCleanup(textOrder)\n  }\n\n  get dateTime() {\n    const dateRe = /(?<=Date and time: \\w+, )\\w+ \\d+(th|rd|st|nd)? \\w+/.exec(this.textOrder)\n\n    if (!dateRe) throw new Error(cannotFind('date'))\n\n    const date = new Date(`${dateRe[0].replace(/th|rd|st|nd/, '')}Z`)\n    const time = /\\d+:\\d+/.exec(this.textOrder)[0]\n\n    const dateTime = new Date(`\n    ${date.getFullYear()}\n    ${date.getMonth() + 1}\n    ${date.getDate()}\n    ${time}`)\n\n    return dateTime\n  }\n\n  get duration() {\n    const duration = /\\d+(\\.\\d+)?(?=\\sh.)/.exec(this.textOrder)\n\n    if (!duration) throw new Error(cannotFind('duration'))\n\n    return duration[0]\n  }\n\n  get paymentType() {\n    const beginMarker = 'Payment Type: '\n    const endMarker = 'PRICE'\n\n    const beginIndex = this.textOrder.indexOf(beginMarker) + beginMarker.length\n    const endIndex = this.textOrder.indexOf(endMarker)\n\n    const paymentTypeField = this.textOrder.slice(beginIndex, endIndex).trim()\n\n    const nonWordChars = paymentTypeField\n      .match(/\\W+/g)\n      .filter((c) => c !== '/' && c !== ' ' && c !== '√§')\n\n    const endIndex2 = paymentTypeField.indexOf(nonWordChars[0].trim())\n\n    const paymentType = paymentTypeField.slice(0, endIndex2).trim()\n\n    if (!paymentType) throw new Error(cannotFind('payment type'))\n\n    // does payment type names include our payment type\n    if (!paymentTypes.map((p) => p.name).includes(paymentType)) {\n      throw new Error('Unrecognized payment type')\n    }\n    return paymentType\n  }\n\n  get movingBoxesPrice() {\n    const beginIndex = this.textOrder.indexOf('‚Äî Price: ')\n    const endIndex = this.textOrder.indexOf('‚Äî Booking time start')\n    const priceLine = this.textOrder.slice(beginIndex, endIndex)\n    const re = /\\d+/\n    const price = priceLine && priceLine.match(re)[0]\n    return price\n  }\n\n  get serviceName() {\n    const startMarker = 'Service: '\n    const endMarker = 'Accessories'\n    const fromIndex = this.textOrder.indexOf(startMarker) + startMarker.length\n    const endIndex = this.textOrder.indexOf(endMarker)\n    const serviceName = this.textOrder.slice(fromIndex, endIndex).trim()\n\n    if (!serviceName) {\n      throw new Error(cannotFind('service name'))\n    }\n\n    // Check if service with that name exists\n    const service = services.find((s) => s.name === serviceName)\n\n    if (!service) throw new Error('Unrecognized service name')\n\n    return serviceName\n  }\n\n  get addresses() {\n    const beginMarkers = ['Start location:', 'End location:']\n    const endMarkers = ['End location', 'Name']\n    const addresses = []\n\n    beginMarkers.forEach((marker, index) => {\n      const beginIndex = this.textOrder.indexOf(marker) + marker.length\n      const endIndex = this.textOrder.indexOf(endMarkers[index])\n\n      const rawAddress = this.textOrder.slice(beginIndex, endIndex).replaceAll(',', '').trim()\n\n      const cityField = rawAddress.slice(0, rawAddress.indexOf(' / '))\n\n      // Finnish postal codes are all 5 digits long\n      let postalCode = rawAddress.match(/\\d{5}/)\n      postalCode = (postalCode && postalCode[0]) || ''\n\n      const addressField = rawAddress.slice(rawAddress.indexOf(' / ') + ' / '.length)\n\n      let city = cityField.match(/\\D+/)\n      city = city && city[0]\n      let address = addressField.replace(postalCode, '')\n      address = address || null\n\n      const numbersInAddress = /\\d+/.test(addressField)\n\n      // User provided address instead of city and city instead of address\n      if (!numbersInAddress || (addressField.includes(postalCode) && addressField.length < 15)) {\n        address = cityField.replace(postalCode, '')\n        city = addressField.match(/\\D+/)\n        city = city && city[0]\n      }\n\n      if (address.includes(city)) {\n        address = address.replace(city, '')\n      }\n\n      if (index === 0 && !address) throw new Error(cannotFind('address'))\n\n      addresses.push(`${address}, ${postalCode} ${city}`.replace(/\\s+/g, ' ').trim())\n    })\n\n    return addresses\n  }\n\n  get address() {\n    return this.addresses[0]\n  }\n\n  get destination() {\n    // destructuring doesn't throw an error if destination is undefined\n    const [, destination] = this.addresses\n    return destination\n  }\n\n  get name() {\n    const beginMarker = 'Name: '\n    const endMarker = 'Email'\n\n    const beginIndex = this.textOrder.indexOf(beginMarker) + beginMarker.length\n    const endIndex = this.textOrder.indexOf(endMarker)\n\n    const name = this.textOrder.slice(beginIndex, endIndex).trim()\n\n    if (!name) throw new Error(cannotFind('name'))\n\n    return name\n  }\n\n  get email() {\n    // regex from internet\n    const email = /(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])/.exec(\n      this.textOrder\n    )\n\n    if (!email) throw new Error(cannotFind('email'))\n\n    return email[0]\n  }\n\n  get phone() {\n    // regex from internet\n    const phone = /(?<=Phone: )[+]*[(]{0,1}[0-9]{1,4}[)]{0,1}[-\\s\\./0-9]*/.exec(this.textOrder)\n\n    if (!phone) throw new Error(cannotFind('phone'))\n\n    return phone[0].trim()\n  }\n\n  get comment() {\n    let comment = /(?<=Comment: )(.*\\s*)*/.exec(this.textOrder)\n    comment = comment ? comment[0] : ''\n\n    const re = /\\n\\n\\-\\-\\nT√§m√§ viesti l√§hetettiin sivustolta Paku24\\.fi \\(https:\\/\\/paku24\\.fi\\)/\n    const footer = re.exec(comment)\n\n    if (footer) {\n      comment = comment.replace(re, '')\n    }\n\n    return comment\n  }\n\n  // get vanSize() {\n\n  // }\n\n  static initialCleanup(str) {\n    const splitStr = str.split('\\n')\n    const noRebundantWhitespace = []\n    splitStr.forEach((line) => noRebundantWhitespace.push(line.trim()))\n    const string = noRebundantWhitespace\n      .join('\\n')\n      .replaceAll('‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî', '')\n      .replaceAll('------------------------', '')\n\n    return string\n  }\n}\n","/* eslint-disable no-console */\nimport isJSON from 'validator/es/lib/isJSON'\nimport fees from '../data/fees.json'\nimport services from '../data/services.json'\nimport TextOrder from './TextOrder'\nimport paymentTypes from '../data/paymentTypes.json'\nimport distances from '../data/distances.json'\n\nconst defaultOrder = {\n  dateTime: new Date(),\n  duration: 1,\n  serviceName: services[0].name,\n  paymentType: paymentTypes[0].name,\n  address: '',\n  destination: '',\n  name: '',\n  email: '',\n  phone: '',\n  comment: '',\n  distance: distances.insideCapital,\n  hsy: false,\n  altColorPalette: false,\n  XL: false,\n}\nconst orderClassPropertyNames = Object.keys(defaultOrder)\n\nexport default class Order {\n  constructor(order) {\n    for (const propertyName of orderClassPropertyNames) {\n      this[propertyName] = order[propertyName] ?? defaultOrder[propertyName]\n    }\n    this.dateTime = new Date(order.dateTime)\n  }\n\n  get time() {\n    return this.dateTime.toTimeString().slice(0, 5)\n  }\n\n  get servicePrice() {\n    const service = services.find((s) => s.name === this.serviceName)\n    return this.XL ? service.priceXL : service.price\n  }\n\n  get ISODateString() {\n    return `${this.dateTime.toISOString().split('T')[0]}T${this.time}`\n  }\n\n  get confirmationDateString() {\n    let dd = this.dateTime.getDate()\n    let mm = this.dateTime.getMonth() + 1\n    const yyyy = this.dateTime.getFullYear()\n\n    if (dd < 10) {\n      dd = `0${dd}`\n    }\n    if (mm < 10) {\n      mm = `0${mm}`\n    }\n\n    return `${dd}-${mm}-${yyyy}`\n  }\n\n  get fees() {\n    const timeInNumberType = this.time.split(':')[0] * 1\n\n    const dayOFWeek = this.dateTime.getDay()\n    const dayOfMonth = this.dateTime.getDate()\n    const endOfMonth = [\n      new Date(this.dateTime.getFullYear(), this.dateTime.getMonth() + 1, 0).getDate(),\n      1,\n    ]\n\n    const weekEndFeeApplicable = dayOFWeek === 6 || dayOFWeek === 0\n    const endOfMonthFeeApplicable = !weekEndFeeApplicable && endOfMonth.includes(dayOfMonth)\n    const morningFeeApplicable = timeInNumberType < 8\n    const nightFeeApplicable = timeInNumberType >= 20\n    const paymentFeeApplicable =\n      this.paymentType === 'Lasku' ||\n      this.paymentType === 'Lasku/Osamaksu' ||\n      this.paymentType === 'Invoice/Instalment payment'\n\n    return [\n      weekEndFeeApplicable && fees.weekend,\n      endOfMonthFeeApplicable && fees.firstOrLastDayOfTheMonth,\n      morningFeeApplicable && fees.morning,\n      nightFeeApplicable && fees.night,\n      paymentFeeApplicable && fees.bill,\n    ].filter((f) => f !== false)\n  }\n\n  printFees() {\n    const template = '\\n@feeName\\n@feeAmount'\n    // template needs to be as long as the fees array\n    let printed = template.repeat(this.fees.length)\n    this.fees.forEach((fee) => {\n      printed = printed.replace('@feeName', fee.name.toUpperCase())\n      printed = printed.replace('@feeAmount', `${fee.amount}‚Ç¨`)\n    })\n\n    return printed\n  }\n\n  /**\n   * Deletes properties hsy, altColorPalette and distance.\n   * Transforms to JSON\n   */\n  prepareForSending() {\n    const filtered = this\n    delete filtered.hsy\n    delete filtered.altColorPalette\n    delete filtered.distance\n    return JSON.stringify(filtered)\n  }\n\n  static getEventForCalendar(formattedStr, startMarker) {\n    return formattedStr.slice(formattedStr.indexOf(startMarker))\n  }\n\n  static setupOrderFromText(text) {\n    return new Promise((resolve) => {\n      if (isJSON(text)) {\n        resolve(new Order(JSON.parse(text)))\n      }\n\n      const orderArguments = {}\n      const textOrder = new TextOrder(text)\n      for (const propertyName of orderClassPropertyNames) {\n        orderArguments[propertyName] = textOrder[propertyName]\n      }\n      resolve(new Order(orderArguments))\n    })\n  }\n\n  static default() {\n    return new Order(defaultOrder)\n  }\n\n  static transformToText(order, notificate) {\n    let transformed\n    try {\n      transformed = `VARAUKSEN TIEDOT\n${order.confirmationDateString}\nALKAMISAIKA\nKlo ${order.time} (+/-15min)\nARVIOITU KESTO\n${order.duration}h (${order.servicePrice}‚Ç¨/h, ${order.serviceName})\nMAKSUTAPA\n${order.paymentType}${order.printFees()}\nL√ÑHT√ñPAIKKA\n${order.address}\n${order.destination.length > 5 ? `M√Ñ√ÑR√ÑNP√Ñ√Ñ\\n${order.destination}\\n` : ''}NIMI\n${order.name}\n${order.email ? `S√ÑHK√ñPOSTI\\n${order.email}\\n` : ''}PUHELIN\n${order.phone}\n${order.comment ? `LIS√ÑTIETOJA\\n${order.comment}\\n` : ''}`\n      notificate('Succesefully formatted!')\n    } catch (err) {\n      console.error(err)\n      notificate(err.message)\n    }\n    return transformed\n  }\n}\n","/* eslint-disable no-param-reassign */\nimport React from 'react'\nimport { useSnackbar } from 'notistack'\nimport EventIcon from '@material-ui/icons/Event'\nimport addEventToCalendar from '../../../services/calendarAPI'\nimport orderPoolAPI from '../../../services/orderPoolAPI'\nimport Order from '../../../helpers/Order'\n\nimport CustomButton from './CustomButton'\n\nconst CALENDAR = 'calendar'\n\nexport default function AddOrderToCalendarButton({\n  order,\n  orderId,\n  transformedOrderText,\n  statusText,\n  isDisabled,\n  changeStatus,\n  className,\n}) {\n  const { enqueueSnackbar } = useSnackbar()\n\n  async function handleAddingToCalendar() {\n    try {\n      const entry = Order.getEventForCalendar(transformedOrderText, order.address)\n      if (entry) {\n        changeStatus(CALENDAR, 'Working', true)\n        const response = await addEventToCalendar({\n          entry,\n          order,\n          fees: order.fees,\n        })\n        if (!orderId) {\n          const { id } = await orderPoolAPI.add({\n            order: order.prepareForSending(),\n            key: 'supersecretorderpoolkey',\n          })\n          orderId = id\n        }\n        await orderPoolAPI.confirm(orderId)\n        changeStatus(CALENDAR, 'Done', true)\n        enqueueSnackbar(`${response.message}\\n${response.createdEvent}`)\n      }\n    } catch (err) {\n      if (err.message === 'logout') return\n      changeStatus(CALENDAR, 'Error', false)\n      enqueueSnackbar(err.response?.data.error, { variant: 'error' })\n    }\n  }\n\n  const buttonContent = statusText || (\n    <>\n      <span>Add</span> <EventIcon />\n    </>\n  )\n\n  return (\n    <CustomButton\n      className={className}\n      isDisabled={isDisabled}\n      grayScale={statusText !== null}\n      handleClick={handleAddingToCalendar}\n      content={buttonContent}\n    />\n  )\n}\n","import React, { useState } from 'react'\nimport NewOrderButton from '../NewOrderButton'\nimport OrderPoolOpenerButton from '../OrderPool/OrderPoolOpenerButton'\nimport MessageBeforeButton from './MessageBeforeButton'\nimport ConfirmationEmailSenderButton from './ConfirmationEmailSenderButton'\nimport ConfirmationSMSSenderButton from './ConfirmationSMSSenderButton'\nimport AddOrderToCalendarButton from './AddOrderToCalendarButton'\nimport './OrderOperations.css'\n\nexport default function MainOperationsPanel({\n  order,\n  orderId,\n  transformedOrder,\n  handleResetClick,\n  orderPoolUrl,\n}) {\n  const defaultStatuses = {\n    email: {\n      status: null,\n      disable: false,\n    },\n    sms: {\n      status: null,\n      disable: false,\n    },\n    calendar: {\n      status: null,\n      disable: false,\n    },\n  }\n  const [statuses, setStatuses] = useState(defaultStatuses)\n\n  function changeStatus(name, status, disable) {\n    setStatuses({ ...statuses, [name]: { status, disable } })\n  }\n\n  function emailBlock() {\n    const isDisabled = statuses.email.disable || !(order.email && transformedOrder.text)\n    return (\n      <div className=\"block\">\n        <MessageBeforeButton\n          className={`width-75 ${isDisabled && 'grayedFont'}`}\n          text={`Email to: ${order.email}`}\n        />\n        <ConfirmationEmailSenderButton\n          className=\"width-25\"\n          email={order.email}\n          order={order}\n          statusText={statuses.email.status}\n          isDisabled={isDisabled}\n          transformedOrderText={transformedOrder.text}\n          changeStatus={changeStatus}\n        />\n      </div>\n    )\n  }\n\n  function smsBlock() {\n    const isDisabled = statuses.sms.disable || !(order.phone && transformedOrder.text)\n    return (\n      <div className=\"block\">\n        <MessageBeforeButton\n          className={`width-75 ${isDisabled && 'grayedFont'}`}\n          text={`Sms to: ${order.phone}`}\n        />\n        <ConfirmationSMSSenderButton\n          className=\"width-25\"\n          statusText={statuses.sms.status}\n          isDisabled={isDisabled}\n          phone={order.phone}\n          transformedOrderText={transformedOrder.text}\n          changeStatus={changeStatus}\n        />\n      </div>\n    )\n  }\n\n  function threeButtonsBlock() {\n    const isDisabled = statuses.calendar.disable || !transformedOrder.text\n    return (\n      <div className=\"block\">\n        <NewOrderButton\n          className=\"share-space\"\n          handleClick={() => {\n            setStatuses(defaultStatuses)\n            handleResetClick()\n          }}\n        />\n        <OrderPoolOpenerButton className=\"share-space\" orderPoolUrl={orderPoolUrl} />\n        <AddOrderToCalendarButton\n          className=\"width-25\"\n          statusText={statuses.calendar.status}\n          isDisabled={isDisabled}\n          order={order}\n          orderId={orderId}\n          transformedOrderText={transformedOrder.text}\n          changeStatus={changeStatus}\n        />\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"order-operations\">\n      {emailBlock()}\n      {smsBlock()}\n      {threeButtonsBlock()}\n    </div>\n  )\n}\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport useMediaQuery from '@material-ui/core/useMediaQuery'\nimport { useTheme } from '@material-ui/core/styles'\n\nexport default function ResponsiveDialog({ children, handleClose }) {\n  const theme = useTheme()\n  const fullScreen = useMediaQuery(theme.breakpoints.down('sm'))\n\n  return (\n    <>\n      <Dialog\n        fullScreen={fullScreen}\n        open\n        onClose={handleClose}\n        aria-labelledby=\"responsive-dialog-title\"\n        disableScrollLock\n      >\n        <DialogContent>{children}</DialogContent>\n        <DialogActions>\n          <Button style={{ backgroundColor: 'white' }} variant=\"text\" onClick={handleClose}>\n            Close\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  )\n}\n","import React from 'react'\n\nexport default function LoadingUntillDone({ loading, redirectComponent = null, children }) {\n  return (\n    <>\n      {loading && <p>Loading...</p>}\n      {redirectComponent}\n      {!loading && !redirectComponent && children}\n    </>\n  )\n}\n","/* eslint-disable react/no-array-index-key */\nimport React, { useEffect, useState } from 'react'\nimport Button from '@material-ui/core/Button'\nimport isJSON from 'validator/es/lib/isJSON'\n\nexport default function OrdersList({\n  orders,\n  handleExport,\n  handleDeletion,\n  handleLoadingMoreOrders,\n  labelForDeletion,\n}) {\n  const [ordersWithStyles, setOrdersWithStyles] = useState([])\n\n  useEffect(() => {\n    setOrdersWithStyles(\n      orders.map((order) => ({\n        order: {\n          ...order,\n        },\n        isNew: new Date(order.date).toDateString() === new Date(Date.now()).toDateString(),\n        className: order.confirmed\n          ? 'basic-order-style confirmed-order-style'\n          : 'basic-order-style',\n        hidden: order.confirmed,\n      }))\n    )\n  }, [orders])\n\n  function handleHideOrShow(orderWithStyles) {\n    setOrdersWithStyles([\n      ...ordersWithStyles.map((o) => {\n        if (o.order.id === orderWithStyles.order.id) {\n          return {\n            ...orderWithStyles,\n            hidden: !o.hidden,\n            className: o.hidden ? 'basic-order-style' : 'basic-order-style confirmed-order-style',\n          }\n        }\n        return o\n      }),\n    ])\n  }\n\n  function empty() {\n    return <p>Nothing found</p>\n  }\n\n  function JSONOrder(jsonOrder, id) {\n    return Object.entries(JSON.parse(jsonOrder)).map(([fieldName, fieldValue], index) => (\n      <div\n        key={`${fieldName}${fieldValue}${id}`}\n        style={{\n          minHeight: '1.2rem',\n          backgroundColor: index % 2 !== 0 && 'var(--brand-color-very-light)',\n        }}\n      >\n        <span style={{ fontWeight: 'bold' }}>{fieldName}</span>:{' '}\n        {fieldName === 'dateTime'\n          ? `${new Date(fieldValue).toLocaleDateString()} ${new Date(fieldValue)\n              .toLocaleTimeString()\n              .slice(0, 5)}`\n          : fieldValue}\n      </div>\n    ))\n  }\n\n  function textOrder(txtOrder, id) {\n    return txtOrder.split('\\n').map((line, index) => <div key={`${id}${index}${line}`}>{line}</div>)\n  }\n\n  function list() {\n    return (\n      <>\n        {ordersWithStyles.map((orderWithStyles) => (\n          <div className=\"order-pool-list\" key={orderWithStyles.order.id}>\n            <div className=\"order-top-bar\">\n              <div className=\"order-status-icons-container\">\n                {orderWithStyles.isNew && (\n                  <span className=\"order-status-new-order order-status-icon\">NEW</span>\n                )}\n                <span\n                  className={`order-status-icon ${\n                    orderWithStyles.order.confirmed\n                      ? 'order-status-icon order-status-confirmed'\n                      : 'order-status-icon order-status-notification'\n                  }`}\n                >\n                  {orderWithStyles.order.confirmed ? '‚úî' : '‚ùï'}{' '}\n                </span>\n              </div>\n              <div className=\"order-actions\">\n                <Button\n                  style={{ padding: 0, fontSize: '0.9rem' }}\n                  variant=\"text\"\n                  size=\"small\"\n                  onClick={() => handleDeletion(orderWithStyles.order.id)}\n                >\n                  {labelForDeletion}\n                </Button>\n                <Button\n                  style={{\n                    padding: 0,\n                    fontSize: '0.8rem',\n                    color: orderWithStyles.order.confirmed && 'var(--brand-color-dark)',\n                  }}\n                  onClick={() => {\n                    handleExport(orderWithStyles.order)\n                  }}\n                  variant=\"text\"\n                  size=\"small\"\n                >\n                  Export\n                </Button>\n                <Button\n                  style={{ padding: 0 }}\n                  variant=\"text\"\n                  size=\"small\"\n                  onClick={() => handleHideOrShow(orderWithStyles)}\n                >\n                  {orderWithStyles.hidden ? 'Show ‚ûï' : 'Hide ‚ûñ'}\n                </Button>\n              </div>\n            </div>\n            <div className={orderWithStyles.className}>\n              {isJSON(orderWithStyles.order.text)\n                ? JSONOrder(orderWithStyles.order.text, orderWithStyles.order.id)\n                : textOrder(orderWithStyles.order.text, orderWithStyles.order.id)}\n            </div>\n          </div>\n        ))}\n        <Button onClick={handleLoadingMoreOrders} size=\"small\">\n          Load more\n        </Button>\n      </>\n    )\n  }\n\n  return orders.length === 0 ? empty() : list()\n}\n","import React, { useEffect, useState } from 'react'\nimport TextField from '@material-ui/core/TextField'\nimport Button from '@material-ui/core/Button'\nimport IconButton from '@material-ui/core/IconButton'\nimport RefreshIcon from '@material-ui/icons/Refresh'\nimport DeleteIcon from '@material-ui/icons/Delete'\nimport RestoreIcon from '@material-ui/icons/Restore'\nimport orderPoolAPI from '../../../services/orderPoolAPI'\nimport LoadingUntillDone from '../../LoadingUntillDone'\nimport OrdersList from './OrdersList'\nimport './OrderPool.css'\n\nconst INBOX = 'inbox'\nconst TRASHCAN = 'trashcan'\n\nexport default function OrderPool({ handleExport }) {\n  const [orders, setOrders] = useState([])\n  const [isLoading, setIsloading] = useState(true)\n\n  const [currentTab, setCurrentTab] = useState(INBOX)\n  const [searchOptions, setSearchOptions] = useState({\n    inbox: {\n      pages: [1],\n      searchText: '',\n      showOnlyNotConfirmed: false,\n    },\n    trashcan: {\n      pages: [1],\n      searchText: '',\n      showOnlyNotConfirmed: false,\n    },\n  })\n  const [searchResults, setSearchResults] = useState(orders)\n  const [forceUpdate, setForceUpdate] = useState({ hasToUpdate: false, trigger: 0 })\n  const [pages, setPages] = useState({ inbox: [1], trashcan: [1] })\n\n  const numberOfOrders = orders.length\n  const numberOfUnconfirmedOrders = orders.filter((order) => !order.confirmed).length\n\n  function filterWithSearchText(values, search) {\n    return values.filter((value) => value.text.toLowerCase().includes(search?.toLowerCase().trim()))\n  }\n\n  function filterConfirmed(values, condition) {\n    return condition ? values.filter((value) => value?.confirmed === false) : values\n  }\n\n  function makeSearch(val, bool, searchTarget) {\n    const filteredWithConfirmedAndSearch = filterConfirmed(\n      filterWithSearchText(searchTarget, val),\n      bool\n    )\n    return filteredWithConfirmedAndSearch\n  }\n\n  useEffect(async () => {\n    setIsloading(true)\n    let ordersFromPool\n    try {\n      ordersFromPool =\n        currentTab === INBOX\n          ? await orderPoolAPI.get(pages[currentTab], {\n              forceUpdate: forceUpdate.hasToUpdate,\n            })\n          : await orderPoolAPI.get(pages[currentTab], {\n              deleted: true,\n              forceUpdate: forceUpdate.hasToUpdate,\n            })\n\n      setOrders(ordersFromPool)\n\n      const filteredOrders = makeSearch(\n        searchOptions[currentTab].searchText,\n        searchOptions[currentTab].showOnlyNotConfirmed,\n        ordersFromPool\n      )\n      setSearchResults(filteredOrders)\n      return setIsloading(false)\n    } catch (err) {\n      return err\n    }\n  }, [currentTab, forceUpdate.trigger])\n\n  async function handleLoadingMoreOrders() {\n    const newPage = [pages[currentTab].length + 1]\n    setPages({\n      ...pages,\n      [currentTab]: [...pages[currentTab], ...newPage],\n    })\n    const moreOrdersFromPool =\n      currentTab === INBOX\n        ? await orderPoolAPI.get(newPage)\n        : await orderPoolAPI.get(newPage, { deleted: true })\n\n    const concatenatedOrders = orders.concat(moreOrdersFromPool)\n\n    setOrders(concatenatedOrders)\n\n    const filteredOrders = makeSearch(\n      searchOptions[currentTab].searchText,\n      searchOptions[currentTab].showOnlyNotConfirmed,\n      concatenatedOrders\n    )\n    setSearchResults(filteredOrders)\n  }\n\n  function handleSearchChange(e) {\n    const prevOptsForCurTab = searchOptions[currentTab]\n    setSearchOptions({\n      ...searchOptions,\n      [currentTab]: { ...prevOptsForCurTab, searchText: e.target.value },\n    })\n\n    const filteredOrders = makeSearch(\n      e.target.value,\n      prevOptsForCurTab.showOnlyNotConfirmed,\n      orders\n    )\n\n    setSearchResults(filteredOrders)\n  }\n\n  function handleOnlyNotConfirmedSearch(bool) {\n    const prevOptsForCurTab = searchOptions[currentTab]\n    setSearchOptions({\n      ...searchOptions,\n      [currentTab]: { ...prevOptsForCurTab, showOnlyNotConfirmed: bool },\n    })\n\n    const filteredOrders = makeSearch(prevOptsForCurTab.searchText, bool, orders)\n\n    setSearchResults(filteredOrders)\n  }\n\n  function handleTabBarChange(e) {\n    setCurrentTab(e.target.dataset.tabname)\n  }\n\n  function handleRefresh() {\n    setForceUpdate({\n      ...forceUpdate,\n      trigger: forceUpdate.trigger + 1,\n      hasToUpdate: true,\n    })\n    setTimeout(() =>\n      setForceUpdate({\n        ...forceUpdate,\n        hasToUpdate: false,\n      })\n    )\n  }\n\n  async function handleOrderDeletion(id) {\n    await orderPoolAPI.remove(id)\n    setOrders(orders.filter((order) => order.id !== id))\n    setSearchResults(searchResults.filter((order) => order.id !== id))\n  }\n\n  async function handleRetrieval(id) {\n    await orderPoolAPI.retrieve(id)\n    setOrders(orders.filter((order) => order.id !== id))\n    setSearchResults(searchResults.filter((order) => order.id !== id))\n  }\n\n  const inboxClassName = () =>\n    currentTab === INBOX ? 'tab-panel-item tab-panel-item-selected' : 'tab-panel-item'\n\n  const trashcanClassName = () =>\n    currentTab === TRASHCAN ? 'tab-panel-item tab-panel-item-selected' : 'tab-panel-item'\n\n  return (\n    <>\n      <div className=\"tab-panel\">\n        <Button onClick={handleTabBarChange} className=\"p-0\" variant=\"text\" size=\"small\">\n          <h3 data-tabname={INBOX} className={inboxClassName()}>\n            Inbox\n          </h3>\n        </Button>\n        <Button onClick={handleTabBarChange} className=\"p-0\" variant=\"text\" size=\"small\">\n          <h3 data-tabname={TRASHCAN} className={trashcanClassName()}>\n            Trashcan\n          </h3>\n        </Button>\n        <IconButton\n          style={{ marginLeft: 'auto', marginRight: '12px' }}\n          onClick={handleRefresh}\n          className=\"p-0\"\n          variant=\"text\"\n          size=\"small\"\n        >\n          <RefreshIcon />\n        </IconButton>\n      </div>\n      <div className=\"filters-tab\">\n        <span className=\"filters-tab-orders-count\">\n          {searchResults.length}/{orders.length}\n        </span>\n        <TextField\n          className=\"flex-item\"\n          type=\"text\"\n          name=\"searchText\"\n          placeholder=\"Search\"\n          value={searchOptions[currentTab].searchText}\n          onChange={handleSearchChange}\n        />\n        {numberOfUnconfirmedOrders > 0 && (\n          <Button\n            className=\"p-0 filters-tab-orders-status-icon\"\n            size=\"small\"\n            onClick={() =>\n              handleOnlyNotConfirmedSearch(!searchOptions[currentTab].showOnlyNotConfirmed)\n            }\n          >\n            <span style={{ fontSize: '1rem' }}>\n              {searchOptions[currentTab].showOnlyNotConfirmed\n                ? numberOfOrders\n                : numberOfUnconfirmedOrders}\n            </span>\n            <span\n              className={`order-status-icon order-status-notification ${\n                searchOptions[currentTab].showOnlyNotConfirmed && 'order-status-icon-selected'\n              }`}\n            >\n              {searchOptions[currentTab].showOnlyNotConfirmed ? '‚úî&‚ùï' : '‚ùï'}\n            </span>\n          </Button>\n        )}\n      </div>\n      <LoadingUntillDone loading={isLoading}>\n        <OrdersList\n          orders={searchResults}\n          handleExport={handleExport}\n          labelForDeletion={currentTab === TRASHCAN ? <RestoreIcon /> : <DeleteIcon />}\n          handleDeletion={currentTab === TRASHCAN ? handleRetrieval : handleOrderDeletion}\n          handleLoadingMoreOrders={handleLoadingMoreOrders}\n        />\n      </LoadingUntillDone>\n    </>\n  )\n}\n","import React from 'react'\nimport { useHistory } from 'react-router-dom'\nimport ResponsiveDialog from '../../ResponsiveDialog'\nimport OrderPool from './OrderPool'\n\nexport default function OrderPoolDialog({ handleExport }) {\n  const history = useHistory()\n\n  const handleClose = () => {\n    history.goBack()\n  }\n\n  return (\n    <>\n      <ResponsiveDialog handleClose={handleClose}>\n        <OrderPool\n          handleExport={(o) => {\n            handleExport(o)\n            handleClose()\n          }}\n        />\n      </ResponsiveDialog>\n    </>\n  )\n}\n","import React, { useState, useRef, useEffect } from 'react'\nimport { useSnackbar } from 'notistack'\nimport { Route } from 'react-router-dom'\n\nimport './Confirmator.css'\nimport Editor from './Editor'\n\nimport OrderSettings from './OrderSettings'\nimport ValidationDisplay from './ValidationDisplay'\nimport RawOrderContainer from './OrderContainers/RawOrderContainer'\nimport TransformedOrderContainer from './OrderContainers/TransformedOrderContainer'\nimport TransformPanel from './OrderOperations/TransformPanel'\nimport MainOperationsPanel from './OrderOperations/MainOperationsPanel'\nimport OrderPoolDialog from './OrderPool/OrderPoolDialog'\n\nimport Order from '../../helpers/Order'\n\nexport default function Confirmator() {\n  const [rawOrder, setRawOrder] = useState({ text: '', id: null })\n  const [transformedOrder, setTransformedOrder] = useState({\n    text: '',\n    id: null,\n  })\n\n  const [order, setOrder] = useState(Order.default())\n\n  useEffect(() => {\n    const savedOrder = localStorage.getItem('confirmator_order')\n    const savedRawOrder = localStorage.getItem('confirmator_rawOrder')\n    savedOrder && setOrder(new Order(JSON.parse(savedOrder)))\n    savedRawOrder && setRawOrder(JSON.parse(savedRawOrder))\n  }, [])\n\n  useEffect(() => {\n    localStorage.setItem('confirmator_order', JSON.stringify(order))\n  }, [order])\n  useEffect(() => {\n    localStorage.setItem('confirmator_rawOrder', JSON.stringify(rawOrder))\n  }, [rawOrder])\n\n  const { enqueueSnackbar } = useSnackbar()\n\n  function transform(o) {\n    return Order.transformToText(o, (msg) => enqueueSnackbar(msg, { autoHideDuration: 750 }))\n  }\n\n  const rawOrderOrderContainerRef = useRef(null)\n  const transformedOrderContainerRef = useRef(null)\n\n  function reset() {\n    setRawOrder({ text: '', id: null })\n    setTransformedOrder({ text: '', id: null })\n    setOrder(Order.default())\n  }\n\n  function handleOrderChange(e) {\n    const changedOrder = new Order({\n      ...order,\n      [e.target.name]: e.target.type === 'checkbox' ? e.target.checked : e.target.value,\n    })\n    return setOrder(changedOrder)\n  }\n\n  function handleRawOrderUpdate(rawO) {\n    // Raw order has an id and is an object if it is exported from DB otherwise it's a plain string\n    setRawOrder({ ...rawOrder, id: rawO.id || null, text: rawO.text || rawO })\n  }\n  function handleTransformedOrderUpdate(transO) {\n    setTransformedOrder({ ...transformedOrder, text: transO })\n  }\n\n  function handleOrderTransformFromText(o = rawOrder) {\n    Order.setupOrderFromText(o.text)\n      .then((orderFromText) => {\n        setOrder(orderFromText)\n        return setTransformedOrder({\n          id: o.id,\n          text: transform(orderFromText),\n        })\n      })\n      .catch((err) => enqueueSnackbar(err.message, { variant: 'error' }))\n  }\n\n  function handleOrderTransformFromEditor() {\n    return setTransformedOrder({ id: rawOrder.id, text: transform(order) })\n  }\n\n  function handleOrderPoolExport(o) {\n    handleRawOrderUpdate(o)\n    handleOrderTransformFromText(o)\n    setTimeout(() => rawOrderOrderContainerRef.current.scrollIntoView({ smooth: true }), 700)\n  }\n\n  return (\n    <div className=\"flex-container\">\n      <RawOrderContainer\n        elementRef={rawOrderOrderContainerRef}\n        rawOrderText={rawOrder.text}\n        handleClick={handleRawOrderUpdate}\n      />\n\n      <Editor order={order} handleChange={handleOrderChange} />\n\n      <TransformPanel\n        elementRef={transformedOrderContainerRef}\n        transformDisabled={!rawOrder.text}\n        copyDisabled={!transformedOrder.text}\n        handleOrderTransformFromText={handleOrderTransformFromText}\n        handleOrderTransformFromEditor={handleOrderTransformFromEditor}\n      />\n\n      <TransformedOrderContainer\n        elementRef={transformedOrderContainerRef}\n        transformedOrderText={transformedOrder.text}\n        handleClick={handleTransformedOrderUpdate}\n      />\n\n      <OrderSettings handleChange={handleOrderChange} order={order} />\n      <ValidationDisplay order={order} shouldValidate={transformedOrder.text} />\n      <MainOperationsPanel\n        order={order}\n        orderId={rawOrder.id}\n        transformedOrder={transformedOrder}\n        handleResetClick={reset}\n        orderPoolUrl=\"/confirmator/order-pool\"\n      />\n      <Route path=\"/confirmator/order-pool\">\n        <OrderPoolDialog handleExport={handleOrderPoolExport} />\n      </Route>\n    </div>\n  )\n}\n","import React, { useState, useEffect } from 'react'\nimport TextField from '@material-ui/core/TextField'\nimport Popper from '@material-ui/core/Popper'\nimport Table from '@material-ui/core/Table'\nimport TableBody from '@material-ui/core/TableBody'\nimport TableCell from '@material-ui/core/TableCell'\nimport TableContainer from '@material-ui/core/TableContainer'\nimport TableHead from '@material-ui/core/TableHead'\nimport TableRow from '@material-ui/core/TableRow'\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener'\nimport Paper from '@material-ui/core/Paper'\nimport IconButton from '@material-ui/core/IconButton'\nimport dayjs from 'dayjs'\nimport isoWeek from 'dayjs/plugin/isoWeek'\nimport weekOfYear from 'dayjs/plugin/weekOfYear'\nimport isSameOrAfter from 'dayjs/plugin/isSameOrAfter'\nimport './Statistics.css'\nimport orderPoolApi from '../../services/orderPoolAPI'\n\ndayjs.extend(isSameOrAfter)\ndayjs.extend(isoWeek)\ndayjs.extend(weekOfYear)\n\n/**\n * @param {Object} period\n * @param {dayjsdate} period.periodFrom\n * @param {dayjsdate} period.periodTo\n * @return {Array} Example: [{ periodFrom: '2021-05-23T21:00:00.000Z', periodTo: '2021-05-30T21:00:00.000Z'}]\n */\n\nfunction splitPeriodToWeeks({ periodFrom, periodTo }) {\n  const numberOfWeeks = periodTo.isoWeek() - periodFrom.isoWeek() + 1 // example 6\n  const weeks = Array(numberOfWeeks)\n    .fill(periodFrom.isoWeek())\n    .map((number, count) => number + count) // example [17, 18, 19, 20, 21, 22]\n    .map((weekNumber) => ({\n      periodFrom: dayjs().isoWeek(weekNumber).startOf('isoWeek').toISOString(),\n      periodTo: dayjs()\n        .isoWeek(weekNumber + 1)\n        .startOf('isoWeek')\n        .toISOString(),\n    }))\n\n  return weeks\n}\n\nfunction splitOrdersByPeriods(orders, periods) {\n  const splitted = []\n  periods.forEach((period) => {\n    const filtered = orders.filter(\n      (o) =>\n        dayjs(o.confirmedAt).isSameOrAfter(dayjs(period.periodFrom)) &&\n        dayjs(o.confirmedAt).isBefore(dayjs(period.periodTo))\n    )\n    splitted.push(filtered)\n  })\n\n  return splitted\n}\n\nfunction createData(name, orderCount) {\n  return { name, orderCount }\n}\n\n/**\n * @returns {array} Array of objects\n */\nfunction makeRows(labels, data) {\n  return data.map((d, i) => createData(labels[i], d))\n}\n\nfunction makeWeekRows(orders, weeks) {\n  return makeRows(\n    orders.map((o, i) => `Week ${dayjs(weeks[i].periodFrom).isoWeek()}`),\n    orders.map((o) => o.length)\n  )\n}\n\nfunction makeTotalRow(orders) {\n  return makeRows(\n    ['Total during specified period'],\n    orders.map((o) => o.length)\n  )\n}\n\nexport default function Statistics() {\n  const defStartDate = dayjs().startOf('month')\n  const defEndDate = defStartDate.add(1, 'month').startOf('month')\n  const [period, setPeriod] = useState({\n    periodFrom: defStartDate,\n    periodTo: defEndDate,\n  })\n  const [confirmedOrders, setConfirmedOrders] = useState([])\n  const [ordersByDays, setOrdersByDays] = useState({})\n  const [anchorEl, setAnchorEl] = useState(null)\n\n  let weeks = splitPeriodToWeeks(period)\n  let ordersByWeeks = splitOrdersByPeriods(confirmedOrders, weeks)\n  const [rows, setRows] = useState([])\n\n  useEffect(async () => {\n    weeks = splitPeriodToWeeks(period)\n    const firstWeek = weeks[0]\n    const lastWeek = weeks[weeks.length - 1]\n\n    const {\n      confirmedOrders: confirmedOrdersOfAllWeeksOfPeriod,\n    } = await orderPoolApi.getConfirmedOrders({\n      periodFrom: firstWeek.periodFrom,\n      periodTo: lastWeek.periodTo,\n    })\n    setConfirmedOrders(confirmedOrdersOfAllWeeksOfPeriod)\n\n    ordersByWeeks = splitOrdersByPeriods(confirmedOrdersOfAllWeeksOfPeriod, weeks)\n    const ordersOfWholePeriod = splitOrdersByPeriods(confirmedOrdersOfAllWeeksOfPeriod, [period])\n\n    const weekRows = makeWeekRows(ordersByWeeks, weeks)\n    const totalRow = makeTotalRow(ordersOfWholePeriod)\n\n    setRows([...weekRows, ...totalRow])\n  }, [period])\n\n  function handlePeriodChange(e) {\n    setPeriod({ ...period, [e.target.name]: dayjs(e.target.value) })\n  }\n\n  function showOrdersByDay(e) {\n    setAnchorEl(e.currentTarget)\n\n    const ordersOfSelectedWeek = ordersByWeeks[e.currentTarget.dataset.rownumber]\n\n    const ordByDays = {}\n\n    ordersOfSelectedWeek.forEach((order) => {\n      const day = new Date(order.confirmedAt).toLocaleDateString('en-US', { weekday: 'long' })\n      if (ordByDays[day] == null) {\n        ordByDays[day] = []\n      }\n      ordByDays[day].push(order)\n    })\n\n    setOrdersByDays(ordByDays)\n  }\n\n  const open = Boolean(anchorEl)\n  const shouldApplyEventHandler = (row) => row.orderCount > 0 && !row.name.includes('Total')\n\n  return (\n    <div className=\"statistics\">\n      <div className=\"row-flex-start gap-1 dates\">\n        <TextField\n          onChange={handlePeriodChange}\n          name=\"periodFrom\"\n          label=\"Start of period\"\n          type=\"date\"\n          value={period.periodFrom.format('YYYY-MM-DD')}\n        />\n        <TextField\n          onChange={handlePeriodChange}\n          name=\"periodTo\"\n          label=\"End of period\"\n          type=\"date\"\n          value={period.periodTo.format('YYYY-MM-DD')}\n        />\n      </div>\n      <TableContainer component={Paper}>\n        <Table aria-label=\"statistics table\">\n          <TableHead>\n            <TableRow>\n              <TableCell>Statistics</TableCell>\n              <TableCell align=\"right\">Confirmed orders</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {rows.map((row, rowNumber) => (\n              <TableRow key={row.name}>\n                <TableCell component=\"th\" scope=\"row\">\n                  {row.name}\n                </TableCell>\n                <TableCell align=\"right\">\n                  <Popper style={{ padding: 10 }} placement=\"left\" open={open} anchorEl={anchorEl}>\n                    <ClickAwayListener\n                      mouseEvent=\"onMouseDown\"\n                      touchEvent=\"onTouchStart\"\n                      onClickAway={() => setAnchorEl(null)}\n                    >\n                      <Paper>\n                        <div style={{ padding: 10 }}>\n                          {Object.entries(ordersByDays).map(([key, value]) => (\n                            <div key={key}>\n                              {key}: {value.length}\n                            </div>\n                          ))}\n                        </div>\n                      </Paper>\n                    </ClickAwayListener>\n                  </Popper>\n                  <IconButton\n                    data-rownumber={rowNumber}\n                    size=\"small\"\n                    onClick={shouldApplyEventHandler(row) ? showOrdersByDay : null}\n                  >\n                    {row.orderCount}\n                  </IconButton>\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </div>\n  )\n}\n","export default __webpack_public_path__ + \"static/media/paku24-logo.7602fc02.png\";","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport './Header.css'\nimport logo from '../assets/paku24-logo.png'\n\nexport default function Header({ isLogged }) {\n  return (\n    <div className=\"logo\">\n      <div>\n        <Link to={isLogged ? '/' : '/login'}>\n          <img src={logo} alt=\"Logo\" width=\"125px\" />\n        </Link>\n        <span className=\"text\">CONFIRMATOR</span>\n      </div>\n    </div>\n  )\n}\n","import axios from 'axios'\n\nconst baseUrl = '/api/login'\n\n// Defining interceptor specific to login service\n// Default interceptor notifies about refresh token problems\n// We don't need to notify about that when the user opens the app for the first time\n// (eg. when trying to login)\nconst axiosLoginInstance = axios.create()\naxiosLoginInstance.interceptors.response.use(\n  (response) => response,\n  async (error) => {\n    const originalRequest = error.config\n    if (error.response.data.error === 'access token expired') {\n      try {\n        await axios.post('/api/token')\n        await axios.post('/api/token/is-new')\n        return axiosLoginInstance(originalRequest)\n      } catch (err) {\n        return err\n      }\n    }\n\n    return Promise.reject(error)\n  }\n)\n\nasync function loginWithCredentials(credentials) {\n  return axiosLoginInstance.post(baseUrl, credentials).then((res) => res.data)\n}\n\nasync function loginWithAccessToken() {\n  const response = await axiosLoginInstance.post(`${baseUrl}/token`)\n  return response.data\n}\n\nexport default { loginWithCredentials, loginWithAccessToken }\n","import React from 'react'\nimport InfoOutlinedIcon from '@material-ui/icons/InfoOutlined'\n\nconst Notification = ({ notification }) => {\n  let color = 'black'\n  if (notification.toLowerCase().includes('error')) color = 'red'\n\n  return (\n    <>\n      {notification ? (\n        <div\n          style={{\n            backgroundColor: 'white',\n            color,\n            padding: '10px',\n            width: '80%',\n            borderBottom: '3px solid darkgrey',\n            fontSize: 'small',\n            display: 'flex',\n            alignItems: 'center',\n            marginBottom: '10px',\n          }}\n        >\n          <InfoOutlinedIcon />\n          <span style={{ marginLeft: '10px' }}>{notification}</span>\n        </div>\n      ) : null}\n    </>\n  )\n}\n\nexport default Notification\n","import React, { useState } from 'react'\nimport { useHistory, Link } from 'react-router-dom'\nimport TextField from '@material-ui/core/TextField'\nimport Button from '@material-ui/core/Button'\nimport loginServi—Åe from '../services/login'\nimport Notification from './Notification'\n\nexport default function Login({ updateUser }) {\n  const background = {\n    width: '95%',\n    margin: '0 auto',\n    padding: 20,\n    backgroundColor: 'lightgrey',\n    borderBottom: '4px solid darkgrey',\n  }\n\n  const flexItem = {\n    marginBottom: '7px',\n    backgroundColor: 'white',\n  }\n\n  const formContainer = {\n    color: 'black',\n    fontSize: '1.3rem',\n    letterSpacing: '0.7px',\n    marginTop: '10px',\n    marginBottom: '15px',\n  }\n\n  const flexForm = {\n    paddingBottom: '10px',\n    height: '80%',\n    display: 'flex',\n    flexFlow: 'column wrap',\n    justifyContent: 'space-evenly',\n  }\n\n  const history = useHistory()\n  const referrer = history?.location.state?.referrer\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [isButtonDisabled, setIsButtonDisabled] = useState(false)\n  const [inputError, setInputError] = useState(false)\n  const [notification, setNotification] = useState('')\n\n  async function handleLogin(event) {\n    event.preventDefault()\n    setNotification('Working...')\n\n    try {\n      const { user } = await loginServi—Åe.loginWithCredentials({\n        username,\n        password,\n      })\n      setNotification('Done')\n\n      // Not counting '/' as referrer\n      history.push(referrer?.length > 1 ? referrer : '/confirmator')\n      updateUser(user)\n    } catch (err) {\n      setInputError(true)\n      setIsButtonDisabled(true)\n      setTimeout(() => setIsButtonDisabled(false), 2000)\n      setNotification(`Error: ${err.response?.data.error || 'Mystery üëª'}`)\n    }\n  }\n\n  return (\n    <div style={{ margin: '30px 5px' }}>\n      <div style={background}>\n        <div style={formContainer}>\n          LOGIN\n          <span\n            style={{\n              color: 'black',\n              fontSize: '1.0rem',\n              letterSpacing: '0.2px',\n            }}\n          >\n            {' '}\n            or <Link to=\"/register\">request access</Link>\n          </span>\n        </div>\n\n        <Notification notification={notification} />\n\n        <form onSubmit={handleLogin} style={flexForm}>\n          <TextField\n            className=\"flex-item\"\n            style={flexItem}\n            error={inputError}\n            required\n            name=\"username\"\n            value={username}\n            onChange={({ target }) => setUsername(target.value)}\n            label=\"Username\"\n            variant=\"filled\"\n            size=\"small\"\n          />\n          <TextField\n            className=\"flex-item\"\n            style={flexItem}\n            error={inputError}\n            type=\"password\"\n            required\n            value={password}\n            name=\"password\"\n            onChange={({ target }) => setPassword(target.value)}\n            label=\"Password\"\n            variant=\"filled\"\n            size=\"small\"\n          />\n\n          <Button\n            className=\"flex-item\"\n            style={flexItem}\n            type=\"submit\"\n            disabled={isButtonDisabled}\n            variant=\"contained\"\n            size=\"small\"\n          >\n            Login\n          </Button>\n        </form>\n      </div>\n    </div>\n  )\n}\n","import React, { useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport TextField from '@material-ui/core/TextField'\nimport Button from '@material-ui/core/Button'\nimport axios from 'axios'\nimport Notification from './Notification'\n\nexport default function Register() {\n  const background = {\n    width: '95%',\n    padding: 20,\n    margin: '0 auto',\n    backgroundColor: 'lightgrey',\n    borderBottom: '4px solid darkgrey',\n  }\n\n  const flexItem = {\n    marginBottom: '7px',\n    backgroundColor: 'white',\n  }\n\n  const formContainer = {\n    color: 'black',\n    fontSize: '1.3rem',\n    letterSpacing: '0.7px',\n    marginTop: '10px',\n    marginBottom: '15px',\n  }\n\n  const flexForm = {\n    paddingBottom: '10px',\n    height: '80%',\n    display: 'flex',\n    flexFlow: 'column wrap',\n    justifyContent: 'space-evenly',\n  }\n\n  const [name, setName] = useState('')\n  const [email, setEmail] = useState('')\n  const [purpose, setPurpose] = useState('')\n  const [response, setResponse] = useState('')\n  const [disabled, setDisabled] = useState(false)\n\n  async function sendRequestForAccess(params) {\n    return axios.post('/api/registration/request-access', params).then((res) => res.data)\n  }\n\n  async function handleRequest(event) {\n    event.preventDefault()\n    setDisabled(true)\n    setResponse('Working...')\n    try {\n      const res = await sendRequestForAccess({ name, email, purpose })\n      setResponse(res?.message)\n      setName('')\n      setEmail('')\n      setPurpose('')\n      setDisabled(false)\n    } catch (err) {\n      setDisabled(false)\n      setResponse(`Error: ${err?.response.data?.error || 'Mystery üëª'}`)\n    }\n  }\n\n  return (\n    <div style={{ margin: '30px 5px' }}>\n      <div style={background}>\n        <div style={formContainer}>\n          REQUEST ACCESS\n          <span\n            style={{\n              color: 'black',\n              fontSize: '1.0rem',\n              letterSpacing: '0.2px',\n            }}\n          >\n            {' '}\n            or <Link to=\"/login\">login</Link>\n          </span>\n        </div>\n\n        <Notification notification={response} />\n\n        <form onSubmit={handleRequest} style={flexForm}>\n          <TextField\n            style={flexItem}\n            required\n            name=\"name\"\n            value={name}\n            onChange={({ target }) => setName(target.value)}\n            label=\"Name\"\n            variant=\"filled\"\n            size=\"small\"\n          />\n          <TextField\n            style={flexItem}\n            type=\"email\"\n            required\n            value={email}\n            name=\"email\"\n            onChange={({ target }) => setEmail(target.value)}\n            label=\"Email\"\n            variant=\"filled\"\n            size=\"small\"\n          />\n\n          <TextField\n            style={flexItem}\n            type=\"text\"\n            required\n            multiline\n            rows=\"3\"\n            value={purpose}\n            name=\"purpose\"\n            onChange={({ target }) => setPurpose(target.value)}\n            label=\"Why do you want to use this application?\"\n            variant=\"filled\"\n            size=\"small\"\n          />\n\n          <Button\n            style={flexItem}\n            type=\"submit\"\n            disabled={disabled}\n            variant=\"contained\"\n            size=\"small\"\n          >\n            Send request\n          </Button>\n        </form>\n      </div>\n    </div>\n  )\n}\n","import axios from 'axios'\n\nconst baseUrl = '/api/logout'\n\nasync function logout() {\n  return axios.post(baseUrl).then((res) => res.data)\n}\n\nexport default { logout }\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp'\n\nexport default function LogoutButton({ handleClick }) {\n  return (\n    <Button\n      style={{ backgroundColor: 'lightgrey' }}\n      variant=\"outlined\"\n      size=\"small\"\n      onClick={handleClick}\n    >\n      Logout <ExitToAppIcon />\n    </Button>\n  )\n}\n","import React from 'react'\nimport logoutService from '../services/logout'\nimport LogoutButton from './LogoutButton'\n\nexport default function Footer({ user, logoutUser }) {\n  return (\n    <div\n      style={{\n        backgroundColor: 'darkgrey',\n        padding: '15px',\n        // marginTop: '40px',\n        display: 'flex',\n        justifyContent: 'space-between',\n        borderTop: '3.5px solid lightgrey',\n        marginTop: 'auto',\n      }}\n    >\n      <div style={{ paddingTop: '2px', marginRight: '20px' }}>\n        <span style={{ fontFamily: 'monospace' }}>\n          {' '}\n          {user.username}\n          <br />\n          {user.name}\n        </span>\n      </div>\n      <LogoutButton handleClick={() => logoutService.logout().then(logoutUser)} />\n    </div>\n  )\n}\n","import React, { useState, useEffect } from 'react'\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom'\nimport { ErrorBoundary } from 'react-error-boundary'\nimport { useSnackbar } from 'notistack'\nimport Hub from './components/Hub'\nimport Confirmator from './components/Confirmator/Confirmator'\nimport Statistics from './components/Statistics/Statistics'\nimport Header from './components/Header'\nimport Login from './components/Login'\nimport Register from './components/Register'\nimport loginServi—Åe from './services/login'\nimport './App.css'\nimport Footer from './components/Footer'\nimport LoadingUntillDone from './components/LoadingUntillDone'\nimport interceptor from './services/interceptor'\n\nfunction ErrorFallback({ error }) {\n  return (\n    <div role=\"alert\">\n      <p>Something went wrong:</p>\n      <pre style={{ color: 'red' }}>{error.message}</pre>\n    </div>\n  )\n}\n\nfunction ProtectedRoute({ dependsOn, path, children, ...rest }) {\n  const history = useHistory()\n  let currentLocation\n  if (dependsOn === null || dependsOn === 'Loading') {\n    currentLocation = history.location.pathname\n  }\n\n  const loading = dependsOn === 'Loading'\n  const mustRedirect = dependsOn === null\n  const redirectToLoginPage = mustRedirect && (\n    <Redirect to={{ pathname: '/login', state: { referrer: currentLocation } }} />\n  )\n\n  return (\n    <>\n      <LoadingUntillDone loading={loading} redirectComponent={redirectToLoginPage}>\n        <Route {...rest} path={path}>\n          {children}\n        </Route>\n      </LoadingUntillDone>\n    </>\n  )\n}\n\nfunction App() {\n  const [user, setUser] = useState('Loading')\n\n  const { enqueueSnackbar } = useSnackbar()\n  const history = useHistory()\n  let referrer\n  if (user === null || user === 'Loading') {\n    referrer = history.location.pathname\n  }\n\n  useEffect(async () => {\n    // Initializing Axios interceptor with ability to logout user\n    interceptor.setupInterceptor({\n      logout: () => setUser(null),\n      notificate: () =>\n        enqueueSnackbar(\n          'You were logged out for security reasons. Your work has been saved. Login to continue.',\n          {\n            variant: 'warning',\n            autoHideDuration: 10000,\n          }\n        ),\n    })\n\n    try {\n      const { user: userFromToken } = await loginServi—Åe.loginWithAccessToken()\n      history.push(referrer)\n      return setUser(userFromToken)\n    } catch (err) {\n      return setUser(null)\n    }\n  }, [])\n\n  return (\n    <>\n      <Header isLogged={user !== null && user !== 'Loading'} />\n      <ErrorBoundary FallbackComponent={ErrorFallback}>\n        <Switch>\n          <Route path=\"/register\">\n            <Register />\n          </Route>\n          <Route path=\"/login\">\n            {user === null ? <Login updateUser={setUser} /> : <Redirect to=\"/\" />}\n          </Route>\n\n          <ProtectedRoute dependsOn={user} path=\"/confirmator\">\n            <Confirmator />\n          </ProtectedRoute>\n          <ProtectedRoute dependsOn={user} path=\"/statistics\">\n            <Statistics />\n          </ProtectedRoute>\n          <ProtectedRoute dependsOn={user} exact path=\"/\">\n            <Hub />\n          </ProtectedRoute>\n        </Switch>\n        <ProtectedRoute dependsOn={user} path=\"/\">\n          <Footer user={user} logoutUser={() => setUser(null)} />\n        </ProtectedRoute>\n      </ErrorBoundary>\n    </>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter as Router } from 'react-router-dom'\nimport { SnackbarProvider } from 'notistack'\nimport CancelIcon from '@material-ui/icons/Cancel'\nimport App from './App'\nimport './index.css'\n\nconst notistackRef = React.createRef()\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router basename=\"/app\">\n      <SnackbarProvider\n        action={(key) => (\n          <CancelIcon\n            onClick={() => {\n              notistackRef.current.closeSnackbar(key)\n            }}\n          />\n        )}\n        ref={notistackRef}\n        maxSnack={3}\n        dense\n        autoHideDuration={5000}\n        anchorOrigin={{ horizontal: 'left', vertical: 'top' }}\n      >\n        <App />\n      </SnackbarProvider>\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}