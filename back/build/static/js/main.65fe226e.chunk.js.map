{"version":3,"sources":["components/InputModal.js","components/buttons/TransformButton.js","components/Editor.js","components/ResponsiveDialog.jsx","components/EditDialog.jsx","services/tokens.js","services/interceptor.js","services/orderPoolAPI.js","components/LoadingUntillDone.jsx","components/OrderPool/OrdersList.jsx","components/OrderPool/OrderPool.jsx","components/OrderPool/OrderPoolDialog.jsx","services/emailAPI.js","services/calendarAPI.js","services/smsAPI.js","utils/helpers/calculateFees.js","utils/helpers/regexHelpers.js","utils/regexFunctions.js","components/buttons/CopyButton.js","components/CheckboxGroup.js","components/buttons/SendSMSButton.js","components/buttons/SendEmailButton.js","components/buttons/AddToCalendarButton.js","components/buttons/NewOrderButton.jsx","components/ValidationErrorsDisplay.js","components/Confirmator.js","assets/paku24-logo.png","components/Header.js","services/login.js","components/Notification.js","components/Login.js","components/Register.jsx","services/logout.js","components/buttons/LogoutButton.jsx","components/Footer.jsx","App.js","index.js"],"names":["InputModal","props","value","label","name","custom","handleChange","disabled","useState","setModalOpen","slug","toLowerCase","history","useHistory","Button","className","variant","onClick","push","path","Modal","open","onClose","disableScrollLock","style","position","maxWidth","minWidth","padding","backgroundColor","left","top","transform","TextField","onChange","type","autoFocus","TransformButton","handleClick","size","Editor","order","margin","marginTop","marginLeftRight","marginLeft","marginRight","fullWidth","date","ISODate","paddingRight","time","inputProps","step","NativeSelect","paddingLeft","duration","serviceName","services","map","service","id","paymentType","required","address","multiline","destination","email","phone","TextareaAutosize","rowsMin","cols","comment","placeholder","ResponsiveDialog","children","handleClose","theme","useTheme","fullScreen","useMediaQuery","breakpoints","down","Dialog","aria-labelledby","DialogContent","DialogActions","EditDialog","handleFormatting","exact","baseUrl","a","axios","post","refreshTokens","axiosInstance","create","interceptors","response","use","error","originalRequest","config","data","tokenService","Promise","reject","get","put","getDeleted","confirm","remove","retrieve","LoadingUntillDone","loading","redirectComponent","OrdersList","orders","handleExport","handleDeletion","labelForDeletion","ordersWithStyles","setOrdersWithStyles","handleHideOrShow","o","hidden","useEffect","isNew","Date","toDateString","now","confirmed","length","fontSize","tabIndex","role","onKeyPress","dangerouslySetInnerHTML","__html","text","split","join","OrderPool","handleToConfirmator","INBOX","TRASHCAN","setOrders","isLoading","setIsloading","currentTab","setCurrentTab","inbox","searchText","showOnlyNotConfirmed","trashcan","searchOptions","setSearchOptions","searchResults","setSearchResults","numberOfOrders","numberOfUnconfirmedOrders","filter","makeSearch","val","bool","searchTarget","search","values","condition","filterConfirmed","includes","trim","handleTabBarChange","e","target","dataset","tabname","orderPoolAPI","ordersFromPool","filteredOrders","data-tabname","prevOptsForCurTab","handleOnlyNotConfirmedSearch","OrderPoolDialog","handleExportingToConfirmator","goBack","ord","params","addEventToCalendar","entry","options","sendSMS","calculateFees","timeInNumberType","dayOFWeek","getDay","weekEndFee","dayOfMonth","getDate","endOfMonthFee","getFullYear","getMonth","cannotFind","str","toConfirmationDateFormat","d","dd","mm","yyyy","printFees","fees","activeFees","fee","array","string","reduce","acc","cur","initialCleanup","splitStr","noRebundantWhitespace","forEach","line","replaceAll","getEventForCalendar","formattedStr","startingIndex","indexOf","event","slice","getStartingTime","dateRe","exec","Error","helpers","replace","original","toISOString","confirmationFormat","getDuration","getPaymentType","beginMarker","beginIndex","endIndex","paymentTypeField","nonWordChars","match","c","endIndex2","getFees","getService","price","priceForBoxes","priceLine","getMovingBoxes","s","getAddress","course","endMarker","rawAddress","cityField","postalCode","addressField","city","test","getName","getEmail","getPhone","getComment","re","CopyButton","inputRef","current","select","document","execCommand","Toast","info","CheckboxGroup","FormControl","hiddenLabel","FormLabel","component","RadioGroup","distance","FormControlLabel","control","Radio","color","Checkbox","checked","hsy","labelPlacement","secondCar","XL","SendSMSButton","statusText","SendEmailButton","AddToCalendarButton","ValidationErrorsDisplay","dispatchOrderActionsStatus_error","confirmation","errors","setErrors","ignore","setIgnore","showSwitch","setShowSwitch","errs","validator","isBefore","message","isEmpty","isMobilePhone","isEmail","areThereSomeErrors","some","errStyle","ignoreStyle","displayStyle","borderTop","borderBottom","err","alignSelf","Confirmator","orderText","setOrderText","customText","setCustomText","formattedConfirmation","setFormattedConfirmation","defaultOrder","useMemo","regexHelpers","toTimeString","servicePrice","setOrder","initialOrderActionsStatus","status","disable","sms","calendar","initOrderActionsStatus","initialStatus","useReducer","state","action","payload","orderActionsStatus","dispatchOrderActionsStatus","changeEmailStatus","changeCalendarStatus","changeSMSStatus","defaultOptions","setOptions","textAreaRef","useRef","rawOrderTextAreaRef","reset","msg","fail","regexFunc","createdEvent","setDataToStates","converted","makeConvertion","cleanedText","find","priceXL","beginAddress","endAddress","orderInfo","handleEditorFormatting","handleOrderChange","ref","sendConfirmationEmail","orderDetails","then","res","catch","setTimeout","scrollIntoView","behavior","Header","isLogged","setCustom","customOrderMatch","useRouteMatch","url","to","src","logo","alt","width","Switch","credentials","loginWithCredentials","loginWithAccessToken","Notification","notification","display","alignItems","marginBottom","Login","setUser","flexItem","referrer","location","username","setUsername","password","setPassword","isButtonDisabled","setIsButtonDisabled","inputError","setInputError","setNotification","preventDefault","loginServiсe","user","letterSpacing","onSubmit","paddingBottom","height","flexFlow","justifyContent","Register","setName","setEmail","purpose","setPurpose","setResponse","setDisabled","sendRequestForAccess","rows","logout","LogoutButton","Footer","logoutUser","paddingTop","fontFamily","logoutService","ErrorFallback","AuthenticateUser","currentLocation","pathname","userFromToken","redirectToLoginPage","App","FallbackComponent","ReactDOM","render","StrictMode","basename","getElementById"],"mappings":"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","file":"static/js/main.65fe226e.chunk.js","sourcesContent":["import React, { useState } from 'react'\nimport { useHistory, Route } from 'react-router-dom'\nimport Modal from '@material-ui/core/Modal'\nimport Button from '@material-ui/core/Button'\nimport TextField from '@material-ui/core/TextField'\n\nexport default function InputModal(props) {\n  // value === phoneNumber || email\n  const { value, label, name, custom, handleChange, disabled } = props\n  const [, setModalOpen] = useState(false)\n\n  const slug = label.toLowerCase()\n  const history = useHistory()\n\n  const handleModalOpen = () => {\n    setModalOpen(true)\n    history.push(custom ? `/custom/${slug}` : `/edit/${slug}`)\n  }\n\n  const handleModalClose = () => {\n    setModalOpen(false)\n    history.push(custom ? `/custom/` : '/')\n  }\n\n  const modalStyle = {\n    position: 'absolute',\n    maxWidth: 500,\n    minWidth: 300,\n    padding: 20,\n    backgroundColor: 'white',\n    left: '50%',\n    top: '50%',\n    transform: 'translate(-50%, -50%)',\n  }\n\n  return (\n    <>\n      <Button\n        disabled={disabled}\n        className=\"button-info\"\n        variant=\"outlined\"\n        onClick={handleModalOpen}\n      >\n        {label}\n        to:\n        {value}\n      </Button>\n      <Route path={[`/custom/${slug}`, `/edit/${slug}`]}>\n        <Modal open onClose={handleModalClose} disableScrollLock>\n          <div style={modalStyle}>\n            <TextField\n              label={label}\n              name={name}\n              variant=\"outlined\"\n              onChange={handleChange}\n              value={value}\n              type={label === 'Email' ? label : ''}\n              autoFocus\n            />\n          </div>\n        </Modal>\n      </Route>\n    </>\n  )\n}\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport TransformIcon from '@material-ui/icons/Transform'\n\nexport default function TransformButton({ handleClick }) {\n  return (\n    <Button\n      className=\"button-one-third flex-item\"\n      variant=\"text\"\n      size=\"small\"\n      onClick={handleClick}\n    >\n      Transform <TransformIcon />\n    </Button>\n  )\n}\n","import React from 'react'\nimport TextField from '@material-ui/core/TextField'\nimport NativeSelect from '@material-ui/core/NativeSelect'\nimport TextareaAutosize from '@material-ui/core/TextareaAutosize'\nimport services from '../utils/services.json'\nimport TransformButton from './buttons/TransformButton'\n\nexport default function Editor({ order, handleChange, handleClick }) {\n  const margin = {\n    marginTop: 5,\n  }\n  const marginLeftRight = {\n    marginLeft: 5,\n    marginRight: 5,\n  }\n\n  return (\n    <div className=\"basic-flex\" style={{ marginTop: '15px' }}>\n      <TextField\n        fullWidth\n        style={marginLeftRight}\n        className=\"flex-item\"\n        name=\"ISODate\"\n        value={order?.date?.ISODate}\n        onChange={handleChange}\n        type=\"date\"\n      />\n      <div className=\"flex-100-space-between flex-item\" style={marginLeftRight}>\n        <TextField\n          className=\"time-duration\"\n          style={{ ...marginLeftRight, paddingRight: 10 }}\n          name=\"time\"\n          value={order?.time}\n          onChange={handleChange}\n          inputProps={{ step: '900' }}\n          type=\"time\"\n        />\n\n        <NativeSelect\n          className=\"time-duration\"\n          style={{ ...marginLeftRight, paddingLeft: 10 }}\n          name=\"duration\"\n          value={order?.duration}\n          onChange={handleChange}\n        >\n          <option value={1}>1h</option>\n          <option value={1.5}>1.5h</option>\n          <option value={2}>2h</option>\n          <option value={2.5}>2.5h</option>\n          <option value={3}>3h</option>\n          <option value={3.5}>3.5h</option>\n          <option value={4}>4h</option>\n          <option value={4.5}>4.5h</option>\n          <option value={5}>5h</option>\n          <option value={5.5}>5.5h</option>\n          <option value={6}>6h</option>\n          <option value={6.5}>6.5h</option>\n          <option value={7}>7h</option>\n          <option value={7.5}>7.5h</option>\n          <option value={8}>8h</option>\n          <option value={8.5}>8.5h</option>\n          <option value={9}>9h</option>\n          <option value={9.5}>9.5h</option>\n          <option value={10}>10h</option>\n        </NativeSelect>\n      </div>\n\n      <NativeSelect\n        fullWidth\n        style={marginLeftRight}\n        className=\"flex-item\"\n        name=\"serviceName\"\n        value={order?.serviceName}\n        onChange={handleChange}\n      >\n        {services.map((service) => (\n          <option key={service.id} value={service.name}>\n            {service.name}\n          </option>\n        ))}\n      </NativeSelect>\n\n      <NativeSelect\n        fullWidth\n        style={marginLeftRight}\n        className=\"flex-item\"\n        name=\"paymentType\"\n        value={order?.paymentType}\n        onChange={handleChange}\n      >\n        <option value=\"Maksukortti\">Maksukortti</option>\n        <option value=\"Käteinen\">Käteinen</option>\n        <option value=\"Lasku/Osamaksu\">Lasku</option>\n      </NativeSelect>\n\n      <TextField\n        fullWidth\n        style={margin}\n        className=\"flex-item\"\n        required\n        name=\"address\"\n        value={order?.address}\n        onChange={handleChange}\n        label=\"Address\"\n        variant=\"outlined\"\n        size=\"small\"\n      />\n\n      <TextField\n        fullWidth\n        multiline\n        style={margin}\n        className=\"flex-item\"\n        name=\"destination\"\n        value={order?.destination}\n        onChange={handleChange}\n        label=\"Destination\"\n        variant=\"outlined\"\n        size=\"small\"\n      />\n\n      <TextField\n        fullWidth\n        required\n        style={margin}\n        className=\"flex-item\"\n        name=\"name\"\n        value={order?.name}\n        onChange={handleChange}\n        label=\"Name\"\n        variant=\"outlined\"\n        size=\"small\"\n      />\n\n      <TextField\n        fullWidth\n        style={margin}\n        className=\"flex-item\"\n        name=\"email\"\n        value={order?.email}\n        onChange={handleChange}\n        type=\"email\"\n        label=\"Email\"\n        variant=\"outlined\"\n        size=\"small\"\n      />\n\n      <TextField\n        fullWidth\n        style={margin}\n        className=\"flex-item\"\n        required\n        name=\"phone\"\n        value={order?.phone}\n        onChange={handleChange}\n        label=\"Phonenumber\"\n        variant=\"outlined\"\n        size=\"small\"\n      />\n\n      <TextareaAutosize\n        style={margin}\n        className=\"flex-item textarea-2\"\n        rowsMin={3}\n        cols={27}\n        name=\"comment\"\n        value={order?.comment}\n        placeholder=\"Additional information.\"\n        onChange={handleChange}\n      />\n\n      <TransformButton className=\"flex-item\" handleClick={handleClick} />\n    </div>\n  )\n}\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport useMediaQuery from '@material-ui/core/useMediaQuery'\nimport { useTheme } from '@material-ui/core/styles'\n\nexport default function ResponsiveDialog({ children, handleClose }) {\n  const theme = useTheme()\n  const fullScreen = useMediaQuery(theme.breakpoints.down('sm'))\n\n  return (\n    <>\n      <Dialog\n        fullScreen={fullScreen}\n        open\n        onClose={handleClose}\n        aria-labelledby=\"responsive-dialog-title\"\n        disableScrollLock\n      >\n        <DialogContent>{children}</DialogContent>\n        <DialogActions>\n          <Button\n            style={{ backgroundColor: 'white' }}\n            variant=\"text\"\n            onClick={handleClose}\n          >\n            Close\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  )\n}\n","import React from 'react'\nimport { useHistory, Route } from 'react-router-dom'\nimport Button from '@material-ui/core/Button'\nimport Editor from './Editor'\nimport ResponsiveDialog from './ResponsiveDialog'\n\nexport default function EditDialog(props) {\n  const { order, handleFormatting, handleChange } = props\n\n  const history = useHistory()\n\n  const handleClickOpen = () => {\n    history.push('/edit')\n  }\n\n  const handleClose = () => {\n    history.push('/')\n  }\n\n  return (\n    <>\n      <Button\n        className=\"button-one-third\"\n        variant=\"outlined\"\n        onClick={handleClickOpen}\n      >\n        Edit\n      </Button>\n      <Route exact path=\"/edit\">\n        <ResponsiveDialog handleClose={handleClose}>\n          <Editor\n            order={order}\n            handleChange={handleChange}\n            handleClick={() => {\n              handleFormatting()\n              handleClose()\n            }}\n          />\n        </ResponsiveDialog>\n      </Route>\n    </>\n  )\n}\n","import axios from 'axios'\n\nconst baseUrl = '/api/token'\n\nasync function refreshTokens() {\n  await axios.post(baseUrl)\n  await axios.post(`${baseUrl}/is-new`)\n}\n\nexport default { refreshTokens }\n","import axios from 'axios'\nimport tokenService from './tokens'\n\nconst axiosInstance = axios.create()\n\naxiosInstance.interceptors.response.use(\n  (response) => response,\n  async (error) => {\n    const originalRequest = error.config\n    if (error.response.data.error === 'access token expired') {\n      await tokenService.refreshTokens()\n      return axiosInstance(originalRequest)\n    }\n    return Promise.reject(error)\n  }\n)\n\nexport default axiosInstance\n","import axiosInstance from './interceptor'\n\nconst baseUrl = '/api/order-pool'\n\nasync function get() {\n  const response = await axiosInstance.get(baseUrl)\n  return response.data\n}\n\nasync function getDeleted() {\n  const response = await axiosInstance.get(`${baseUrl}/deleted`)\n  return response.data\n}\n\nasync function confirm(id) {\n  const response = await axiosInstance.put(`${baseUrl}/confirm/${id}`)\n  return response.data\n}\n\nasync function remove(id) {\n  const response = await axiosInstance.put(`${baseUrl}/delete/${id}`)\n  return response.data\n}\n\nasync function retrieve(id) {\n  const response = await axiosInstance.put(`${baseUrl}/retrieve/${id}`)\n  return response.data\n}\n\nexport default { get, getDeleted, confirm, remove, retrieve }\n","import React from 'react'\n\nexport default function LoadingUntillDone({\n  loading,\n  redirectComponent = null,\n  children,\n}) {\n  return (\n    <>\n      {loading && <p>Loading...</p>}\n      {redirectComponent}\n      {!loading && !redirectComponent && children}\n    </>\n  )\n}\n","import React, { useEffect, useState } from 'react'\nimport Button from '@material-ui/core/Button'\nimport './styles.css'\n\nexport default function OrdersList({\n  orders,\n  handleExport,\n  handleDeletion,\n  labelForDeletion,\n}) {\n  const [ordersWithStyles, setOrdersWithStyles] = useState([])\n\n  useEffect(() => {\n    setOrdersWithStyles(\n      orders.map((order) => ({\n        ...order,\n        isNew:\n          new Date(order.date).toDateString() ===\n          new Date(Date.now()).toDateString(),\n        className: order.confirmed\n          ? 'basic-order-style confirmed-order-style'\n          : 'basic-order-style',\n        hidden: order.confirmed,\n      }))\n    )\n  }, [orders])\n\n  function handleHideOrShow(order) {\n    setOrdersWithStyles([\n      ...ordersWithStyles.map((o) => {\n        if (o.id === order.id) {\n          return {\n            ...order,\n            hidden: !o.hidden,\n            className: o.hidden\n              ? 'basic-order-style'\n              : 'basic-order-style confirmed-order-style',\n          }\n        }\n        return o\n      }),\n    ])\n  }\n\n  function empty() {\n    return <p>Nothing found</p>\n  }\n\n  function list() {\n    return ordersWithStyles.map((order) => (\n      <div className=\"order-pool-list\" key={order.id}>\n        <div className=\"order-top-bar\">\n          <div className=\"order-status-icons-container\">\n            {order.isNew && (\n              <span className=\"order-status-new-order order-status-icon\">\n                NEW\n              </span>\n            )}\n            <span\n              // className={\n              //   order.confirmed\n              //     ? 'order-status-icon order-status-confirmed '\n              //     : 'order-status-icon order-status-notification'\n              // }\n              className={`order-status-icon ${\n                order.confirmed\n                  ? 'order-status-icon order-status-confirmed'\n                  : 'order-status-icon order-status-notification'\n              }`}\n            >\n              {order.confirmed ? '✔' : '❕'}{' '}\n            </span>\n          </div>\n          <div className=\"order-actions\">\n            <Button\n              style={{ padding: 0, fontSize: '0.9rem' }}\n              variant=\"text\"\n              size=\"small\"\n              onClick={() => handleDeletion(order.id)}\n            >\n              {labelForDeletion}\n            </Button>\n            <Button\n              disabled={order.confirmed}\n              style={{ padding: 0, fontSize: '0.8rem' }}\n              onClick={() => handleExport(order)}\n              variant=\"text\"\n              size=\"small\"\n            >\n              Export\n            </Button>\n            <Button\n              style={{ padding: 0 }}\n              variant=\"text\"\n              size=\"small\"\n              onClick={() => handleHideOrShow(order)}\n            >\n              {order.hidden ? 'Show ➕' : 'Hide ➖'}\n            </Button>\n          </div>\n        </div>\n        <div\n          tabIndex=\"0\"\n          label=\"Show hidden order if it's confirmed.\"\n          role=\"button\"\n          onClick={order.confirmed ? () => handleHideOrShow(order) : null}\n          onKeyPress={order.confirmed ? () => handleHideOrShow(order) : null}\n          className={`${order.className} list-item-1`}\n          // eslint-disable-next-line react/no-danger\n          dangerouslySetInnerHTML={{\n            __html: order.text?.split('\\n').join('<br>'),\n          }}\n        />\n      </div>\n    ))\n  }\n\n  return orders.length === 0 ? empty() : list()\n}\n","import React, { useEffect, useState } from 'react'\nimport TextField from '@material-ui/core/TextField'\nimport Button from '@material-ui/core/Button'\nimport DeleteIcon from '@material-ui/icons/Delete'\nimport RestoreIcon from '@material-ui/icons/Restore'\nimport orderPoolAPI from '../../services/orderPoolAPI'\nimport LoadingUntillDone from '../LoadingUntillDone'\nimport OrdersList from './OrdersList'\n\nexport default function OrderPool({ handleToConfirmator }) {\n  const INBOX = 'inbox'\n  const TRASHCAN = 'trashcan'\n\n  const [orders, setOrders] = useState([])\n  const [isLoading, setIsloading] = useState(true)\n\n  const [currentTab, setCurrentTab] = useState(INBOX)\n  const [searchOptions, setSearchOptions] = useState({\n    inbox: {\n      searchText: '',\n      showOnlyNotConfirmed: false,\n    },\n    trashcan: {\n      searchText: '',\n      showOnlyNotConfirmed: false,\n    },\n  })\n  const [searchResults, setSearchResults] = useState(orders)\n\n  const numberOfOrders = orders.length\n  const numberOfUnconfirmedOrders = orders.filter((order) => !order.confirmed)\n    .length\n\n  function filterWithSearchText(values, search) {\n    return values.filter((value) =>\n      value.text.toLowerCase().includes(search?.toLowerCase().trim())\n    )\n  }\n\n  function filterConfirmed(values, condition) {\n    return condition\n      ? values.filter((value) => value?.confirmed === false)\n      : values\n  }\n\n  function makeSearch(val, bool, searchTarget) {\n    const filteredWithConfirmedAndSearch = filterConfirmed(\n      filterWithSearchText(searchTarget, val),\n      bool\n    )\n\n    const result = filteredWithConfirmedAndSearch\n\n    return result\n  }\n\n  useEffect(async () => {\n    setIsloading(true)\n    const ordersFromPool =\n      currentTab === TRASHCAN\n        ? await orderPoolAPI.getDeleted()\n        : await orderPoolAPI.get()\n\n    setOrders(ordersFromPool)\n\n    const filteredOrders = makeSearch(\n      searchOptions[currentTab].searchText,\n      searchOptions[currentTab].showOnlyNotConfirmed,\n      ordersFromPool\n    )\n    setSearchResults(filteredOrders)\n    setIsloading(false)\n  }, [currentTab])\n\n  function handleSearchChange(e) {\n    const prevOptsForCurTab = searchOptions[currentTab]\n    setSearchOptions({\n      ...searchOptions,\n      [currentTab]: { ...prevOptsForCurTab, searchText: e.target.value },\n    })\n\n    const filteredOrders = makeSearch(\n      e.target.value,\n      prevOptsForCurTab.showOnlyNotConfirmed,\n      orders\n    )\n\n    setSearchResults(filteredOrders)\n  }\n\n  function handleOnlyNotConfirmedSearch(bool) {\n    const prevOptsForCurTab = searchOptions[currentTab]\n    setSearchOptions({\n      ...searchOptions,\n      [currentTab]: { ...prevOptsForCurTab, showOnlyNotConfirmed: bool },\n    })\n\n    const filteredOrders = makeSearch(\n      prevOptsForCurTab.searchText,\n      bool,\n      orders\n    )\n\n    setSearchResults(filteredOrders)\n  }\n\n  function handleTabBarChange(e) {\n    setCurrentTab(e.target.dataset.tabname)\n  }\n\n  function handleToConfirmatorClick(order) {\n    handleToConfirmator({ text: order.text, id: order.id })\n  }\n\n  async function handleOrderDeletion(id) {\n    await orderPoolAPI.remove(id)\n    setOrders(orders.filter((order) => order.id !== id))\n    setSearchResults(orders.filter((order) => order.id !== id))\n  }\n\n  async function handleRetrieval(id) {\n    await orderPoolAPI.retrieve(id)\n    setOrders(orders.filter((order) => order.id !== id))\n    setSearchResults(orders.filter((order) => order.id !== id))\n  }\n\n  const inboxClassName = () =>\n    currentTab === INBOX\n      ? 'tab-panel-item tab-panel-item-selected'\n      : 'tab-panel-item'\n\n  const trashcanClassName = () =>\n    currentTab === TRASHCAN\n      ? 'tab-panel-item tab-panel-item-selected'\n      : 'tab-panel-item'\n\n  return (\n    <>\n      <div className=\"tab-panel\">\n        <Button\n          onClick={handleTabBarChange}\n          className=\"p-0\"\n          variant=\"text\"\n          size=\"small\"\n        >\n          <h3 data-tabname={INBOX} className={inboxClassName()}>\n            Inbox\n          </h3>\n        </Button>\n        <Button\n          onClick={handleTabBarChange}\n          className=\"p-0\"\n          variant=\"text\"\n          size=\"small\"\n        >\n          <h3 data-tabname={TRASHCAN} className={trashcanClassName()}>\n            Trashcan\n          </h3>\n        </Button>\n      </div>\n      <div className=\"filters-tab\">\n        <span className=\"filters-tab-orders-count\">\n          {searchResults.length}/{orders.length}\n        </span>\n        <TextField\n          className=\"flex-item\"\n          type=\"text\"\n          name=\"searchText\"\n          placeholder=\"Search\"\n          value={searchOptions[currentTab].searchText}\n          onChange={handleSearchChange}\n        />\n        {numberOfUnconfirmedOrders > 0 && (\n          <Button\n            className=\"p-0 filters-tab-orders-status-icon\"\n            size=\"small\"\n            onClick={() =>\n              handleOnlyNotConfirmedSearch(\n                !searchOptions[currentTab].showOnlyNotConfirmed\n              )\n            }\n          >\n            <span style={{ fontSize: '1rem' }}>\n              {searchOptions[currentTab].showOnlyNotConfirmed\n                ? numberOfOrders\n                : numberOfUnconfirmedOrders}\n            </span>\n            <span\n              className={`order-status-icon order-status-notification ${\n                searchOptions[currentTab].showOnlyNotConfirmed &&\n                'order-status-icon-selected'\n              }`}\n            >\n              {searchOptions[currentTab].showOnlyNotConfirmed ? '✔&❕' : '❕'}\n            </span>\n          </Button>\n        )}\n      </div>\n      <LoadingUntillDone loading={isLoading}>\n        <OrdersList\n          orders={searchResults}\n          handleExport={handleToConfirmatorClick}\n          labelForDeletion={\n            currentTab === TRASHCAN ? <RestoreIcon /> : <DeleteIcon />\n          }\n          handleDeletion={\n            currentTab === TRASHCAN ? handleRetrieval : handleOrderDeletion\n          }\n        />\n      </LoadingUntillDone>\n    </>\n  )\n}\n","import React from 'react'\nimport { useHistory, Route } from 'react-router-dom'\nimport Button from '@material-ui/core/Button'\nimport ResponsiveDialog from '../ResponsiveDialog'\nimport OrderPool from './OrderPool'\n\nexport default function OrderPoolDialog({ handleExportingToConfirmator }) {\n  const history = useHistory()\n\n  const handleClickOpen = () => {\n    history.push('/order-pool')\n  }\n\n  const handleClose = () => {\n    history.goBack()\n  }\n\n  return (\n    <>\n      <Button\n        className=\"button-one-third\"\n        variant=\"contained\"\n        onClick={handleClickOpen}\n      >\n        Open Order Pool\n      </Button>\n      <Route path=\"/order-pool\">\n        <ResponsiveDialog handleClose={handleClose}>\n          <OrderPool\n            handleToConfirmator={(ord) => {\n              handleExportingToConfirmator(ord)\n              handleClose()\n            }}\n          />\n        </ResponsiveDialog>\n      </Route>\n    </>\n  )\n}\n","import axiosInstance from './interceptor'\n\nconst baseUrl = '/api/email'\n/**\n * @param {Object} params\n * @param {string} params.orderDetails\n * @param {Object} params.options\n * @param {string} params.options.distance\n * @param {Boolean} params.options.hsy\n * @param {Boolean} params.options.XL\n * @param {string} params.email\n */\n\nexport default async function sendConfirmationEmail(params) {\n  const response = await axiosInstance.post(\n    `${baseUrl}/send-confirmation`,\n    params\n  )\n  return response.data\n}\n","import axiosInstance from './interceptor'\n\nconst baseUrl = '/api/calendar'\n\nexport default async function addEventToCalendar(entry, order, options) {\n  const response = await axiosInstance.post(baseUrl, {\n    entry,\n    order,\n    options,\n  })\n  return response.data\n}\n","import axiosInstance from './interceptor'\n\nconst baseUrl = '/api/sms'\n/**\n * @param {Object} params\n * @param {string} params.phone\n * @param {string} params.msg\n */\n\nexport default async function sendSMS(params) {\n  const response = await axiosInstance.post(baseUrl, params)\n  return response.data\n}\n","export default function calculateFees(date, time, paymentType) {\n  const timeInNumberType = time.split(':')[0] * 1\n\n  const dayOFWeek = date.getDay()\n  const weekEndFee =\n    dayOFWeek === 6 || dayOFWeek === 7 || dayOFWeek === 0 ? 15 : false\n\n  const dayOfMonth = date.getDate()\n  const endOfMonth = [\n    new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate(),\n    1,\n  ]\n  let endOfMonthFee = endOfMonth.includes(dayOfMonth) ? 15 : false\n\n  if (weekEndFee) endOfMonthFee = false\n\n  const morningFee = timeInNumberType < 8 ? 20 : false\n  const nightFee = timeInNumberType > 20 ? 20 : false\n\n  const paymentFee =\n    paymentType === 'Lasku' ||\n    paymentType === 'Lasku/Osamaksu' ||\n    paymentType === 'Invoice/Instalment payment'\n      ? 14\n      : false\n\n  return [\n    { value: weekEndFee, name: 'VIIKONLOPPULISÄ' },\n    { value: endOfMonthFee, name: 'KUUNVAIHDELISÄ' },\n    { value: morningFee, name: 'AAMULISÄ' },\n    { value: nightFee, name: 'YÖLISÄ' },\n    { value: paymentFee, name: 'LASKULISÄ' },\n  ]\n}\n","export function cannotFind(str) {\n  return `Cannot find ${str}. Invalid format.`\n}\n\nexport function toConfirmationDateFormat(d) {\n  const date = new Date(d)\n  let dd = date.getDate()\n  let mm = date.getMonth() + 1\n  const yyyy = date.getFullYear()\n\n  if (dd < 10) {\n    dd = `0${dd}`\n  }\n  if (mm < 10) {\n    mm = `0${mm}`\n  }\n\n  return `${dd}-${mm}-${yyyy}`\n}\n\nexport function printFees(fees) {\n  const activeFees = fees.filter((fee) => fee.value)\n\n  const arrayOfFeeNames = activeFees.map((fee) => fee.name)\n\n  const feesInText = activeFees\n    .map((fee) => `\\n${fee.name}\\n${fee.value}€`)\n    .reduce((acc, cur) => acc + cur, '')\n\n  return { array: arrayOfFeeNames, string: feesInText }\n}\n","/* eslint-disable no-param-reassign */\n/* eslint-disable no-control-regex */\n/* eslint-disable no-useless-escape */\nimport services from './services.json'\nimport calculateFees from './helpers/calculateFees'\nimport * as helpers from './helpers/regexHelpers'\n\nexport function initialCleanup(str) {\n  const splitStr = str.split('\\n')\n  const noRebundantWhitespace = []\n  splitStr.forEach((line) => noRebundantWhitespace.push(line.trim()))\n  const string = noRebundantWhitespace\n    .join('\\n')\n    .replaceAll('————————', '')\n    .replaceAll('------------------------', '')\n\n  return string\n}\n\nexport async function getEventForCalendar(formattedStr, address) {\n  const startingIndex = formattedStr.indexOf(address)\n  const event = formattedStr.slice(startingIndex)\n\n  return event\n}\n\nexport function getStartingTime(str) {\n  const dateRe = /(?<=Date and time: \\w+, )\\w+ \\d+(th|rd|st|nd)? \\w+/.exec(str)\n\n  if (!dateRe) throw new Error(helpers.cannotFind('date'))\n\n  const date = new Date(`${dateRe[0].replace(/th|rd|st|nd/, '')}Z`)\n  const time = /\\d+:\\d+/.exec(str)[0]\n\n  const original = new Date(`\n    ${date.getFullYear()}\n    ${date.getMonth() + 1}\n    ${date.getDate()}\n    ${time}`)\n  const ISODate = original.toISOString().split('T')[0]\n  const confirmationFormat = helpers.toConfirmationDateFormat(original)\n\n  return { confirmationFormat, original, ISODate, time }\n}\n\nexport function getDuration(str) {\n  const duration = /\\d+(\\.\\d+)?(?=\\sh.)/.exec(str)\n\n  if (!duration) throw new Error(helpers.cannotFind('duration'))\n\n  return duration[0]\n}\n\nexport function getPaymentType(str) {\n  const beginMarker = 'Payment Type: '\n  const endMarker = 'PRICE'\n\n  const beginIndex = str.indexOf(beginMarker) + beginMarker.length\n  const endIndex = str.indexOf(endMarker)\n\n  const paymentTypeField = str.slice(beginIndex, endIndex).trim()\n\n  const nonWordChars = paymentTypeField\n    .match(/\\W+/g)\n    .filter((c) => c !== '/' && c !== ' ' && c !== 'ä')\n\n  const endIndex2 = paymentTypeField.indexOf(nonWordChars[0].trim())\n\n  const paymentType = paymentTypeField.slice(0, endIndex2).trim()\n\n  if (!paymentType) throw new Error(helpers.cannotFind('payment type'))\n\n  return paymentType\n}\n\nexport function getFees(str) {\n  const date = getStartingTime(str).original\n  const { time } = getStartingTime(str)\n  const paymentType = getPaymentType(str)\n\n  return calculateFees(date, time, paymentType)\n}\n\nexport function getMovingBoxes(str) {\n  const beginIndex = str.indexOf('— Price: ')\n  const endIndex = str.indexOf('— Booking time start')\n  const priceLine = str.slice(beginIndex, endIndex)\n  const re = /\\d+/\n  const price = priceLine && priceLine.match(re)[0]\n  return price\n}\n\nexport function getService(str) {\n  let price = /(?<=PRICE: )\\d+/.exec(str)\n\n  if (!price) {\n    throw new Error(helpers.cannotFind('price'))\n  }\n\n  ;[price] = price\n\n  getFees(str)\n    .filter((fee) => fee.value)\n    .forEach((fee) => {\n      price -= fee.value\n      return price\n    })\n\n  const priceForBoxes = getMovingBoxes(str)\n\n  price -= priceForBoxes\n\n  const duration = getDuration(str)\n\n  const service = services.filter((s) => s.price === price / duration)\n\n  if (service.length === 0)\n    throw new Error('Cannot recognize service. Invalid price or duration.')\n\n  return service[0]\n}\n\nexport function getAddress(str, course) {\n  const beginMarker = `${course}: `\n  const endMarker = course === 'Start location' ? 'End location' : 'Name'\n\n  const beginIndex = str.indexOf(beginMarker) + beginMarker.length\n  const endIndex = str.indexOf(endMarker)\n\n  const rawAddress = str.slice(beginIndex, endIndex).replaceAll(',', '').trim()\n\n  const cityField = rawAddress.slice(0, rawAddress.indexOf(' / '))\n\n  // Finnish postal codes are all 5 digits long\n  let postalCode = rawAddress.match(/\\d{5}/)\n  postalCode = postalCode && postalCode[0]\n\n  const addressField = rawAddress.slice(\n    rawAddress.indexOf(' / ') + ' / '.length\n  )\n\n  let city = cityField.match(/\\D+/)\n  city = city && city[0].trim()\n  let address = addressField.replace(postalCode, '').trim()\n  address = address || null\n\n  const numbersInAddress = /\\d+/.test(addressField)\n\n  // User provided address instead of city and city instead of address\n  if (\n    !numbersInAddress ||\n    (addressField.includes(postalCode) && addressField.length < 15)\n  ) {\n    address = cityField.replace(postalCode, '').trim()\n    city = addressField.match(/\\D+/)\n    city = city && city[0].trim()\n  }\n\n  if (address.includes(city)) {\n    address = address.replace(city, '').trim()\n  }\n\n  if (course === 'Start location' && !address)\n    throw new Error(helpers.cannotFind('address'))\n\n  return { address, city, postalCode }\n}\n\nexport function getName(str) {\n  const beginMarker = 'Name: '\n  const endMarker = 'Email'\n\n  const beginIndex = str.indexOf(beginMarker) + beginMarker.length\n  const endIndex = str.indexOf(endMarker)\n\n  const name = str.slice(beginIndex, endIndex).trim()\n\n  if (!name) throw new Error(helpers.cannotFind('name'))\n\n  return name\n}\n\nexport function getEmail(str) {\n  // regex from internet\n  const email = /(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])/.exec(\n    str\n  )\n\n  if (!email) throw new Error(helpers.cannotFind('email'))\n\n  return email[0]\n}\n\nexport function getPhone(str) {\n  // regex from internet\n  const phone = /(?<=Phone: )[+]*[(]{0,1}[0-9]{1,4}[)]{0,1}[-\\s\\./0-9]*/.exec(\n    str\n  )\n\n  if (!phone) throw new Error(helpers.cannotFind('phone'))\n\n  return phone[0].trim()\n}\n\nexport function getComment(str) {\n  let comment = /(?<=Comment: )(.*\\s*)*/.exec(str)\n  comment = comment ? comment[0] : ''\n\n  const re = /\\n\\n\\-\\-\\nTämä viesti lähetettiin sivustolta Paku24\\.fi \\(https:\\/\\/paku24\\.fi\\)/\n  const footer = re.exec(comment)\n\n  if (footer) {\n    comment = comment.replace(re, '')\n  }\n\n  return comment\n}\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport FileCopyIcon from '@material-ui/icons/FileCopy'\nimport Toast from 'light-toast'\n\nexport default function CopyButton({ inputRef }) {\n  function copyToClipboard() {\n    inputRef.current.select()\n    document.execCommand('copy')\n  }\n\n  function handleCopying() {\n    copyToClipboard()\n    Toast.info('Copied!', 500)\n  }\n\n  return (\n    <Button\n      className=\"button-one-third flex-item\"\n      variant=\"text\"\n      size=\"small\"\n      onClick={handleCopying}\n    >\n      Copy <FileCopyIcon />\n    </Button>\n  )\n}\n","import React from 'react'\nimport FormLabel from '@material-ui/core/FormLabel'\nimport FormControl from '@material-ui/core/FormControl'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport Radio from '@material-ui/core/Radio'\nimport RadioGroup from '@material-ui/core/RadioGroup'\n\nexport default function CheckboxGroup(props) {\n  const { handleChange, options } = props\n\n  return (\n    <div className=\"checkbox-container\">\n      <FormControl\n        className=\"checkbox-distance flex-item\"\n        hiddenLabel={false}\n        size=\"small\"\n      >\n        <FormLabel component=\"legend\">Pick one:</FormLabel>\n        <RadioGroup\n          name=\"gender1\"\n          value={options.distance}\n          onChange={handleChange}\n        >\n          <FormControlLabel\n            name=\"distance\"\n            value=\"insideCapital\"\n            control={<Radio color=\"default\" />}\n            label=\"🏙 Inside capital\"\n          />\n          <FormControlLabel\n            name=\"distance\"\n            value=\"outsideCapital\"\n            control={<Radio color=\"default\" />}\n            label=\"🏞 Outside capital\"\n          />\n          <FormControlLabel\n            name=\"distance\"\n            value=\"fromCapitalToOutside\"\n            control={<Radio color=\"default\" />}\n            label=\"🏙->🏞 From capital\"\n          />\n          <FormControlLabel\n            name=\"distance\"\n            value=\"fromOutsideToCapital\"\n            control={<Radio color=\"default\" />}\n            label=\"🏞->🏙 To capital\"\n          />\n        </RadioGroup>\n      </FormControl>\n      <FormControl className=\"basic-flex\" size=\"small\">\n        <FormControlLabel\n          size=\"small\"\n          className=\"flex-item\"\n          control={\n            <Checkbox\n              checked={options.hsy}\n              onChange={handleChange}\n              color=\"primary\"\n            />\n          }\n          name=\"hsy\"\n          label=\"♻ HSY\"\n          labelPlacement=\"start\"\n        />\n        <FormControlLabel\n          className=\"flex-item\"\n          control={\n            <Checkbox\n              checked={options.secondCar}\n              onChange={handleChange}\n              color=\"primary\"\n            />\n          }\n          name=\"secondCar\"\n          label=\"Second car\"\n          labelPlacement=\"start\"\n        />\n        <FormControlLabel\n          className=\"flex-item\"\n          control={\n            <Checkbox\n              checked={options.XL}\n              onChange={handleChange}\n              color=\"primary\"\n            />\n          }\n          name=\"XL\"\n          label=\"XL\"\n          labelPlacement=\"start\"\n        />\n      </FormControl>\n    </div>\n  )\n}\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport TextsmsIcon from '@material-ui/icons/Textsms'\n\nexport default function SendSMSButton({ handleClick, disabled, statusText }) {\n  return (\n    <Button\n      disabled={disabled}\n      onClick={handleClick}\n      className=\"button-phone flex-item\"\n      variant=\"contained\"\n      size=\"small\"\n    >\n      {statusText ? (\n        <span style={{ color: 'grey' }}>{statusText}</span>\n      ) : (\n        <>\n          <span>Send</span>\n          <TextsmsIcon />\n        </>\n      )}\n    </Button>\n  )\n}\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport EmailIcon from '@material-ui/icons/Email'\n\nexport default function SendEmailButton({ handleClick, disabled, statusText }) {\n  return (\n    <Button\n      disabled={disabled}\n      className=\"button-email flex-item\"\n      variant=\"contained\"\n      size=\"small\"\n      onClick={handleClick}\n    >\n      {statusText ? (\n        <span style={{ color: 'grey' }}>{statusText}</span>\n      ) : (\n        <>\n          <span>Send</span>\n          <EmailIcon />\n        </>\n      )}\n    </Button>\n  )\n}\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport EventIcon from '@material-ui/icons/Event'\n\nexport default function AddToCalendarButton({\n  handleClick,\n  disabled,\n  statusText,\n}) {\n  return (\n    <Button\n      disabled={disabled}\n      className=\"button-email flex-item\"\n      variant=\"contained\"\n      size=\"small\"\n      onClick={handleClick}\n    >\n      {statusText ? (\n        <span style={{ color: 'grey' }}>{statusText}</span>\n      ) : (\n        <>\n          <span>Add</span>\n          <EventIcon />\n        </>\n      )}\n    </Button>\n  )\n}\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport NoteAddIcon from '@material-ui/icons/NoteAdd'\n\nexport default function CopyButton({ handleClick }) {\n  return (\n    <Button\n      className=\"button-one-third flex-item\"\n      variant=\"contained\"\n      size=\"small\"\n      onClick={handleClick}\n    >\n      New order <NoteAddIcon />\n    </Button>\n  )\n}\n","import React, { useState, useEffect } from 'react'\nimport validator from 'validator'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport ErrorOutlineIcon from '@material-ui/icons/ErrorOutline'\n\nexport default function ValidationErrorsDisplay(props) {\n  const {\n    order,\n    dispatchOrderActionsStatus_error,\n    confirmation,\n    custom,\n  } = props\n\n  const [errors, setErrors] = useState([])\n  const [ignore, setIgnore] = useState(false)\n  const [showSwitch, setShowSwitch] = useState(false)\n\n  useEffect(() => {\n    if (!ignore) {\n      const errs = [\n        {\n          id: 1,\n          type: 'date',\n          error: validator.isBefore(\n            order.date.ISODate,\n            new Date().toISOString()\n          ),\n          message: `earlier than today. Value: ${\n            order.date.confirmationFormat || 'No value'\n          }`,\n        },\n        {\n          id: 2,\n          type: 'address',\n          error: validator.isEmpty(order.address),\n          message: `missing or is in incorrect format. Value: ${\n            order.address || 'No value'\n          }`,\n        },\n        {\n          id: 3,\n          type: 'phone',\n          error: !validator.isMobilePhone(order.phone, [\n            'fi-FI',\n            'es-ES',\n            'sv-SE',\n          ]),\n          message: `missing or is in incorrect format. Value: ${\n            order.phone || 'No value'\n          }`,\n        },\n        {\n          id: 4,\n          type: 'email',\n          error: custom ? false : !validator.isEmail(order.email),\n          message: `missing or is in incorrect format. Value: ${\n            order.email || 'No value'\n          }`,\n        },\n      ]\n      setErrors(errs)\n      const areThereSomeErrors = errs.some((error) => error.error)\n      dispatchOrderActionsStatus_error(areThereSomeErrors)\n      setShowSwitch(areThereSomeErrors)\n    } else dispatchOrderActionsStatus_error(false)\n  }, [order.date, order.phone, order.address, order.email, ignore, custom])\n\n  function handleIgnore(e) {\n    setIgnore(e.target.checked)\n  }\n\n  const errStyle = { color: 'red' }\n  const ignoreStyle = { color: 'gray' }\n  const border = {\n    borderTop: '1px solid gray',\n    borderBottom: '1px solid gray',\n    padding: '15px 0 15px 0',\n    margin: '10px 0 10px 0',\n  }\n  const displayStyle = ignore ? ignoreStyle : null\n\n  return (\n    <>\n      {confirmation ? (\n        <div style={border} className=\"flex-100-space-between\">\n          <div style={displayStyle}>\n            <ErrorOutlineIcon />\n            {errors.map((err) => {\n              if (err.error) {\n                return (\n                  <div key={err.id}>\n                    <span style={ignore ? ignoreStyle : errStyle}>\n                      {err.type}{' '}\n                    </span>\n                    {err.message}\n                  </div>\n                )\n              }\n              return null\n            })}\n          </div>\n        </div>\n      ) : null}\n      {showSwitch && confirmation ? (\n        <FormControlLabel\n          style={{ alignSelf: 'flex-end' }}\n          control={\n            <Checkbox\n              checked={ignore}\n              onChange={handleIgnore}\n              color=\"default\"\n            />\n          }\n          label=\"Ignore\"\n        />\n      ) : null}\n    </>\n  )\n}\n","/* eslint-disable prefer-template */\nimport React, { useState, useRef, useMemo, useEffect, useReducer } from 'react'\nimport { Route } from 'react-router-dom'\nimport Toast from 'light-toast'\nimport TextareaAutosize from '@material-ui/core/TextareaAutosize'\n\nimport '../styles/confirmator.css'\nimport InputModal from './InputModal'\nimport EditDialog from './EditDialog'\nimport Editor from './Editor'\nimport OrderPoolDialog from './OrderPool/OrderPoolDialog'\n\nimport sendConfirmationEmail from '../services/emailAPI'\nimport addEventToCalendar from '../services/calendarAPI'\nimport orderPoolAPI from '../services/orderPoolAPI'\nimport sendSMS from '../services/smsAPI'\nimport * as regexFunc from '../utils/regexFunctions'\nimport * as regexHelpers from '../utils/helpers/regexHelpers'\nimport calculateFees from '../utils/helpers/calculateFees'\nimport services from '../utils/services.json'\n\nimport TransformButton from './buttons/TransformButton'\nimport CopyButton from './buttons/CopyButton'\nimport CheckboxGroup from './CheckboxGroup'\nimport SendSMSButton from './buttons/SendSMSButton'\nimport SendEmailButton from './buttons/SendEmailButton'\nimport AddToCalendarButton from './buttons/AddToCalendarButton'\nimport NewOrderButton from './buttons/NewOrderButton'\nimport ValidationErrorsDisplay from './ValidationErrorsDisplay'\n\nfunction makeConvertion(order) {\n  let converted\n  try {\n    converted = `VARAUKSEN TIEDOT\n${order.date.confirmationFormat}\nALKAMISAIKA\nKlo ${order.time} (+/-15min)\nARVIOITU KESTO\n${order.duration}h (${order.servicePrice}€/h, ${order.serviceName})\nMAKSUTAPA\n${order.paymentType}${order.fees.string}\nLÄHTÖPAIKKA\n${order.address}\n${order.destination.length > 5 ? `MÄÄRÄNPÄÄ\\n${order.destination}\\n` : ''}NIMI\n${order.name}\n${order.email ? `SÄHKÖPOSTI\\n${order.email}\\n` : ''}PUHELIN\n${order.phone}\n${order.comment ? `LISÄTIETOJA\\n${order.comment}\\n` : ''}`\n    Toast.info('Succesefully formatted!', 500)\n  } catch (err) {\n    Toast.fail(err.message, 1000)\n  }\n  return converted\n}\n\nexport default function Confirmator({ custom }) {\n  const [orderText, setOrderText] = useState({ text: '', id: null })\n  const [customText, setCustomText] = useState('')\n  const [formattedConfirmation, setFormattedConfirmation] = useState('')\n  const defaultOrder = useMemo(\n    () => ({\n      date: {\n        original: new Date(),\n        ISODate: new Date().toISOString().split('T')[0],\n        confirmationFormat: regexHelpers.toConfirmationDateFormat(new Date()),\n      },\n      time: `${new Date().toTimeString().split(':')[0]}:${\n        new Date().toTimeString().split(':')[1]\n      }`,\n      duration: 1,\n      serviceName: services[0].name,\n      servicePrice: services[0].price,\n      paymentType: 'Maksukortti',\n      fees: {\n        array: [],\n        string: '',\n      },\n      address: '',\n      destination: '',\n      name: '',\n      email: '',\n      phone: '',\n      comment: '',\n    }),\n    []\n  )\n  const [order, setOrder] = useState(defaultOrder)\n\n  const CHANGE_ACTIONS_STATUS_EMAIL = 'CHANGE_ACTIONS_STATUS_EMAIL'\n  const CHANGE_ACTIONS_STATUS_SMS = 'CHANGE_ACTIONS_STATUS_SMS'\n  const CHANGE_ACTIONS_STATUS_CALENDAR = 'CHANGE_ACTIONS_STATUS_CALENDAR'\n  const CHANGE_ACTIONS_STATUS_ERROR = 'CHANGE_ACTIONS_STATUS_ERROR'\n  const CHANGE_ACTIONS_STATUS_RESET = 'CHANGE_ACTIONS_STATUS_RESET'\n\n  const initialOrderActionsStatus = {\n    email: {\n      status: null,\n      disable: false,\n    },\n    sms: {\n      status: null,\n      disable: false,\n    },\n    calendar: {\n      status: null,\n      disable: false,\n    },\n    error: false,\n  }\n\n  function initOrderActionsStatus(initialStatus) {\n    return initialStatus\n  }\n\n  function reducer(state, action) {\n    switch (action.type) {\n      case 'CHANGE_ACTIONS_STATUS_EMAIL':\n        return { ...state, email: action.payload }\n      case 'CHANGE_ACTIONS_STATUS_SMS':\n        return { ...state, sms: action.payload }\n      case 'CHANGE_ACTIONS_STATUS_CALENDAR':\n        return { ...state, calendar: action.payload }\n      case 'CHANGE_ACTIONS_STATUS_ERROR':\n        return { ...state, error: action.payload }\n      case 'CHANGE_ACTIONS_STATUS_RESET':\n        return initOrderActionsStatus(initialOrderActionsStatus)\n      default:\n        throw new Error()\n    }\n  }\n\n  const [orderActionsStatus, dispatchOrderActionsStatus] = useReducer(\n    reducer,\n    initialOrderActionsStatus,\n    initOrderActionsStatus\n  )\n\n  function changeEmailStatus(status, disable) {\n    dispatchOrderActionsStatus({\n      type: CHANGE_ACTIONS_STATUS_EMAIL,\n      payload: { status, disable },\n    })\n  }\n  function changeCalendarStatus(status, disable) {\n    dispatchOrderActionsStatus({\n      type: CHANGE_ACTIONS_STATUS_CALENDAR,\n      payload: { status, disable },\n    })\n  }\n  function changeSMSStatus(status, disable) {\n    dispatchOrderActionsStatus({\n      type: CHANGE_ACTIONS_STATUS_SMS,\n      payload: { status, disable },\n    })\n  }\n\n  const defaultOptions = useMemo(\n    () => ({\n      distance: 'insideCapital',\n      hsy: false,\n      secondCar: false,\n      XL: false,\n    }),\n    []\n  )\n  const [options, setOptions] = useState(defaultOptions)\n\n  const textAreaRef = useRef(null)\n  const rawOrderTextAreaRef = useRef(null)\n\n  const scrollToFormattedConfirmation = () =>\n    textAreaRef.current.scrollIntoView(true, { behavior: 'smooth' })\n\n  function reset() {\n    setOrderText({ text: '', id: null })\n    setOrder(defaultOrder)\n    setOptions(defaultOptions)\n    setFormattedConfirmation('')\n    dispatchOrderActionsStatus({ type: CHANGE_ACTIONS_STATUS_RESET })\n  }\n\n  useEffect(() => {\n    reset()\n  }, [custom])\n\n  useEffect(\n    () =>\n      setOptions({\n        ...options,\n        hsy:\n          order.serviceName === 'Paku ja mies' ||\n          order.serviceName === 'Paku ja kaksi miestä',\n      }),\n    [order.serviceName]\n  )\n\n  function handleOptionsChange(e) {\n    setOptions({\n      ...options,\n      [e.target.name]: e.target.value || e.target.checked,\n    })\n  }\n\n  function handleEmailSending() {\n    if (order.email && formattedConfirmation) {\n      changeEmailStatus('Waiting', true)\n      return sendConfirmationEmail({\n        orderDetails: formattedConfirmation,\n        options,\n        email: order.email,\n      })\n        .then((res) => {\n          changeEmailStatus('Done', true)\n          Toast.info(res.message, 500)\n        })\n        .catch((err) => {\n          changeEmailStatus('Error', false)\n          Toast.fail(err.response.data.error)\n        })\n    }\n    return Toast.fail('No confirmation found or recipients defined.', 1000)\n  }\n\n  async function handleSendingSMS() {\n    try {\n      const msg = formattedConfirmation\n      if (msg) {\n        changeSMSStatus('Waiting', true)\n        const response = await sendSMS({ msg, phone: order.phone })\n        changeSMSStatus('Done', true)\n        Toast.info(`${response.message}`, 500)\n      }\n    } catch (err) {\n      changeSMSStatus('Error', false)\n      Toast.fail(err.response?.data.error, 2000)\n    }\n  }\n\n  async function handleAddingToCalendar() {\n    try {\n      const entry = await regexFunc.getEventForCalendar(\n        formattedConfirmation,\n        order.address\n      )\n      if (entry) {\n        changeCalendarStatus('Waiting', true)\n        const response = await addEventToCalendar(entry, order, options)\n        if (orderText.id) await orderPoolAPI.confirm(orderText.id)\n        changeCalendarStatus('Done', true)\n        Toast.info(`${response.message}\\n${response.createdEvent}`, 3000)\n      }\n    } catch (err) {\n      changeCalendarStatus('Error', false)\n      Toast.fail(err.response?.data.error, 2000)\n    }\n  }\n\n  function setDataToStates(data) {\n    setOrder(data)\n    setFormattedConfirmation(makeConvertion(data))\n  }\n\n  function handleFormatting(ord = null) {\n    try {\n      const cleanedText = regexFunc.initialCleanup(ord?.text || order.text)\n      const serviceName = regexFunc.getService(cleanedText).name\n      const service = services.find((s) => s.name === serviceName)\n      const servicePrice = options.XL ? service.priceXL : service.price\n\n      const date = regexFunc.getStartingTime(cleanedText)\n      const beginAddress = regexFunc.getAddress(cleanedText, 'Start location')\n      const endAddress = regexFunc.getAddress(cleanedText, 'End location')\n\n      const address = `${beginAddress.address},${\n        beginAddress.postalCode ? ' ' + beginAddress.postalCode : ''\n      } ${beginAddress.city}`\n      const destination = `${endAddress.address || ''},${\n        endAddress.postalCode ? ' ' + endAddress.postalCode : ''\n      } ${endAddress.city || ''}`\n\n      const orderInfo = {\n        date: {\n          original: date.original,\n          ISODate: date.ISODate,\n          confirmationFormat: date.confirmationFormat,\n        },\n        time: regexFunc.getStartingTime(cleanedText).time,\n        duration: regexFunc.getDuration(cleanedText),\n        serviceName,\n        servicePrice: servicePrice || regexFunc.getService(cleanedText).price,\n        paymentType: regexFunc.getPaymentType(cleanedText),\n        fees: regexHelpers.printFees(regexFunc.getFees(cleanedText)),\n        address,\n        destination,\n        name: regexFunc.getName(cleanedText),\n        email: regexFunc.getEmail(cleanedText),\n        phone: regexFunc.getPhone(cleanedText),\n        comment: regexFunc.getComment(cleanedText),\n      }\n      setDataToStates(orderInfo)\n    } catch (err) {\n      Toast.fail(err.message, 1000)\n    }\n  }\n\n  function calcAndPrintFees() {\n    return regexHelpers.printFees(\n      calculateFees(order.date.original, order.time, order.paymentType)\n    )\n  }\n\n  function handleEditorFormatting() {\n    const fees = calcAndPrintFees()\n    const service = services.find((s) => s.name === order.serviceName)\n    const servicePrice = options.XL ? service.priceXL : service.price\n    const editedOrder = { ...order, servicePrice, fees }\n    setDataToStates(editedOrder)\n  }\n\n  function handleOrderChange(e) {\n    const { name } = e.target\n    if (name === 'ISODate') {\n      const ISODate = e.target.value\n      return setOrder({\n        ...order,\n        date: {\n          [e.target.name]: ISODate,\n          original: new Date(`${ISODate} ${order.time}`),\n          confirmationFormat: regexHelpers.toConfirmationDateFormat(ISODate),\n        },\n      })\n    }\n    if (name === 'time') {\n      return setOrder({\n        ...order,\n        date: {\n          ...order.date,\n          original: new Date(`${order.date.ISODate} ${e.target.value}`),\n        },\n        [name]: e.target.value,\n      })\n    }\n    if (name === 'serviceName') {\n      const serviceName = e.target.value\n      const service = services.find((s) => s.name === serviceName)\n      const servicePrice = service.price\n      return setOrder({\n        ...order,\n        serviceName,\n        servicePrice,\n      })\n    }\n    return setOrder({\n      ...order,\n      [name]: e.target.value,\n    })\n  }\n\n  function handleTextChange(e) {\n    setOrderText({ ...orderText, text: e.target.value })\n  }\n\n  function handleCustomTextChange(e) {\n    setCustomText(e.target.value)\n  }\n\n  return (\n    <div className=\"flex-container\">\n      <Route exact path={['/', '/edit/:slug*', '/order-pool/:slug*']}>\n        <TextareaAutosize\n          ref={rawOrderTextAreaRef}\n          className=\"textarea-1 flex-item\"\n          rowsMin={5}\n          cols={40}\n          value={custom ? customText : orderText.text}\n          placeholder=\"Order info here.\"\n          onChange={custom ? handleCustomTextChange : handleTextChange}\n        />\n      </Route>\n\n      <Route path=\"/custom\">\n        <Editor\n          order={order}\n          handleChange={handleOrderChange}\n          handleClick={handleEditorFormatting}\n        />\n      </Route>\n\n      <TextareaAutosize\n        className=\"textarea-2 flex-item\"\n        rowsMin={5}\n        cols={40}\n        ref={textAreaRef}\n        value={formattedConfirmation}\n        placeholder=\"Formatted confirmation will be outputted here.\"\n        onChange={(e) => setFormattedConfirmation(e.target.value)}\n      />\n      <div className=\"flex-100-space-between\">\n        <Route exact path={['/', '/edit/:slug*', '/order-pool/:slug*']}>\n          <EditDialog\n            handleChange={handleOrderChange}\n            handleFormatting={handleEditorFormatting}\n            order={order}\n          />\n          <TransformButton handleClick={handleFormatting} />\n        </Route>\n\n        <CopyButton inputRef={textAreaRef} />\n      </div>\n\n      <CheckboxGroup handleChange={handleOptionsChange} options={options} />\n\n      <ValidationErrorsDisplay\n        order={order}\n        custom={custom}\n        confirmation={formattedConfirmation}\n        dispatchOrderActionsStatus_error={(err) =>\n          dispatchOrderActionsStatus({\n            type: CHANGE_ACTIONS_STATUS_ERROR,\n            payload: err,\n          })\n        }\n      />\n\n      <div className=\"send-button-container\">\n        <div className=\"small-button-container\">\n          <InputModal\n            disabled={orderActionsStatus.email.disable}\n            custom={custom}\n            handleChange={handleOrderChange}\n            label=\"Email\"\n            name=\"email\"\n            value={order.email}\n          />\n          <SendEmailButton\n            statusText={orderActionsStatus.email.status}\n            disabled={\n              orderActionsStatus.error ||\n              orderActionsStatus.email.disable ||\n              !(order.email && formattedConfirmation)\n            }\n            handleClick={handleEmailSending}\n          />\n        </div>\n        <div className=\"small-button-container\">\n          <InputModal\n            disabled={orderActionsStatus.sms.disable}\n            custom={custom}\n            handleChange={handleOrderChange}\n            label=\"SMS\"\n            name=\"phone\"\n            value={order.phone}\n          />\n          <SendSMSButton\n            statusText={orderActionsStatus.sms.status}\n            disabled={\n              orderActionsStatus.error ||\n              orderActionsStatus.sms.disable ||\n              !(order.phone && formattedConfirmation)\n            }\n            handleClick={handleSendingSMS}\n          />\n        </div>\n        <div className=\"small-button-container\">\n          <AddToCalendarButton\n            handleClick={handleAddingToCalendar}\n            statusText={orderActionsStatus.calendar.status}\n            disabled={\n              orderActionsStatus.error ||\n              orderActionsStatus.calendar.disable ||\n              !formattedConfirmation\n            }\n          />\n        </div>\n      </div>\n      <NewOrderButton handleClick={reset} />\n      <Route exact path={['/', '/edit', '/edit/*', '/order-pool']}>\n        <OrderPoolDialog\n          handleExportingToConfirmator={(ord) => {\n            setOrderText(ord)\n            handleFormatting(ord)\n            setTimeout(() => scrollToFormattedConfirmation(), 300)\n          }}\n        />\n      </Route>\n    </div>\n  )\n}\n","export default __webpack_public_path__ + \"static/media/paku24-logo.7602fc02.png\";","import React, { useEffect } from 'react'\nimport { Link, Route, useRouteMatch } from 'react-router-dom'\nimport '../styles/logo.css'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport Switch from '@material-ui/core/Switch'\nimport logo from '../assets/paku24-logo.png'\n\nexport default function Header({ isLogged, custom, setCustom, handleChange }) {\n  const customOrderMatch = useRouteMatch('/custom')?.url\n  useEffect(() => {\n    // eslint-disable-next-line no-unused-expressions\n    customOrderMatch && setCustom(true)\n  }, [customOrderMatch])\n\n  return (\n    <div className=\"logo\">\n      <div>\n        <Link onClick={() => setCustom(false)} to={isLogged ? '/' : '/login'}>\n          <img src={logo} alt=\"Logo\" width=\"125px\" />\n        </Link>\n        <span className=\"text\">CONFIRMATOR</span>\n      </div>\n      <Route exact path={['/', '/custom/:slug*']}>\n        {isLogged && (\n          <FormControlLabel\n            style={{ margin: 0, alignSelf: 'center' }}\n            control={\n              <Switch\n                checked={custom}\n                onChange={handleChange}\n                color=\"default\"\n              />\n            }\n          />\n        )}\n      </Route>\n    </div>\n  )\n}\n","import axiosInstance from './interceptor'\n\nconst baseUrl = '/api/login'\n\nasync function loginWithCredentials(credentials) {\n  return axiosInstance.post(baseUrl, credentials).then((res) => res.data)\n}\n\nasync function loginWithAccessToken() {\n  const response = await axiosInstance.post(`${baseUrl}/token`)\n  return response.data\n}\n\nexport default { loginWithCredentials, loginWithAccessToken }\n","import React from 'react'\nimport InfoOutlinedIcon from '@material-ui/icons/InfoOutlined'\n\nconst Notification = ({ notification }) => {\n  let color = 'black'\n  if (notification.toLowerCase().includes('error')) color = 'red'\n\n  return (\n    <>\n      {notification ? (\n        <div\n          style={{\n            backgroundColor: 'white',\n            color,\n            padding: '10px',\n            width: '80%',\n            borderBottom: '3px solid darkgrey',\n            fontSize: 'small',\n            display: 'flex',\n            alignItems: 'center',\n            marginBottom: '10px',\n          }}\n        >\n          <InfoOutlinedIcon />\n          <span style={{ marginLeft: '10px' }}>{notification}</span>\n        </div>\n      ) : null}\n    </>\n  )\n}\n\nexport default Notification\n","import React, { useState } from 'react'\nimport { useHistory, Link } from 'react-router-dom'\nimport TextField from '@material-ui/core/TextField'\nimport Button from '@material-ui/core/Button'\nimport loginServiсe from '../services/login'\nimport Notification from './Notification'\n\nexport default function Login({ setUser }) {\n  const background = {\n    width: '95%',\n    margin: '0 auto',\n    padding: 20,\n    backgroundColor: 'lightgrey',\n    borderBottom: '4px solid darkgrey',\n  }\n\n  const flexItem = {\n    marginBottom: '7px',\n    backgroundColor: 'white',\n  }\n\n  const formContainer = {\n    color: 'black',\n    fontSize: '1.3rem',\n    letterSpacing: '0.7px',\n    marginTop: '10px',\n    marginBottom: '15px',\n  }\n\n  const flexForm = {\n    paddingBottom: '10px',\n    height: '80%',\n    display: 'flex',\n    flexFlow: 'column wrap',\n    justifyContent: 'space-evenly',\n  }\n\n  const history = useHistory()\n  const referrer = history?.location.state?.referrer\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [isButtonDisabled, setIsButtonDisabled] = useState(false)\n  const [inputError, setInputError] = useState(false)\n  const [notification, setNotification] = useState('')\n\n  async function handleLogin(event) {\n    event.preventDefault()\n    setNotification('Working...')\n\n    try {\n      const { user } = await loginServiсe.loginWithCredentials({\n        username,\n        password,\n      })\n      setNotification('Done')\n\n      history.push(referrer || '/')\n      setUser(user)\n    } catch (err) {\n      setInputError(true)\n      setIsButtonDisabled(true)\n      setTimeout(() => setIsButtonDisabled(false), 2000)\n      setNotification(`Error: ${err.response?.data.error}`)\n    }\n  }\n\n  return (\n    <div style={{ margin: '30px 5px' }}>\n      <div style={background}>\n        <div style={formContainer}>\n          LOGIN\n          <span\n            style={{\n              color: 'black',\n              fontSize: '1.0rem',\n              letterSpacing: '0.2px',\n            }}\n          >\n            {' '}\n            or <Link to=\"/register\">request access</Link>\n          </span>\n        </div>\n\n        <Notification notification={notification} />\n\n        <form onSubmit={handleLogin} style={flexForm}>\n          <TextField\n            className=\"flex-item\"\n            style={flexItem}\n            error={inputError}\n            required\n            name=\"username\"\n            value={username}\n            onChange={({ target }) => setUsername(target.value)}\n            label=\"Username\"\n            variant=\"filled\"\n            size=\"small\"\n          />\n          <TextField\n            className=\"flex-item\"\n            style={flexItem}\n            error={inputError}\n            type=\"password\"\n            required\n            value={password}\n            name=\"password\"\n            onChange={({ target }) => setPassword(target.value)}\n            label=\"Password\"\n            variant=\"filled\"\n            size=\"small\"\n          />\n\n          <Button\n            className=\"flex-item\"\n            style={flexItem}\n            type=\"submit\"\n            disabled={isButtonDisabled}\n            variant=\"contained\"\n            size=\"small\"\n          >\n            Login\n          </Button>\n        </form>\n      </div>\n    </div>\n  )\n}\n","import React, { useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport TextField from '@material-ui/core/TextField'\nimport Button from '@material-ui/core/Button'\nimport axios from 'axios'\nimport Notification from './Notification'\n\nexport default function Register() {\n  const background = {\n    width: '95%',\n    padding: 20,\n    margin: '0 auto',\n    backgroundColor: 'lightgrey',\n    borderBottom: '4px solid darkgrey',\n  }\n\n  const flexItem = {\n    marginBottom: '7px',\n    backgroundColor: 'white',\n  }\n\n  const formContainer = {\n    color: 'black',\n    fontSize: '1.3rem',\n    letterSpacing: '0.7px',\n    marginTop: '10px',\n    marginBottom: '15px',\n  }\n\n  const flexForm = {\n    paddingBottom: '10px',\n    height: '80%',\n    display: 'flex',\n    flexFlow: 'column wrap',\n    justifyContent: 'space-evenly',\n  }\n\n  const [name, setName] = useState('')\n  const [email, setEmail] = useState('')\n  const [purpose, setPurpose] = useState('')\n  const [response, setResponse] = useState('')\n  const [disabled, setDisabled] = useState(false)\n\n  async function sendRequestForAccess(params) {\n    return axios\n      .post('/api/registration/request-access', params)\n      .then((res) => res.data)\n  }\n\n  async function handleRequest(event) {\n    event.preventDefault()\n    setDisabled(true)\n    setResponse('Working...')\n    try {\n      const res = await sendRequestForAccess({ name, email, purpose })\n      setResponse(res?.message)\n      setName('')\n      setEmail('')\n      setPurpose('')\n      setDisabled(false)\n    } catch (err) {\n      setDisabled(false)\n      setResponse(`Error: ${err?.response.data?.error}`)\n    }\n  }\n\n  return (\n    <div style={{ margin: '30px 5px' }}>\n      <div style={background}>\n        <div style={formContainer}>\n          REQUEST ACCESS\n          <span\n            style={{\n              color: 'black',\n              fontSize: '1.0rem',\n              letterSpacing: '0.2px',\n            }}\n          >\n            {' '}\n            or <Link to=\"/login\">login</Link>\n          </span>\n        </div>\n\n        <Notification notification={response} />\n\n        <form onSubmit={handleRequest} style={flexForm}>\n          <TextField\n            style={flexItem}\n            required\n            name=\"name\"\n            value={name}\n            onChange={({ target }) => setName(target.value)}\n            label=\"Name\"\n            variant=\"filled\"\n            size=\"small\"\n          />\n          <TextField\n            style={flexItem}\n            type=\"email\"\n            required\n            value={email}\n            name=\"email\"\n            onChange={({ target }) => setEmail(target.value)}\n            label=\"Email\"\n            variant=\"filled\"\n            size=\"small\"\n          />\n\n          <TextField\n            style={flexItem}\n            type=\"text\"\n            required\n            multiline\n            rows=\"3\"\n            value={purpose}\n            name=\"purpose\"\n            onChange={({ target }) => setPurpose(target.value)}\n            label=\"Why you want to use this application?\"\n            variant=\"filled\"\n            size=\"small\"\n          />\n\n          <Button\n            style={flexItem}\n            type=\"submit\"\n            disabled={disabled}\n            variant=\"contained\"\n            size=\"small\"\n          >\n            Send request\n          </Button>\n        </form>\n      </div>\n    </div>\n  )\n}\n","import axios from 'axios'\n\nconst baseUrl = '/api/logout'\n\nasync function logout() {\n  return axios.post(baseUrl).then((res) => res.data)\n}\n\nexport default { logout }\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport MeetingRoomIcon from '@material-ui/icons/MeetingRoom'\n\nexport default function LogoutButton({ handleClick }) {\n  return (\n    <Button\n      style={{ backgroundColor: 'lightgrey' }}\n      variant=\"outlined\"\n      size=\"small\"\n      onClick={handleClick}\n    >\n      Logout <MeetingRoomIcon />\n    </Button>\n  )\n}\n","import React from 'react'\nimport logoutService from '../services/logout'\nimport LogoutButton from './buttons/LogoutButton'\n\nexport default function Footer({ user, logoutUser }) {\n  return (\n    <div\n      style={{\n        backgroundColor: 'darkgrey',\n        padding: '15px',\n        marginTop: '40px',\n        display: 'flex',\n        justifyContent: 'space-between',\n        borderTop: '3.5px solid lightgrey',\n      }}\n    >\n      <div style={{ paddingTop: '2px', marginRight: '20px' }}>\n        <span style={{ fontFamily: 'monospace' }}>\n          {' '}\n          {user.username}\n          <br />\n          {user.name}\n        </span>\n      </div>\n      <LogoutButton\n        handleClick={() => logoutService.logout().then(logoutUser)}\n      />\n    </div>\n  )\n}\n","import React, { useState, useEffect } from 'react'\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom'\nimport { ErrorBoundary } from 'react-error-boundary'\nimport Confirmator from './components/Confirmator'\nimport Header from './components/Header'\nimport Login from './components/Login'\nimport Register from './components/Register'\nimport loginServiсe from './services/login'\nimport './styles/container.css'\nimport Footer from './components/Footer'\nimport LoadingUntillDone from './components/LoadingUntillDone'\n\nfunction ErrorFallback({ error }) {\n  return (\n    <div role=\"alert\">\n      <p>Something went wrong:</p>\n      <pre style={{ color: 'red' }}>{error.message}</pre>\n    </div>\n  )\n}\n\nfunction AuthenticateUser({ user, setUser, children }) {\n  const history = useHistory()\n  let currentLocation\n  if (user === null || user === 'Loading') {\n    currentLocation = history.location.pathname\n  }\n\n  useEffect(async () => {\n    try {\n      const { user: userFromToken } = await loginServiсe.loginWithAccessToken()\n\n      return setUser(userFromToken)\n    } catch (err) {\n      return setUser(null)\n    }\n  }, [])\n\n  const loading = user === 'Loading'\n  const mustRedirect = user === null\n  const redirectToLoginPage = mustRedirect && (\n    <Redirect\n      to={{ pathname: '/login', state: { referrer: currentLocation } }}\n    />\n  )\n\n  return (\n    <>\n      <LoadingUntillDone\n        loading={loading}\n        redirectComponent={redirectToLoginPage}\n      >\n        {children}\n      </LoadingUntillDone>\n\n      <Route path=\"/login\">\n        {user === null ? <Login setUser={setUser} /> : <Redirect to=\"/\" />}\n      </Route>\n    </>\n  )\n}\n\nfunction App() {\n  const [user, setUser] = useState('Loading')\n  const [custom, setCustom] = useState(false)\n\n  const history = useHistory()\n\n  function handleCustomChange(e) {\n    const { checked } = e.target\n    setCustom(checked)\n\n    return checked ? history.push('/custom') : history.push('/')\n  }\n\n  return (\n    <div className=\"container\">\n      <ErrorBoundary FallbackComponent={ErrorFallback}>\n        <Header\n          isLogged={user !== null && user !== 'Loading'}\n          custom={custom}\n          setCustom={setCustom}\n          handleChange={handleCustomChange}\n        />\n        <Switch>\n          <Route path=\"/register\">\n            <Register />\n          </Route>\n          <Route path=\"/\">\n            <AuthenticateUser user={user} setUser={setUser}>\n              <Confirmator custom={custom} />\n              <Footer user={user} logoutUser={() => setUser(null)} />\n            </AuthenticateUser>\n          </Route>\n        </Switch>\n      </ErrorBoundary>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter as Router } from 'react-router-dom'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router basename=\"/app\">\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}