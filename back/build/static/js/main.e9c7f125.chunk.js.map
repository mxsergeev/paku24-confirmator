{"version":3,"sources":["components/Hub.js","components/CollapseWrapper.js","components/Confirmator/Boxes.js","components/Confirmator/Editor.js","components/Confirmator/OrderSettings.js","components/Confirmator/ValidationDisplay.js","components/Confirmator/withEditing.js","components/Confirmator/OrderContainers/RawOrderContainer.js","components/Confirmator/OrderContainers/TransformedOrderContainer.js","components/Confirmator/OrderOperations/TransformButton.js","components/Confirmator/OrderOperations/CopyButton.js","components/Confirmator/OrderOperations/TransformPanel.js","components/Confirmator/NewOrderButton.js","components/Confirmator/OrderPool/OrderPoolOpenerButton.js","components/Confirmator/OrderOperations/MessageBeforeButton.js","components/Confirmator/OrderOperations/CustomButton.js","services/tokens.js","services/interceptor.js","services/emailAPI.js","components/Confirmator/OrderOperations/ConfirmationEmailSenderButton.js","services/smsAPI.js","components/Confirmator/OrderOperations/ConfirmationSMSSenderButton.js","services/calendarAPI.js","services/orderPoolAPI.js","components/Confirmator/OrderOperations/AddOrderToCalendarButton.js","components/Confirmator/OrderOperations/MainOperationsPanel.js","components/ResponsiveDialog.js","components/LoadingUntillDone.js","components/Confirmator/OrderPool/OrdersList.js","components/Confirmator/OrderPool/OrderPool.js","components/Confirmator/OrderPool/OrderPoolDialog.js","helpers/TextOrder.js","helpers/Order.js","components/Confirmator/Confirmator.js","components/Statistics/Statistics.js","assets/paku24-logo.png","components/Header.js","services/login.js","components/Notification.js","components/Login.js","components/Register.js","services/logout.js","components/LogoutButton.js","components/Footer.js","App.js","index.js"],"names":["Hub","history","useHistory","handleBlockClick","e","push","currentTarget","name","className","Button","onClick","variant","CollapseWrapper","open","clickable","label","icon","style","containerStyle","children","useState","isExpanded","setExpanded","Title","marginLeft","paddingLeft","marginRight","paddingRight","size","display","alignItems","cursor","pointerEvents","IconButton","padding","transform","Collapse","in","boxesAmountOptions","i","boxesSettings","minAmount","maxAmount","step","Boxes","order","handleChange","includeTime_start","setIncludeTime_start","includeTime_end","setIncludeTime_end","StartPicker","DateTimePicker","DatePicker","EndPicker","useEffect","boxesDeliveryDate","includes","boxesPickupDate","selfPickup","setSelfPickup","selfReturn","setSelfReturn","handleDateChange","date","includeTime","target","value","Date","toISOString","dayjs","format","split","width","gap","border","borderRadius","margin","utils","DayjsUtils","locale","locale_en","ampm","minutesStep","onChange","v","DialogProps","disableScrollLock","FormControlLabel","control","Checkbox","checked","color","labelPlacement","fontSize","flexWrap","NativeSelect","maxWidth","marginTop","boxesAmount","map","o","Editor","marginLeftRight","weekStart","dateTime","duration","fullWidth","serviceName","services","service","id","paymentType","paymentTypes","TextField","required","address","multiline","destination","email","type","phone","TextareaAutosize","rowsMin","cols","comment","placeholder","CheckboxGroup","props","FormControl","hiddenLabel","FormLabel","component","RadioGroup","distance","Radio","Select","renderValue","backgroundColor","colors","hex","Object","entries","colorId","colorData","MenuItem","hsy","XL","ValidationMessages","validationArray","errStyle","isError","message","ValidationDisplay","shouldValidate","setValidationArray","validationAr","validator","isBefore","confirmationDateString","time","isEmpty","isMobilePhone","isEmail","someIsInvalid","some","borderTop","borderBottom","withEditing","EditableComponent","NotEditableComponent","content","handleUpdate","rest","isEditable","setIsEditable","savedChanges","setSavedChanges","incomingChanges","setIncomingChanges","handleIncomingChanges","handleCancelClick","handleSaveClick","handleEditClick","button","RawOrderContainer","handleClick","rawOrderText","elementRef","ContainerWithEditing","ref","TransformedOrderContainer","transformedOrderText","length","line","index","TransformButton","text","CopyButton","disabled","tempTextarea","document","createElement","body","appendChild","current","innerText","defaultValue","select","execCommand","removeChild","copyToClipboard","enqueueSnackbar","autoHideDuration","TransformPanel","handleOrderTransformFromText","handleOrderTransformFromEditor","transformDisabled","copyDisabled","NewOrderButton","OrderPoolOpenerButton","orderPoolUrl","MessageBeforeButton","CustomButton","isDisabled","grayScale","baseUrl","a","interceptor","axiosInstance","post","refreshTokens","axios","create","setupInterceptor","externalActions","interceptors","response","use","error","originalRequest","config","data","tokenService","notificate","logout","Error","status","setTimeout","Promise","reject","params","EMAIL","ConfirmationEmailSenderButton","statusText","changeStatus","buttonContent","sendConfirmationEmail","orderDetails","then","res","catch","err","sendSMS","SMS","ConfirmationSMSSenderButton","msg","addEventToCalendar","makeQueryArray","queryName","items","item","isLastItem","join","storeOrdersInSessionStorage","query","orders","resolve","sessionStorage","setItem","JSON","stringify","validUntil","now","getOrdersFromSessionStorage","parse","getItem","isStorageUpToDate","pages","options","deleted","forceUpdate","url","get","delete","put","confirm","remove","retrieve","getConfirmedOrders","period","periodFrom","periodTo","add","key","CALENDAR","AddOrderToCalendarButton","orderId","prepareForSending","calendarEntries","makeCalendarEntries","orderPoolAPI","createdEvent","toString","MainOperationsPanel","transformedOrder","handleResetClick","defaultStatuses","disable","sms","calendar","statuses","setStatuses","emailBlock","smsBlock","threeButtonsBlock","ResponsiveDialog","handleClose","theme","useTheme","fullScreen","useMediaQuery","breakpoints","down","Dialog","onClose","aria-labelledby","DialogContent","DialogActions","LoadingUntillDone","loading","redirectComponent","OrdersList","handleExport","handleDeletion","handleLoadingMoreOrders","labelForDeletion","ordersWithStyles","setOrdersWithStyles","textOrder","txtOrder","isNew","toDateString","confirmed","hidden","orderWithStyles","handleHideOrShow","isJSON","jsonOrder","fieldName","fieldValue","minHeight","fontWeight","toLocaleDateString","toLocaleTimeString","slice","INBOX","TRASHCAN","OrderPool","setOrders","isLoading","setIsloading","currentTab","setCurrentTab","inbox","searchText","showOnlyNotConfirmed","trashcan","searchOptions","setSearchOptions","searchResults","setSearchResults","hasToUpdate","trigger","setForceUpdate","setPages","numberOfOrders","numberOfUnconfirmedOrders","filter","makeSearch","val","bool","searchTarget","search","values","condition","filterConfirmed","toLowerCase","trim","newPage","moreOrdersFromPool","concatenatedOrders","concat","filteredOrders","handleTabBarChange","dataset","tabname","ordersFromPool","data-tabname","prevOptsForCurTab","handleOnlyNotConfirmedSearch","OrderPoolDialog","goBack","cannotFind","removeOrdinalSuffix","dateStr","replace","TextOrder","this","initialCleanup","dateRe","exec","getFullYear","getMonth","getDate","beginMarker","beginIndex","indexOf","endIndex","paymentTypeField","nonWordChars","match","c","endIndex2","p","amountLine","startLineIndex","deliveryLine","startMarker","fromIndex","priceLine","find","s","endMarkers","addresses","forEach","marker","rawAddress","replaceAll","cityField","postalCode","addressField","city","test","re","str","splitStr","noRebundantWhitespace","defaultOrder","distances","insideCapital","eventColor","orderClassPropertyNames","keys","Order","propertyName","toTimeString","priceXL","price","diff","timeUnit","deliveryFee","pickupFee","dd","mm","yyyy","timeInNumberType","dayOFWeek","getDay","dayOfMonth","endOfMonth","weekEndFeeApplicable","endOfMonthFeeApplicable","morningFeeApplicable","nightFeeApplicable","paymentFeeApplicable","fees","weekend","firstOrLastDayOfTheMonth","morning","night","bill","f","Boolean","printed","repeat","fee","toUpperCase","amount","prepared","sizeIcon","icons","distanceIcon","misc","feeIcons","reduce","acc","cur","serviceIcons","paymentIcons","payment","move","boxesDelivery","boxes","delivery","boxesPickup","pickup","moveTitle","makeIcons","boxesDeliveryTitle","boxesPickupTitle","title","description","removeFirstHeading","opts","defaultOpts","transformed","servicePrice","printFees","boxDelDateStr","boxPickDateStr","boxesPrice","ar","shift","console","formattedStr","orderArguments","Confirmator","rawOrder","setRawOrder","setTransformedOrder","default","setOrder","savedOrder","localStorage","savedRawOrder","rawOrderOrderContainerRef","useRef","transformedOrderContainerRef","handleOrderChange","handleRawOrderUpdate","rawO","setupOrderFromText","orderFromText","transO","path","scrollIntoView","smooth","splitPeriodToWeeks","numberOfWeeksInPeriod","Math","ceil","weekNumbers","Array","fill","isoWeek","number","count","startYear","startOf","year","weekNumber","splitOrdersByPeriods","periods","splitted","filtered","confirmedAt","isSameOrAfter","makeRows","labels","d","orderCount","makeWeekRows","weeks","Statistics","defStartDate","defEndDate","setPeriod","ordersByDays","setOrdersByDays","anchorEl","setAnchorEl","ordersByWeeks","setOrdersByWeeks","rows","setRows","handlePeriodChange","showOrdersByDay","ordersOfSelectedWeek","rownumber","ordByDays","day","weekday","firstWeek","lastWeek","orderPoolApi","confirmedOrdersOfAllWeeksOfPeriod","confirmedOrders","ordsByWeeks","ordersOfWholePeriod","weekRows","totalRow","shouldApplyEventHandler","row","TableContainer","Paper","Table","aria-label","TableHead","TableRow","TableCell","align","TableBody","rowNumber","scope","Popper","placement","ClickAwayListener","mouseEvent","touchEvent","onClickAway","data-rownumber","extend","Header","isLogged","to","src","logo","alt","axiosLoginInstance","credentials","loginWithCredentials","loginWithAccessToken","Notification","notification","marginBottom","Login","updateUser","flexItem","referrer","location","state","username","setUsername","password","setPassword","isButtonDisabled","setIsButtonDisabled","inputError","setInputError","setNotification","event","preventDefault","loginServiсe","user","letterSpacing","onSubmit","paddingBottom","height","flexFlow","justifyContent","Register","setName","setEmail","purpose","setPurpose","setResponse","setDisabled","sendRequestForAccess","LogoutButton","Footer","logoutUser","paddingTop","fontFamily","logoutService","ErrorFallback","role","ProtectedRoute","currentLocation","dependsOn","pathname","redirectToLoginPage","App","setUser","userFromToken","FallbackComponent","exact","notistackRef","React","createRef","ReactDOM","render","StrictMode","basename","action","closeSnackbar","maxSnack","dense","anchorOrigin","horizontal","vertical","getElementById"],"mappings":"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","file":"static/js/main.e9c7f125.chunk.js","sourcesContent":["import { Button } from '@material-ui/core'\nimport React from 'react'\nimport { useHistory } from 'react-router-dom'\nimport './Hub.css'\n\nexport default function Hub() {\n  const history = useHistory()\n\n  function handleBlockClick(e) {\n    history.push(e.currentTarget.name)\n  }\n  return (\n    <div className=\"hub\">\n      <Button\n        onClick={handleBlockClick}\n        name=\"confirmator\"\n        variant=\"contained\"\n        className=\"hub-block\"\n      >\n        Confirmator\n      </Button>\n\n      <Button\n        onClick={handleBlockClick}\n        name=\"statistics\"\n        variant=\"contained\"\n        className=\"hub-block\"\n      >\n        Statistics\n      </Button>\n    </div>\n  )\n}\n","/* eslint-disable react/jsx-indent */\n/* eslint-disable jsx-a11y/no-static-element-interactions */\n/* eslint-disable jsx-a11y/click-events-have-key-events */\nimport { Collapse, IconButton, Button } from '@material-ui/core'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport React, { useState } from 'react'\n\nexport default function CollapseWrapper({\n  open,\n  clickable = true,\n  label,\n  icon,\n  style,\n  containerStyle,\n  children,\n}) {\n  const [isExpanded, setExpanded] = useState(false)\n\n  const Title =\n    typeof label === 'object'\n      ? () => label\n      : () => (\n          <Button\n            style={{\n              marginLeft: 0,\n              paddingLeft: '0.5rem',\n              marginRight: 0,\n              paddingRight: '0.5rem',\n            }}\n            variant=\"text\"\n            size=\"small\"\n            label={label}\n          />\n        )\n\n  return (\n    <div style={containerStyle}>\n      <div\n        style={{\n          display: 'flex',\n          alignItems: 'center',\n          cursor: clickable ? 'pointer' : 'auto',\n          pointerEvents: clickable ? 'all' : 'none',\n          ...style,\n        }}\n        onClick={() => setExpanded(!isExpanded)}\n      >\n        {icon}\n        <Title />\n        {clickable && (\n          <IconButton style={{ padding: 0 }} size=\"small\" onClick={() => setExpanded(!isExpanded)}>\n            <ExpandMoreIcon\n              style={{\n                transform: isExpanded ? 'rotate(0.5turn)' : '',\n              }}\n            />\n          </IconButton>\n        )}\n      </div>\n      <Collapse in={open || isExpanded}>{children}</Collapse>\n    </div>\n  )\n}\n","import DayjsUtils from '@date-io/dayjs'\nimport { Checkbox, FormControlLabel, NativeSelect } from '@material-ui/core/'\nimport AllInboxIcon from '@material-ui/icons/AllInbox'\nimport { DatePicker, DateTimePicker, MuiPickersUtilsProvider } from '@material-ui/pickers'\nimport dayjs from 'dayjs'\nimport locale_en from 'dayjs/locale/en'\nimport React, { useEffect, useState } from 'react'\nimport boxesSettings from '../../data/boxes.json'\nimport CollapseWrapper from '../CollapseWrapper'\n\nconst boxesAmountOptions = [0]\nfor (let i = boxesSettings.minAmount; i <= boxesSettings.maxAmount; i += boxesSettings.step) {\n  boxesAmountOptions.push(i)\n}\n\nexport default function Boxes({ order = {}, handleChange, style }) {\n  const [includeTime_start, setIncludeTime_start] = useState(true)\n  const [includeTime_end, setIncludeTime_end] = useState(true)\n\n  const StartPicker = includeTime_start ? DateTimePicker : DatePicker\n  const EndPicker = includeTime_end ? DateTimePicker : DatePicker\n\n  useEffect(() => {\n    setIncludeTime_start(order.boxesDeliveryDate.includes('T'))\n    setIncludeTime_end(order.boxesPickupDate.includes('T'))\n  }, [order.boxesDeliveryDate, order.boxesPickupDate])\n\n  const [selfPickup, setSelfPickup] = useState(false)\n  const [selfReturn, setSelfReturn] = useState(false)\n\n  useEffect(() => {\n    setSelfPickup(order.selfPickup ?? false)\n    setSelfReturn(order.selfReturn ?? false)\n  }, [order.selfPickup, order.selfReturn])\n\n  const handleDateChange = (name, date, includeTime) =>\n    handleChange({\n      target: {\n        name,\n        value: includeTime\n          ? new Date(date).toISOString()\n          : // Not using .toISOString() as it will change the date to a previos day in the Helsinki/Finland timezone\n            // dayjs().format() keeps the timezone info and displays the correct day\n            dayjs(date).format().split('T')[0],\n      },\n    })\n\n  return (\n    <>\n      <CollapseWrapper\n        style={{ width: '100%', gap: '0.25rem' }}\n        containerStyle={{\n          width: '100%',\n          border: '1px solid lightgray',\n          padding: '0.5rem',\n          borderRadius: '0.25rem',\n          ...style,\n        }}\n        label={\n          <div style={{ display: 'flex', alignItems: 'center', gap: '0.3rem' }}>\n            <AllInboxIcon /> Boxes\n          </div>\n        }\n      >\n        <div\n          style={{\n            margin: '1.25rem 0.5rem 0.5rem',\n          }}\n        >\n          <div\n            style={{\n              display: 'flex',\n              alignItems: 'center',\n              gap: '1rem',\n            }}\n          >\n            <div>\n              <MuiPickersUtilsProvider utils={DayjsUtils} locale={locale_en}>\n                <StartPicker\n                  ampm={false}\n                  format={includeTime_start ? 'DD.MM.YYYY HH:mm' : 'DD.MM.YYYY'}\n                  minutesStep={15}\n                  value={order.boxesDeliveryDate}\n                  onChange={(v) =>\n                    handleDateChange('boxesDeliveryDate', new Date(v), includeTime_start)\n                  }\n                  DialogProps={{ disableScrollLock: true }}\n                />\n              </MuiPickersUtilsProvider>\n              <FormControlLabel\n                size=\"small\"\n                style={{ display: 'block', marginLeft: 0 }}\n                control={\n                  <Checkbox\n                    checked={includeTime_start}\n                    onChange={() => {\n                      const v = !includeTime_start\n                      setIncludeTime_start(v)\n                      handleDateChange('boxesDeliveryDate', order.boxesDeliveryDate, v)\n                    }}\n                    color=\"primary\"\n                  />\n                }\n                label=\"Include time\"\n                labelPlacement=\"start\"\n              />\n            </div>\n            <div style={{ fontSize: '1.25rem' }}>–</div>\n            <div>\n              <MuiPickersUtilsProvider utils={DayjsUtils} locale={locale_en}>\n                <EndPicker\n                  ampm={false}\n                  format={includeTime_end ? 'DD.MM.YYYY HH:mm' : 'DD.MM.YYYY'}\n                  minutesStep={15}\n                  value={order.boxesPickupDate}\n                  onChange={(v) =>\n                    handleDateChange('boxesPickupDate', new Date(v), includeTime_end)\n                  }\n                  DialogProps={{ disableScrollLock: true }}\n                />\n              </MuiPickersUtilsProvider>\n              <FormControlLabel\n                size=\"small\"\n                style={{ display: 'block', marginLeft: 0 }}\n                control={\n                  <Checkbox\n                    checked={includeTime_end}\n                    onChange={() => {\n                      const v = !includeTime_end\n                      setIncludeTime_end(v)\n                      handleDateChange('boxesPickupDate', order.boxesPickupDate, v)\n                    }}\n                    color=\"primary\"\n                  />\n                }\n                label=\"Include time\"\n                labelPlacement=\"start\"\n              />\n            </div>\n          </div>\n          <div style={{ display: 'flex', gap: '1rem', flexWrap: 'wrap' }}>\n            <NativeSelect\n              className=\"time-duration\"\n              style={{ maxWidth: '9rem', marginTop: '0.5rem' }}\n              name=\"boxesAmount\"\n              value={order?.boxesAmount}\n              onChange={handleChange}\n              variant=\"filled\"\n            >\n              {boxesAmountOptions.map((o) => (\n                <option key={o} value={o}>\n                  {o}\n                </option>\n              ))}\n            </NativeSelect>\n            <div style={{ display: 'flex', gap: '1rem', flexWrap: 'wrap' }}>\n              <FormControlLabel\n                size=\"small\"\n                style={{ display: 'block', marginLeft: 0 }}\n                control={\n                  <Checkbox\n                    checked={selfPickup}\n                    onChange={() => {\n                      const v = !selfPickup\n                      setSelfPickup(v)\n                      handleChange({\n                        target: {\n                          name: 'selfPickup',\n                          value: v,\n                        },\n                      })\n                    }}\n                    color=\"primary\"\n                  />\n                }\n                label=\"Self pickup\"\n                labelPlacement=\"start\"\n              />\n              <FormControlLabel\n                size=\"small\"\n                style={{ display: 'block', marginLeft: 0 }}\n                control={\n                  <Checkbox\n                    checked={selfReturn}\n                    onChange={() => {\n                      const v = !selfReturn\n                      setSelfReturn(v)\n                      handleChange({\n                        target: {\n                          name: 'selfReturn',\n                          value: v,\n                        },\n                      })\n                    }}\n                    color=\"primary\"\n                  />\n                }\n                label=\"Self return\"\n                labelPlacement=\"start\"\n              />\n            </div>\n          </div>\n        </div>\n      </CollapseWrapper>\n    </>\n  )\n}\n","import React from 'react'\nimport TextField from '@material-ui/core/TextField'\nimport NativeSelect from '@material-ui/core/NativeSelect'\nimport TextareaAutosize from '@material-ui/core/TextareaAutosize'\nimport DayjsUtils from '@date-io/dayjs'\nimport locale_en from 'dayjs/locale/en'\nimport { DateTimePicker, MuiPickersUtilsProvider } from '@material-ui/pickers'\nimport services from '../../data/services.json'\nimport paymentTypes from '../../data/paymentTypes.json'\nimport Boxes from './Boxes'\n\nexport default function Editor({ order, handleChange }) {\n  const margin = {\n    marginTop: 5,\n  }\n  const marginLeftRight = {\n    marginLeft: 5,\n    marginRight: 5,\n  }\n\n  locale_en.weekStart = 1\n\n  function handleDateChange(name, value) {\n    return handleChange({ target: { name, value } })\n  }\n\n  return (\n    <div className=\"basic-flex\" style={{ marginTop: '5px' }}>\n      <div className=\"flex-100-space-between flex-item\" style={marginLeftRight}>\n        <MuiPickersUtilsProvider utils={DayjsUtils} locale={locale_en}>\n          <DateTimePicker\n            ampm={false}\n            format=\"DD-MM-YYYY HH:mm\"\n            minutesStep={15}\n            style={marginLeftRight}\n            className=\"time-duration\"\n            value={order.dateTime}\n            onChange={(v) => handleDateChange('dateTime', new Date(v))}\n            DialogProps={{ disableScrollLock: true }}\n          />\n        </MuiPickersUtilsProvider>\n\n        <NativeSelect\n          className=\"time-duration\"\n          style={{ ...marginLeftRight, paddingLeft: 10 }}\n          name=\"duration\"\n          value={order?.duration}\n          onChange={handleChange}\n        >\n          <option value={1}>1h</option>\n          <option value={1.5}>1.5h</option>\n          <option value={2}>2h</option>\n          <option value={2.5}>2.5h</option>\n          <option value={3}>3h</option>\n          <option value={3.5}>3.5h</option>\n          <option value={4}>4h</option>\n          <option value={4.5}>4.5h</option>\n          <option value={5}>5h</option>\n          <option value={5.5}>5.5h</option>\n          <option value={6}>6h</option>\n          <option value={6.5}>6.5h</option>\n          <option value={7}>7h</option>\n          <option value={7.5}>7.5h</option>\n          <option value={8}>8h</option>\n          <option value={8.5}>8.5h</option>\n          <option value={9}>9h</option>\n          <option value={9.5}>9.5h</option>\n          <option value={10}>10h</option>\n        </NativeSelect>\n      </div>\n\n      <NativeSelect\n        fullWidth\n        style={marginLeftRight}\n        className=\"flex-item\"\n        name=\"serviceName\"\n        value={order?.serviceName}\n        onChange={handleChange}\n      >\n        {services.map((service) => (\n          <option key={service.id} value={service.name}>\n            {service.name}\n          </option>\n        ))}\n      </NativeSelect>\n\n      <NativeSelect\n        fullWidth\n        style={marginLeftRight}\n        className=\"flex-item\"\n        name=\"paymentType\"\n        value={order?.paymentType}\n        onChange={handleChange}\n      >\n        {paymentTypes.map(({ name, id }) => (\n          <option key={id} value={name}>\n            {name}\n          </option>\n        ))}\n      </NativeSelect>\n\n      <TextField\n        fullWidth\n        style={margin}\n        className=\"flex-item\"\n        required\n        name=\"address\"\n        value={order?.address}\n        onChange={handleChange}\n        label=\"Address\"\n        variant=\"outlined\"\n        size=\"small\"\n      />\n\n      <TextField\n        fullWidth\n        multiline\n        style={margin}\n        className=\"flex-item\"\n        name=\"destination\"\n        value={order?.destination}\n        onChange={handleChange}\n        label=\"Destination\"\n        variant=\"outlined\"\n        size=\"small\"\n      />\n\n      <TextField\n        fullWidth\n        required\n        style={margin}\n        className=\"flex-item\"\n        name=\"name\"\n        value={order?.name}\n        onChange={handleChange}\n        label=\"Name\"\n        variant=\"outlined\"\n        size=\"small\"\n      />\n\n      <TextField\n        fullWidth\n        style={margin}\n        className=\"flex-item\"\n        name=\"email\"\n        value={order?.email}\n        onChange={handleChange}\n        type=\"email\"\n        label=\"Email\"\n        variant=\"outlined\"\n        size=\"small\"\n      />\n\n      <TextField\n        fullWidth\n        style={margin}\n        className=\"flex-item\"\n        required\n        name=\"phone\"\n        value={order?.phone}\n        onChange={handleChange}\n        label=\"Phonenumber\"\n        variant=\"outlined\"\n        size=\"small\"\n      />\n\n      <Boxes style={{ marginTop: margin.marginTop }} order={order} handleChange={handleChange} />\n\n      <TextareaAutosize\n        style={margin}\n        className=\"flex-item textarea-2\"\n        rowsMin={3}\n        cols={27}\n        name=\"comment\"\n        value={order?.comment}\n        placeholder=\"Additional information.\"\n        onChange={handleChange}\n      />\n    </div>\n  )\n}\n","import React from 'react'\nimport FormLabel from '@material-ui/core/FormLabel'\nimport FormControl from '@material-ui/core/FormControl'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport Radio from '@material-ui/core/Radio'\nimport RadioGroup from '@material-ui/core/RadioGroup'\nimport Select from '@material-ui/core/Select'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport colors from '../../data/colors.json'\n\nexport default function CheckboxGroup(props) {\n  const { handleChange, order } = props\n\n  return (\n    <div className=\"checkbox-container\">\n      <FormControl className=\"checkbox-distance flex-item\" hiddenLabel={false} size=\"small\">\n        <FormLabel component=\"legend\">Pick one:</FormLabel>\n        <RadioGroup value={order.distance} onChange={handleChange}>\n          <FormControlLabel\n            name=\"distance\"\n            value=\"insideCapital\"\n            control={<Radio color=\"default\" />}\n            label=\"🏙 Inside capital\"\n          />\n          <FormControlLabel\n            name=\"distance\"\n            value=\"outsideCapital\"\n            control={<Radio color=\"default\" />}\n            label=\"🏞 Outside capital\"\n          />\n          <FormControlLabel\n            name=\"distance\"\n            value=\"fromCapitalToOutside\"\n            control={<Radio color=\"default\" />}\n            label=\"🏙->🏞 From capital\"\n          />\n          <FormControlLabel\n            name=\"distance\"\n            value=\"fromOutsideToCapital\"\n            control={<Radio color=\"default\" />}\n            label=\"🏞->🏙 To capital\"\n          />\n        </RadioGroup>\n      </FormControl>\n      <FormControl className=\"basic-flex\" size=\"small\" style={{ alignItems: 'flex-end' }}>\n        <div className=\"color-selector\">\n          <div>Event color</div>\n\n          <Select\n            variant=\"filled\"\n            name=\"eventColor\"\n            value={order?.color}\n            onChange={handleChange}\n            label=\"Event color\"\n            renderValue={(value) => (\n              <>\n                <span style={{ backgroundColor: colors[value].hex }} className=\"color-option\">\n                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n                </span>\n              </>\n            )}\n          >\n            {Object.entries(colors).map(([colorId, colorData]) => (\n              <MenuItem key={colorId} value={colorId}>\n                <span\n                  style={{ backgroundColor: colorData.hex, marginRight: '0.5rem' }}\n                  className=\"color-option\"\n                />\n                {colorData.name}\n              </MenuItem>\n            ))}\n          </Select>\n        </div>\n\n        <FormControlLabel\n          size=\"small\"\n          className=\"flex-item\"\n          control={<Checkbox checked={order.hsy} onChange={handleChange} color=\"primary\" />}\n          name=\"hsy\"\n          label=\"♻ HSY\"\n          labelPlacement=\"start\"\n        />\n\n        <FormControlLabel\n          style={{ display: 'none' }}\n          className=\"flex-item\"\n          control={<Checkbox checked={order.XL} onChange={handleChange} color=\"primary\" />}\n          name=\"XL\"\n          label=\"XL\"\n          labelPlacement=\"start\"\n        />\n      </FormControl>\n    </div>\n  )\n}\n","import React, { useState, useEffect } from 'react'\nimport validator from 'validator'\nimport ErrorOutlineIcon from '@material-ui/icons/ErrorOutline'\n\nfunction ValidationMessages({ validationArray }) {\n  const errStyle = { color: 'red' }\n\n  return (\n    <>\n      {validationArray.map((v) => {\n        if (v.isError) {\n          return (\n            <div key={v.id}>\n              <span style={errStyle}>{v.name} </span>\n              {v.message}\n            </div>\n          )\n        }\n        return null\n      })}\n    </>\n  )\n}\n\nexport default function ValidationDisplay({ order, shouldValidate }) {\n  const [validationArray, setValidationArray] = useState([])\n\n  useEffect(() => {\n    if (shouldValidate) {\n      const validationAr = [\n        {\n          id: 1,\n          name: 'Date and time',\n          isError: validator.isBefore(order.dateTime.toISOString(), new Date().toISOString()),\n          message: `might have some problems. Check to be sure: ${\n            `${order.confirmationDateString} ${order.time}` || '---'\n          }`,\n        },\n        {\n          id: 2,\n          name: 'Address',\n          isError: validator.isEmpty(order.address),\n          message: 'is missing',\n        },\n        {\n          id: 3,\n          name: 'Phonenumber',\n          isError: !validator.isMobilePhone(order.phone, ['fi-FI', 'es-ES', 'sv-SE']),\n          message: `is missing or is incorrect: ${order.phone || '---'}`,\n        },\n        {\n          id: 4,\n          name: 'Email',\n          isError: !validator.isEmail(order.email),\n          message: `is missing or is incorrect: ${order.email || '---'}`,\n        },\n      ]\n      setValidationArray(validationAr)\n    }\n  }, [order.dateTime, order.phone, order.address, order.email, shouldValidate])\n\n  const someIsInvalid = validationArray.some((v) => v.isError)\n\n  const border = {\n    borderTop: '1px solid gray',\n    borderBottom: '1px solid gray',\n    padding: '15px 0 15px 0',\n    margin: '10px 0 10px 0',\n  }\n\n  return (\n    <>\n      {shouldValidate && someIsInvalid && (\n        <div style={border} className=\"flex-100-space-between\">\n          <div>\n            <ErrorOutlineIcon />\n            <ValidationMessages validationArray={validationArray} />\n          </div>\n        </div>\n      )}\n    </>\n  )\n}\n","import React, { useState } from 'react'\nimport Button from '@material-ui/core/Button'\nimport IconButton from '@material-ui/core/IconButton'\nimport EditOutlinedIcon from '@material-ui/icons/EditOutlined'\nimport './withEditing.css'\n\nconst withEditing = (EditableComponent, NotEditableComponent) => ({\n  content,\n  handleUpdate,\n  ...rest\n}) => {\n  const [isEditable, setIsEditable] = useState(false)\n  const [savedChanges, setSavedChanges] = useState(content)\n  const [incomingChanges, setIncomingChanges] = useState(savedChanges)\n\n  function removeUnsavedChanges() {\n    setIncomingChanges(savedChanges)\n  }\n\n  function handleIncomingChanges(e) {\n    setIncomingChanges(e.target.value)\n  }\n\n  function handleCancelClick() {\n    removeUnsavedChanges()\n    setIsEditable(!isEditable)\n  }\n\n  function handleSaveClick() {\n    setSavedChanges(incomingChanges)\n    handleUpdate(incomingChanges)\n    setIsEditable(!isEditable)\n  }\n\n  function handleEditClick() {\n    setIsEditable(!isEditable)\n  }\n\n  function notEditable() {\n    return (\n      <>\n        <NotEditableComponent\n          content={content}\n          button={\n            <span>\n              <IconButton size=\"small\" onClick={handleEditClick}>\n                <EditOutlinedIcon style={{ width: '20px' }} />\n              </IconButton>\n            </span>\n          }\n          {...rest}\n        />\n      </>\n    )\n  }\n  function editable() {\n    return (\n      <>\n        <EditableComponent\n          content={incomingChanges}\n          handleChange={handleIncomingChanges}\n          {...rest}\n        />\n        <div className=\"buttons-block\">\n          <Button size=\"small\" onClick={handleCancelClick}>\n            Cancel\n          </Button>\n          <Button className=\"primary\" size=\"small\" onClick={handleSaveClick}>\n            Save\n          </Button>\n        </div>\n      </>\n    )\n  }\n\n  return <>{isEditable ? editable() : notEditable()}</>\n}\n\nexport default withEditing\n","import React from 'react'\nimport TextareaAutosize from '@material-ui/core/TextareaAutosize'\nimport withEditing from '../withEditing'\n\nexport default function RawOrderContainer({ handleClick, rawOrderText, elementRef }) {\n  const Editable = ({ handleChange, content }) => (\n    <TextareaAutosize\n      onChange={handleChange}\n      value={content}\n      style={{ marginTop: '10px' }}\n      className=\"width-100\"\n      rowsMin={5}\n      cols={40}\n      placeholder=\"Raw order here.\"\n    />\n  )\n\n  const NotEditable = ({ button }) => (\n    <div ref={elementRef} className=\"not-editable-container\">\n      Raw order{button}\n    </div>\n  )\n  const ContainerWithEditing = withEditing(Editable, NotEditable)\n  return (\n    <ContainerWithEditing\n      style={{ width: 'max-content' }}\n      handleUpdate={handleClick}\n      content={rawOrderText}\n    />\n  )\n}\n","/* eslint-disable react/no-array-index-key */\n/* eslint-disable react/destructuring-assignment */\nimport React from 'react'\nimport TextareaAutosize from '@material-ui/core/TextareaAutosize'\nimport withEditing from '../withEditing'\nimport './orderContainers.css'\n\nexport default function TransformedOrderContainer({\n  elementRef,\n  handleClick,\n  transformedOrderText,\n}) {\n  const Editable = ({ handleChange, content }) => (\n    <TextareaAutosize\n      onChange={handleChange}\n      value={content}\n      ref={elementRef}\n      style={{ marginTop: '10px' }}\n      className=\"width-100\"\n      rowsMin={5}\n      cols={40}\n      placeholder=\"Transformed order.\"\n    />\n  )\n\n  const NotEditable = ({ content, button }) => (\n    <div\n      ref={elementRef}\n      style={{ width: transformedOrderText && '100%', marginTop: '12px' }}\n      className=\"not-editable-container\"\n    >\n      {content.length === 0 ? (\n        'Transformed order'\n      ) : (\n        <div className=\"text-container-with-scroll\">\n          {content.split('\\n').map((line, index) => (\n            <div key={index}>{line}</div>\n          ))}\n        </div>\n      )}\n      {button}\n    </div>\n  )\n  const ContainerWithEditing = withEditing(Editable, NotEditable)\n  return <ContainerWithEditing handleUpdate={handleClick} content={transformedOrderText} />\n}\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport TransformIcon from '@material-ui/icons/Transform'\n\nexport default function TransformButton({ handleClick, text = 'Transform', ...rest }) {\n  return (\n    <Button\n      className=\"button-one-third flex-item\"\n      variant=\"outlined\"\n      size=\"small\"\n      style={{ fontSize: '0.8rem', padding: '1px' }}\n      onClick={() => handleClick()}\n      {...rest}\n    >\n      <TransformIcon />\n      {text}\n    </Button>\n  )\n}\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport FileCopyIcon from '@material-ui/icons/FileCopy'\nimport { enqueueSnackbar } from 'notistack'\n\nexport default function CopyButton({ elementRef, disabled }) {\n  function copyToClipboard() {\n    const tempTextarea = document.createElement('textarea')\n    document.body.appendChild(tempTextarea)\n    // getting text from container (div) or from textarea that holds the transformed order\n    tempTextarea.value = elementRef.current.innerText || elementRef.current.defaultValue\n    tempTextarea.select()\n    document.execCommand('copy')\n    document.body.removeChild(tempTextarea)\n  }\n\n  function handleCopying() {\n    copyToClipboard()\n    enqueueSnackbar('Copied!', { autoHideDuration: 750 })\n  }\n\n  return (\n    <Button\n      disabled={disabled}\n      className=\"button-one-third flex-item\"\n      variant=\"outlined\"\n      size=\"small\"\n      onClick={handleCopying}\n    >\n      Copy <FileCopyIcon />\n    </Button>\n  )\n}\n","import React from 'react'\nimport TransformButton from './TransformButton'\nimport CopyButton from './CopyButton'\n\nexport default function TransformPanel({\n  handleOrderTransformFromText,\n  handleOrderTransformFromEditor,\n  transformDisabled,\n  copyDisabled,\n  elementRef,\n}) {\n  return (\n    <div className=\"order-operations\">\n      <div className=\"block\">\n        <CopyButton disabled={copyDisabled} elementRef={elementRef} />\n        <TransformButton\n          text=\"from text\"\n          disabled={transformDisabled}\n          handleClick={handleOrderTransformFromText}\n        />\n\n        <TransformButton text=\"from editor\" handleClick={handleOrderTransformFromEditor} />\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport NoteAddIcon from '@material-ui/icons/NoteAdd'\n\nexport default function NewOrderButton({ handleClick, className }) {\n  return (\n    <Button className={className} variant=\"contained\" size=\"small\" onClick={handleClick}>\n      New order <NoteAddIcon />\n    </Button>\n  )\n}\n","import React from 'react'\nimport { useHistory } from 'react-router-dom'\nimport Button from '@material-ui/core/Button'\n\nexport default function OrderPoolOpenerButton({ className, orderPoolUrl }) {\n  const history = useHistory()\n\n  const handleClickOpen = () => {\n    history.push(orderPoolUrl)\n  }\n\n  return (\n    <>\n      <Button size=\"small\" className={className} variant=\"contained\" onClick={handleClickOpen}>\n        Order Pool\n      </Button>\n    </>\n  )\n}\n","import React from 'react'\n\nexport default function MessageBeforeButton({ text, className, ...rest }) {\n  return (\n    <div className={`message ${className}`} {...rest}>\n      {text}\n    </div>\n  )\n}\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\n\nexport default function CustomButton({ handleClick, isDisabled, grayScale, content, className }) {\n  const style = grayScale && { color: 'grey' }\n  return (\n    <Button\n      disabled={isDisabled}\n      className={className}\n      variant=\"contained\"\n      size=\"small\"\n      onClick={handleClick}\n    >\n      <span style={{ display: 'flex', ...style }}>{content}</span>\n    </Button>\n  )\n}\n","/* eslint-disable consistent-return */\n// eslint-disable-next-line import/no-cycle\nimport interceptor from './interceptor'\n\nconst baseUrl = '/api/token'\n\nasync function refreshTokens() {\n  await interceptor.axiosInstance.post(baseUrl)\n  await interceptor.axiosInstance.post(`${baseUrl}/is-new`)\n}\n\nexport default { refreshTokens }\n","/* eslint-disable consistent-return */\nimport axios from 'axios'\n// eslint-disable-next-line import/no-cycle\nimport tokenService from './tokens'\n\nconst axiosInstance = axios.create()\n\nfunction setupInterceptor(externalActions) {\n  axiosInstance.interceptors.response.use(\n    (response) => response,\n    async (error) => {\n      const originalRequest = error.config\n      if (error.response.data.error === 'access token expired') {\n        // if tokenService receives an error, request won't be resent\n        await tokenService.refreshTokens()\n        return axiosInstance(originalRequest)\n      }\n      if (\n        error.response.data.error === 'access token missing' ||\n        error.response.data.error === 'invalid access token' ||\n        error.response.data.error === 'refresh token expired' ||\n        error.response.data.error === 'invalid refresh token' ||\n        error.response.data.error === 'refresh token missing'\n      ) {\n        externalActions.notificate()\n        externalActions.logout()\n        throw new Error('logout')\n      }\n      if (error.response.status === 429) {\n        setTimeout(() => null, 1500)\n      }\n      return Promise.reject(error)\n    }\n  )\n}\n\nexport default { axiosInstance, setupInterceptor }\n","import interceptor from './interceptor'\n\nconst baseUrl = '/api/email'\n/**\n * @param {Object} params\n * @param {string} params.orderDetails\n * @param {Object} params.order\n */\n\nexport default async function sendConfirmationEmail(params) {\n  const response = await interceptor.axiosInstance.post(`${baseUrl}/send-confirmation`, params)\n  return response.data\n}\n","import React from 'react'\nimport { enqueueSnackbar } from 'notistack'\n\nimport EmailIcon from '@material-ui/icons/Email'\nimport CustomButton from './CustomButton'\nimport sendConfirmationEmail from '../../../services/emailAPI'\n\nconst EMAIL = 'email'\n\nexport default function ConfirmationEmailSenderButton({\n  email,\n  order,\n  transformedOrderText,\n  statusText,\n  isDisabled,\n  changeStatus,\n  className,\n}) {\n  function handleEmailSending() {\n    if (email && transformedOrderText) {\n      changeStatus(EMAIL, 'Working', true)\n      return sendConfirmationEmail({\n        orderDetails: transformedOrderText,\n        order,\n        email,\n      })\n        .then((res) => {\n          changeStatus(EMAIL, 'Done', true)\n          enqueueSnackbar(res.message)\n        })\n        .catch((err) => {\n          if (err.message === 'logout') return\n          changeStatus(EMAIL, 'Error', false)\n          enqueueSnackbar(err.response.data.error, { variant: 'error' })\n        })\n    }\n    return enqueueSnackbar('No confirmation found or recipients defined.', {\n      variant: 'warning',\n    })\n  }\n\n  const buttonContent = statusText || (\n    <>\n      <span>Send</span> <EmailIcon />\n    </>\n  )\n\n  return (\n    <CustomButton\n      className={className}\n      isDisabled={isDisabled}\n      grayScale={statusText !== null}\n      handleClick={handleEmailSending}\n      content={buttonContent}\n    />\n  )\n}\n","import interceptor from './interceptor'\n\nconst baseUrl = '/api/sms'\n/**\n * @param {Object} params\n * @param {string} params.phone\n * @param {string} params.msg\n */\n\nexport default async function sendSMS(params) {\n  const response = await interceptor.axiosInstance.post(baseUrl, params)\n  return response.data\n}\n","import React from 'react'\nimport { enqueueSnackbar } from 'notistack'\nimport TextsmsIcon from '@material-ui/icons/Textsms'\nimport sendSMS from '../../../services/smsAPI'\nimport CustomButton from './CustomButton'\n\nconst SMS = 'sms'\n\nexport default function ConfirmationSMSSenderButton({\n  phone,\n  transformedOrderText,\n  statusText,\n  isDisabled,\n  changeStatus,\n  className,\n}) {\n  async function handleSendingSMS() {\n    try {\n      const msg = transformedOrderText\n      if (msg && phone) {\n        changeStatus(SMS, 'Working', true)\n        const response = await sendSMS({ msg, phone })\n        changeStatus(SMS, 'Done', true)\n        enqueueSnackbar(`${response.message}`)\n      }\n    } catch (err) {\n      if (err.message === 'logout') return\n      changeStatus(SMS, 'Error', false)\n      enqueueSnackbar(err.response?.data.error, { variant: 'error' })\n    }\n  }\n\n  const buttonContent = statusText || (\n    <>\n      <span>Send</span> <TextsmsIcon />\n    </>\n  )\n\n  return (\n    <CustomButton\n      className={className}\n      isDisabled={isDisabled}\n      grayScale={statusText !== null}\n      handleClick={handleSendingSMS}\n      content={buttonContent}\n    />\n  )\n}\n","import interceptor from './interceptor'\n\nconst baseUrl = '/api/calendar'\n\n/**\n * @param {Object} params\n * @param {string} params.entry\n * @param {Object} params.order\n * @param {Array} params.fees\n */\n\nexport default async function addEventToCalendar(params) {\n  const response = await interceptor.axiosInstance.post(baseUrl, params)\n  return response.data\n}\n","/* eslint-disable no-param-reassign */\nimport interceptor from './interceptor'\n\nconst baseUrl = '/api/order-pool'\n/**\n * @param {string} queryName\n * @param {Array} items\n * @return Something like: pages[]=1&pages[]=2&pages[]=3\n */\nfunction makeQueryArray(queryName, items) {\n  return items\n    .map((item, index) => {\n      const isLastItem = index === items.length - 1\n      return `${queryName}[]=${item}${isLastItem ? '' : '&'}`\n    })\n    .join('')\n}\n\nfunction storeOrdersInSessionStorage({ query, orders }) {\n  return new Promise((resolve) =>\n    resolve(\n      sessionStorage.setItem(\n        `order-pool/${query}`,\n        JSON.stringify({\n          validUntil: Date.now() + 5 * 60 * 1000,\n          orders,\n        })\n      )\n    )\n  )\n}\n\nfunction getOrdersFromSessionStorage(query) {\n  return Promise.resolve().then(() => JSON.parse(sessionStorage.getItem(`order-pool/${query}`)))\n}\n\nfunction isStorageUpToDate(query) {\n  return Promise.resolve(\n    (() => {\n      try {\n        const { validUntil } = JSON.parse(sessionStorage.getItem(`order-pool/${query}`))\n        return validUntil > Date.now()\n      } catch {\n        return false\n      }\n    })()\n  )\n}\n\n/**\n * @param {Array} [pages] - Default: [ 1 ]\n * @param {Object} options - Default: { deleted: false, forceUpdate: false }\n * @param {Boolean} [options.deleted]\n * @param {Boolean} [options.forceUpdate]\n */\nasync function get(pages = [1], options = { deleted: false, forceUpdate: false }) {\n  const { deleted, forceUpdate } = options\n\n  const query = `${deleted ? 'deleted=true' : 'deleted=false'}&${makeQueryArray('pages', pages)}`\n\n  if (!forceUpdate && (await isStorageUpToDate(query))) {\n    return getOrdersFromSessionStorage(query).then((data) => data.orders)\n  }\n\n  // example: /api/order-pool/?deleted=false&pages[]=1&pages[]=2\n  const url = `${baseUrl}/?${query}`\n\n  return interceptor.axiosInstance.get(url).then(async (res) => {\n    const { orders } = res?.data\n    await storeOrdersInSessionStorage({ query, orders })\n\n    return orders\n  })\n}\n\nfunction confirm(id) {\n  return interceptor.axiosInstance.put(`${baseUrl}/confirm/${id}`).then((res) => res?.data)\n  // .catch((err) => console.log(err))\n}\n\nasync function remove(id) {\n  const response = await interceptor.axiosInstance.delete(`${baseUrl}/delete/${id}`)\n  return response?.data\n}\n\nasync function retrieve(id) {\n  const response = await interceptor.axiosInstance.put(`${baseUrl}/retrieve/${id}`)\n  return response?.data\n}\n\nfunction getConfirmedOrders(period, options = { onlyCount: true }) {\n  const { periodFrom, periodTo } = period\n\n  return interceptor.axiosInstance\n    .get(`${baseUrl}/confirmed-by-user/?periodFrom=${periodFrom}&periodTo=${periodTo}`)\n    .then((res) => res.data)\n}\n\nfunction add({ order, key }) {\n  return interceptor.axiosInstance.post(`${baseUrl}/add`, { order, key }).then((res) => res?.data)\n}\n\nexport default { get, confirm, remove, retrieve, getConfirmedOrders, add }\n","/* eslint-disable no-param-reassign */\nimport React from 'react'\nimport { enqueueSnackbar } from 'notistack'\nimport EventIcon from '@material-ui/icons/Event'\nimport addEventToCalendar from '../../../services/calendarAPI'\nimport orderPoolAPI from '../../../services/orderPoolAPI'\n\nimport CustomButton from './CustomButton'\n\nconst CALENDAR = 'calendar'\n\nexport default function AddOrderToCalendarButton({\n  order,\n  orderId,\n  statusText,\n  isDisabled,\n  changeStatus,\n  className,\n}) {\n  async function handleAddingToCalendar() {\n    try {\n      changeStatus(CALENDAR, 'Working', true)\n      const response = await addEventToCalendar({\n        order: order.prepareForSending(),\n        calendarEntries: order.makeCalendarEntries(),\n      })\n      if (!orderId) {\n        const { id } = await orderPoolAPI.add({\n          order: JSON.stringify(order.prepareForSending()),\n          key: 'supersecretorderpoolkey',\n        })\n        orderId = id\n      }\n      await orderPoolAPI.confirm(orderId)\n      changeStatus(CALENDAR, 'Done', true)\n      enqueueSnackbar(`${response?.message}\\n${response?.createdEvent}`)\n    } catch (err) {\n      if (err.message === 'logout') return\n      changeStatus(CALENDAR, 'Error', false)\n      enqueueSnackbar(err.response?.data.error || err?.toString(), { variant: 'error' })\n    }\n  }\n\n  const buttonContent = statusText || (\n    <>\n      <span>Add</span> <EventIcon />\n    </>\n  )\n\n  return (\n    <CustomButton\n      className={className}\n      isDisabled={isDisabled}\n      grayScale={statusText !== null}\n      handleClick={handleAddingToCalendar}\n      content={buttonContent}\n    />\n  )\n}\n","import React, { useState } from 'react'\nimport NewOrderButton from '../NewOrderButton'\nimport OrderPoolOpenerButton from '../OrderPool/OrderPoolOpenerButton'\nimport MessageBeforeButton from './MessageBeforeButton'\nimport ConfirmationEmailSenderButton from './ConfirmationEmailSenderButton'\nimport ConfirmationSMSSenderButton from './ConfirmationSMSSenderButton'\nimport AddOrderToCalendarButton from './AddOrderToCalendarButton'\nimport './OrderOperations.css'\n\nexport default function MainOperationsPanel({\n  order,\n  orderId,\n  transformedOrder,\n  handleResetClick,\n  orderPoolUrl,\n}) {\n  const defaultStatuses = {\n    email: {\n      status: null,\n      disable: false,\n    },\n    sms: {\n      status: null,\n      disable: false,\n    },\n    calendar: {\n      status: null,\n      disable: false,\n    },\n  }\n  const [statuses, setStatuses] = useState(defaultStatuses)\n\n  function changeStatus(name, status, disable) {\n    setStatuses({ ...statuses, [name]: { status, disable } })\n  }\n\n  function emailBlock() {\n    const isDisabled = statuses.email.disable || !(order.email && transformedOrder.text)\n    return (\n      <div className=\"block\">\n        <MessageBeforeButton\n          className={`width-75 ${isDisabled && 'grayedFont'}`}\n          text={`Email to: ${order.email}`}\n        />\n        <ConfirmationEmailSenderButton\n          className=\"width-25\"\n          email={order.email}\n          order={order}\n          statusText={statuses.email.status}\n          isDisabled={isDisabled}\n          transformedOrderText={transformedOrder.text}\n          changeStatus={changeStatus}\n        />\n      </div>\n    )\n  }\n\n  function smsBlock() {\n    const isDisabled = statuses.sms.disable || !(order.phone && transformedOrder.text)\n    return (\n      <div className=\"block\">\n        <MessageBeforeButton\n          className={`width-75 ${isDisabled && 'grayedFont'}`}\n          text={`Sms to: ${order.phone}`}\n        />\n        <ConfirmationSMSSenderButton\n          className=\"width-25\"\n          statusText={statuses.sms.status}\n          isDisabled={isDisabled}\n          phone={order.phone}\n          transformedOrderText={transformedOrder.text}\n          changeStatus={changeStatus}\n        />\n      </div>\n    )\n  }\n\n  function threeButtonsBlock() {\n    const isDisabled = statuses.calendar.disable || !transformedOrder.text\n    return (\n      <div className=\"block\">\n        <NewOrderButton\n          className=\"share-space\"\n          handleClick={() => {\n            setStatuses(defaultStatuses)\n            handleResetClick()\n          }}\n        />\n        <OrderPoolOpenerButton className=\"share-space\" orderPoolUrl={orderPoolUrl} />\n        <AddOrderToCalendarButton\n          className=\"width-25\"\n          statusText={statuses.calendar.status}\n          isDisabled={isDisabled}\n          order={order}\n          orderId={orderId}\n          transformedOrderText={transformedOrder.text}\n          changeStatus={changeStatus}\n        />\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"order-operations\">\n      {emailBlock()}\n      {smsBlock()}\n      {threeButtonsBlock()}\n    </div>\n  )\n}\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport useMediaQuery from '@material-ui/core/useMediaQuery'\nimport { useTheme } from '@material-ui/core/styles'\n\nexport default function ResponsiveDialog({ children, handleClose }) {\n  const theme = useTheme()\n  const fullScreen = useMediaQuery(theme.breakpoints.down('sm'))\n\n  return (\n    <>\n      <Dialog\n        fullScreen={fullScreen}\n        open\n        onClose={handleClose}\n        aria-labelledby=\"responsive-dialog-title\"\n      >\n        <DialogContent>{children}</DialogContent>\n        <DialogActions>\n          <Button style={{ backgroundColor: 'white' }} variant=\"text\" onClick={handleClose}>\n            Close\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  )\n}\n","import React from 'react'\n\nexport default function LoadingUntillDone({ loading, redirectComponent = null, children }) {\n  return (\n    <>\n      {loading && <p>Loading...</p>}\n      {redirectComponent}\n      {!loading && !redirectComponent && children}\n    </>\n  )\n}\n","/* eslint-disable react/no-array-index-key */\nimport React, { useEffect, useState } from 'react'\nimport Button from '@material-ui/core/Button'\nimport isJSON from 'validator/es/lib/isJSON'\n\nexport default function OrdersList({\n  orders,\n  handleExport,\n  handleDeletion,\n  handleLoadingMoreOrders,\n  labelForDeletion,\n}) {\n  const [ordersWithStyles, setOrdersWithStyles] = useState([])\n\n  useEffect(() => {\n    setOrdersWithStyles(\n      orders.map((order) => ({\n        order: {\n          ...order,\n        },\n        isNew: new Date(order.date).toDateString() === new Date(Date.now()).toDateString(),\n        className: order.confirmed\n          ? 'basic-order-style confirmed-order-style'\n          : 'basic-order-style',\n        hidden: order.confirmed,\n      }))\n    )\n  }, [orders])\n\n  function handleHideOrShow(orderWithStyles) {\n    setOrdersWithStyles([\n      ...ordersWithStyles.map((o) => {\n        if (o.order.id === orderWithStyles.order.id) {\n          return {\n            ...orderWithStyles,\n            hidden: !o.hidden,\n            className: o.hidden ? 'basic-order-style' : 'basic-order-style confirmed-order-style',\n          }\n        }\n        return o\n      }),\n    ])\n  }\n\n  function empty() {\n    return <p>Nothing found</p>\n  }\n\n  function JSONOrder(jsonOrder, id) {\n    return Object.entries(JSON.parse(jsonOrder)).map(([fieldName, fieldValue], index) => (\n      <div\n        key={`${fieldName}${fieldValue}${id}`}\n        style={{\n          minHeight: '1.2rem',\n          backgroundColor: index % 2 !== 0 && 'var(--brand-color-very-light)',\n        }}\n      >\n        <span style={{ fontWeight: 'bold' }}>{fieldName}</span>:{' '}\n        {fieldName === 'dateTime'\n          ? `${new Date(fieldValue).toLocaleDateString()} ${new Date(fieldValue)\n              .toLocaleTimeString()\n              .slice(0, 5)}`\n          : fieldValue}\n      </div>\n    ))\n  }\n\n  function textOrder(txtOrder, id) {\n    return txtOrder.split('\\n').map((line, index) => <div key={`${id}${index}${line}`}>{line}</div>)\n  }\n\n  function list() {\n    return (\n      <>\n        {ordersWithStyles.map((orderWithStyles) => (\n          <div className=\"order-pool-list\" key={orderWithStyles.order.id}>\n            <div className=\"order-top-bar\">\n              <div className=\"order-status-icons-container\">\n                {orderWithStyles.isNew && (\n                  <span className=\"order-status-new-order order-status-icon\">NEW</span>\n                )}\n                <span\n                  className={`order-status-icon ${\n                    orderWithStyles.order.confirmed\n                      ? 'order-status-icon order-status-confirmed'\n                      : 'order-status-icon order-status-notification'\n                  }`}\n                >\n                  {orderWithStyles.order.confirmed ? '✔' : '❕'}{' '}\n                </span>\n              </div>\n              <div className=\"order-actions\">\n                <Button\n                  style={{ padding: 0, fontSize: '0.9rem' }}\n                  variant=\"text\"\n                  size=\"small\"\n                  onClick={() => handleDeletion(orderWithStyles.order.id)}\n                >\n                  {labelForDeletion}\n                </Button>\n                <Button\n                  style={{\n                    padding: 0,\n                    fontSize: '0.8rem',\n                    color: orderWithStyles.order.confirmed && 'var(--brand-color-dark)',\n                  }}\n                  onClick={() => {\n                    handleExport(orderWithStyles.order)\n                  }}\n                  variant=\"text\"\n                  size=\"small\"\n                >\n                  Export\n                </Button>\n                <Button\n                  style={{ padding: 0 }}\n                  variant=\"text\"\n                  size=\"small\"\n                  onClick={() => handleHideOrShow(orderWithStyles)}\n                >\n                  {orderWithStyles.hidden ? 'Show ➕' : 'Hide ➖'}\n                </Button>\n              </div>\n            </div>\n            <div className={orderWithStyles.className}>\n              {isJSON(orderWithStyles.order.text)\n                ? JSONOrder(orderWithStyles.order.text, orderWithStyles.order.id)\n                : textOrder(orderWithStyles.order.text, orderWithStyles.order.id)}\n            </div>\n          </div>\n        ))}\n        <Button onClick={handleLoadingMoreOrders} size=\"small\">\n          Load more\n        </Button>\n      </>\n    )\n  }\n\n  return orders.length === 0 ? empty() : list()\n}\n","import React, { useEffect, useState } from 'react'\nimport TextField from '@material-ui/core/TextField'\nimport Button from '@material-ui/core/Button'\nimport IconButton from '@material-ui/core/IconButton'\nimport RefreshIcon from '@material-ui/icons/Refresh'\nimport DeleteIcon from '@material-ui/icons/Delete'\nimport RestoreIcon from '@material-ui/icons/Restore'\nimport orderPoolAPI from '../../../services/orderPoolAPI'\nimport LoadingUntillDone from '../../LoadingUntillDone'\nimport OrdersList from './OrdersList'\nimport './OrderPool.css'\n\nconst INBOX = 'inbox'\nconst TRASHCAN = 'trashcan'\n\nexport default function OrderPool({ handleExport }) {\n  const [orders, setOrders] = useState([])\n  const [isLoading, setIsloading] = useState(true)\n\n  const [currentTab, setCurrentTab] = useState(INBOX)\n  const [searchOptions, setSearchOptions] = useState({\n    inbox: {\n      pages: [1],\n      searchText: '',\n      showOnlyNotConfirmed: false,\n    },\n    trashcan: {\n      pages: [1],\n      searchText: '',\n      showOnlyNotConfirmed: false,\n    },\n  })\n  const [searchResults, setSearchResults] = useState(orders)\n  const [forceUpdate, setForceUpdate] = useState({ hasToUpdate: false, trigger: 0 })\n  const [pages, setPages] = useState({ inbox: [1], trashcan: [1] })\n\n  const numberOfOrders = orders.length\n  const numberOfUnconfirmedOrders = orders.filter((order) => !order.confirmed).length\n\n  function filterWithSearchText(values, search) {\n    return values.filter((value) => value.text.toLowerCase().includes(search?.toLowerCase().trim()))\n  }\n\n  function filterConfirmed(values, condition) {\n    return condition ? values.filter((value) => value?.confirmed === false) : values\n  }\n\n  function makeSearch(val, bool, searchTarget) {\n    const filteredWithConfirmedAndSearch = filterConfirmed(\n      filterWithSearchText(searchTarget, val),\n      bool\n    )\n    return filteredWithConfirmedAndSearch\n  }\n\n  useEffect(async () => {\n    setIsloading(true)\n    let ordersFromPool\n    try {\n      ordersFromPool =\n        currentTab === INBOX\n          ? await orderPoolAPI.get(pages[currentTab], {\n              forceUpdate: forceUpdate.hasToUpdate,\n            })\n          : await orderPoolAPI.get(pages[currentTab], {\n              deleted: true,\n              forceUpdate: forceUpdate.hasToUpdate,\n            })\n\n      setOrders(ordersFromPool)\n\n      const filteredOrders = makeSearch(\n        searchOptions[currentTab].searchText,\n        searchOptions[currentTab].showOnlyNotConfirmed,\n        ordersFromPool\n      )\n      setSearchResults(filteredOrders)\n      return setIsloading(false)\n    } catch (err) {\n      return err\n    }\n  }, [currentTab, forceUpdate.trigger])\n\n  async function handleLoadingMoreOrders() {\n    const newPage = [pages[currentTab].length + 1]\n    setPages({\n      ...pages,\n      [currentTab]: [...pages[currentTab], ...newPage],\n    })\n    const moreOrdersFromPool =\n      currentTab === INBOX\n        ? await orderPoolAPI.get(newPage)\n        : await orderPoolAPI.get(newPage, { deleted: true })\n\n    const concatenatedOrders = orders.concat(moreOrdersFromPool)\n\n    setOrders(concatenatedOrders)\n\n    const filteredOrders = makeSearch(\n      searchOptions[currentTab].searchText,\n      searchOptions[currentTab].showOnlyNotConfirmed,\n      concatenatedOrders\n    )\n    setSearchResults(filteredOrders)\n  }\n\n  function handleSearchChange(e) {\n    const prevOptsForCurTab = searchOptions[currentTab]\n    setSearchOptions({\n      ...searchOptions,\n      [currentTab]: { ...prevOptsForCurTab, searchText: e.target.value },\n    })\n\n    const filteredOrders = makeSearch(\n      e.target.value,\n      prevOptsForCurTab.showOnlyNotConfirmed,\n      orders\n    )\n\n    setSearchResults(filteredOrders)\n  }\n\n  function handleOnlyNotConfirmedSearch(bool) {\n    const prevOptsForCurTab = searchOptions[currentTab]\n    setSearchOptions({\n      ...searchOptions,\n      [currentTab]: { ...prevOptsForCurTab, showOnlyNotConfirmed: bool },\n    })\n\n    const filteredOrders = makeSearch(prevOptsForCurTab.searchText, bool, orders)\n\n    setSearchResults(filteredOrders)\n  }\n\n  function handleTabBarChange(e) {\n    setCurrentTab(e.target.dataset.tabname)\n  }\n\n  function handleRefresh() {\n    setForceUpdate({\n      ...forceUpdate,\n      trigger: forceUpdate.trigger + 1,\n      hasToUpdate: true,\n    })\n    setTimeout(() =>\n      setForceUpdate({\n        ...forceUpdate,\n        hasToUpdate: false,\n      })\n    )\n  }\n\n  async function handleOrderDeletion(id) {\n    await orderPoolAPI.remove(id)\n    setOrders(orders.filter((order) => order.id !== id))\n    setSearchResults(searchResults.filter((order) => order.id !== id))\n  }\n\n  async function handleRetrieval(id) {\n    await orderPoolAPI.retrieve(id)\n    setOrders(orders.filter((order) => order.id !== id))\n    setSearchResults(searchResults.filter((order) => order.id !== id))\n  }\n\n  const inboxClassName = () =>\n    currentTab === INBOX ? 'tab-panel-item tab-panel-item-selected' : 'tab-panel-item'\n\n  const trashcanClassName = () =>\n    currentTab === TRASHCAN ? 'tab-panel-item tab-panel-item-selected' : 'tab-panel-item'\n\n  return (\n    <>\n      <div className=\"tab-panel\">\n        <Button onClick={handleTabBarChange} className=\"p-0\" variant=\"text\" size=\"small\">\n          <h3 data-tabname={INBOX} className={inboxClassName()}>\n            Inbox\n          </h3>\n        </Button>\n        <Button onClick={handleTabBarChange} className=\"p-0\" variant=\"text\" size=\"small\">\n          <h3 data-tabname={TRASHCAN} className={trashcanClassName()}>\n            Trashcan\n          </h3>\n        </Button>\n        <IconButton\n          style={{ marginLeft: 'auto', marginRight: '12px' }}\n          onClick={handleRefresh}\n          className=\"p-0\"\n          variant=\"text\"\n          size=\"small\"\n        >\n          <RefreshIcon />\n        </IconButton>\n      </div>\n      <div className=\"filters-tab\">\n        <span className=\"filters-tab-orders-count\">\n          {searchResults.length}/{orders.length}\n        </span>\n        <TextField\n          className=\"flex-item\"\n          type=\"text\"\n          name=\"searchText\"\n          placeholder=\"Search\"\n          value={searchOptions[currentTab].searchText}\n          onChange={handleSearchChange}\n        />\n        {numberOfUnconfirmedOrders > 0 && (\n          <Button\n            className=\"p-0 filters-tab-orders-status-icon\"\n            size=\"small\"\n            onClick={() =>\n              handleOnlyNotConfirmedSearch(!searchOptions[currentTab].showOnlyNotConfirmed)\n            }\n          >\n            <span style={{ fontSize: '1rem' }}>\n              {searchOptions[currentTab].showOnlyNotConfirmed\n                ? numberOfOrders\n                : numberOfUnconfirmedOrders}\n            </span>\n            <span\n              className={`order-status-icon order-status-notification ${\n                searchOptions[currentTab].showOnlyNotConfirmed && 'order-status-icon-selected'\n              }`}\n            >\n              {searchOptions[currentTab].showOnlyNotConfirmed ? '✔&❕' : '❕'}\n            </span>\n          </Button>\n        )}\n      </div>\n      <LoadingUntillDone loading={isLoading}>\n        <OrdersList\n          orders={searchResults}\n          handleExport={handleExport}\n          labelForDeletion={currentTab === TRASHCAN ? <RestoreIcon /> : <DeleteIcon />}\n          handleDeletion={currentTab === TRASHCAN ? handleRetrieval : handleOrderDeletion}\n          handleLoadingMoreOrders={handleLoadingMoreOrders}\n        />\n      </LoadingUntillDone>\n    </>\n  )\n}\n","import React from 'react'\nimport { useHistory } from 'react-router-dom'\nimport ResponsiveDialog from '../../ResponsiveDialog'\nimport OrderPool from './OrderPool'\n\nexport default function OrderPoolDialog({ handleExport }) {\n  const history = useHistory()\n\n  const handleClose = () => {\n    history.goBack()\n  }\n\n  return (\n    <>\n      <ResponsiveDialog handleClose={handleClose}>\n        <OrderPool\n          handleExport={(o) => {\n            handleExport(o)\n            handleClose()\n          }}\n        />\n      </ResponsiveDialog>\n    </>\n  )\n}\n","/* eslint-disable no-param-reassign */\n/* eslint-disable no-control-regex */\n/* eslint-disable no-useless-escape */\nimport services from '../data/services.json'\nimport paymentTypes from '../data/paymentTypes.json'\n\nfunction cannotFind(name) {\n  return `Cannot find ${name}`\n}\n\nfunction removeOrdinalSuffix(dateStr) {\n  return dateStr.replace(/(?<=\\d+)(th|rd|st|nd)/, '')\n}\n\nexport default class TextOrder {\n  constructor(textOrder) {\n    this.textOrder = TextOrder.initialCleanup(textOrder)\n  }\n\n  get dateTime() {\n    const dateRe = /(?<=Date and time: \\w+, )\\w+ \\d+(th|rd|st|nd)? \\w+/.exec(this.textOrder)\n\n    if (!dateRe) throw new Error(cannotFind('date'))\n\n    const date = new Date(`${removeOrdinalSuffix(dateRe[0])}Z`)\n    const time = /\\d+:\\d+/.exec(this.textOrder)[0]\n\n    const dateTime = new Date(`\n    ${date.getFullYear()}\n    ${date.getMonth() + 1}\n    ${date.getDate()}\n    ${time}`)\n\n    return dateTime\n  }\n\n  get duration() {\n    const duration = /\\d+(\\.\\d+)?(?=\\sh.)/.exec(this.textOrder)\n\n    if (!duration) throw new Error(cannotFind('duration'))\n\n    return duration[0]\n  }\n\n  get paymentType() {\n    const beginMarker = 'Payment Type: '\n    const endMarker = 'PRICE'\n\n    const beginIndex = this.textOrder.indexOf(beginMarker) + beginMarker.length\n    const endIndex = this.textOrder.indexOf(endMarker)\n\n    const paymentTypeField = this.textOrder.slice(beginIndex, endIndex).trim()\n\n    const nonWordChars = paymentTypeField\n      .match(/\\W+/g)\n      .filter((c) => c !== '/' && c !== ' ' && c !== 'ä')\n\n    const endIndex2 = paymentTypeField.indexOf(nonWordChars[0].trim())\n\n    const paymentType = paymentTypeField.slice(0, endIndex2).trim()\n\n    if (!paymentType) throw new Error(cannotFind('payment type'))\n\n    // does payment type names include our payment type\n    if (!paymentTypes.map((p) => p.name).includes(paymentType)) {\n      throw new Error('Unrecognized payment type')\n    }\n    return paymentType\n  }\n\n  get boxesAmount() {\n    const beginIndex = this.textOrder.indexOf('— Amount: ')\n    const endIndex = this.textOrder.indexOf('— Price')\n    const amountLine = this.textOrder.slice(beginIndex, endIndex)\n    const re = /\\d+/\n    const amount = amountLine && amountLine.match(re)[0]\n    return amount\n  }\n\n  get boxesDeliveryDate() {\n    const startLineIndex = this.textOrder.indexOf('— Booking time starts: ')\n\n    if (startLineIndex === -1) {\n      return null\n    }\n\n    const beginIndex = startLineIndex + '— Booking time starts: '.length\n    const endIndex = this.textOrder.indexOf('— Booking time ends')\n    const deliveryLine = this.textOrder.slice(beginIndex, endIndex).replace()\n\n    const date = new Date(removeOrdinalSuffix(deliveryLine)).toISOString()\n\n    return date\n  }\n\n  get boxesPickupDate() {\n    const startLineIndex = this.textOrder.indexOf('— Booking time ends: ')\n\n    if (startLineIndex === -1) {\n      return null\n    }\n\n    const beginIndex = startLineIndex + '— Booking time ends: '.length\n    const endIndex = this.textOrder.indexOf('— Self pickup')\n    const deliveryLine = this.textOrder.slice(beginIndex, endIndex).replace()\n\n    const date = new Date(removeOrdinalSuffix(deliveryLine)).toISOString()\n\n    return date\n  }\n\n  get selfPickup() {\n    const startMarker = 'Self pickup: '\n    const endMarker = '— Self return'\n\n    const fromIndex = this.textOrder.indexOf(startMarker) + startMarker.length\n    const endIndex = this.textOrder.indexOf(endMarker)\n\n    const value = this.textOrder.slice(fromIndex, endIndex).trim()\n\n    return value === 'Yes'\n  }\n\n  get selfReturn() {\n    const startMarker = 'Self return: '\n    const endMarker = 'Payment Type'\n\n    const fromIndex = this.textOrder.indexOf(startMarker) + startMarker.length\n    const endIndex = this.textOrder.indexOf(endMarker)\n\n    const value = this.textOrder.slice(fromIndex, endIndex).trim()\n\n    return value === 'Yes'\n  }\n\n  get movingBoxesPrice() {\n    const beginIndex = this.textOrder.indexOf('— Price: ')\n    const endIndex = this.textOrder.indexOf('— Booking time start')\n    const priceLine = this.textOrder.slice(beginIndex, endIndex)\n    const re = /\\d+/\n    const price = priceLine && priceLine.match(re)[0]\n    return price\n  }\n\n  get serviceName() {\n    const startMarker = 'Service: '\n    const endMarker = 'Accessories'\n    const fromIndex = this.textOrder.indexOf(startMarker) + startMarker.length\n    const endIndex = this.textOrder.indexOf(endMarker)\n    const serviceName = this.textOrder.slice(fromIndex, endIndex).trim()\n\n    if (!serviceName) {\n      throw new Error(cannotFind('service name'))\n    }\n\n    // Check if service with that name exists\n    const service = services.find((s) => s.name === serviceName)\n\n    if (!service) throw new Error('Unrecognized service name')\n\n    return serviceName\n  }\n\n  get addresses() {\n    const beginMarkers = ['Start location:', 'End location:']\n    const endMarkers = ['End location', 'Name']\n    const addresses = []\n\n    beginMarkers.forEach((marker, index) => {\n      const beginIndex = this.textOrder.indexOf(marker) + marker.length\n      const endIndex = this.textOrder.indexOf(endMarkers[index])\n\n      const rawAddress = this.textOrder.slice(beginIndex, endIndex).replaceAll(',', '').trim()\n\n      const cityField = rawAddress.slice(0, rawAddress.indexOf(' / '))\n\n      // Finnish postal codes are all 5 digits long\n      let postalCode = rawAddress.match(/\\d{5}/)\n      postalCode = (postalCode && postalCode[0]) || ''\n\n      const addressField = rawAddress.slice(rawAddress.indexOf(' / ') + ' / '.length)\n\n      let city = cityField.match(/\\D+/)\n      city = city && city[0]\n      let address = addressField.replace(postalCode, '')\n      address = address || null\n\n      const numbersInAddress = /\\d+/.test(addressField)\n\n      // User provided address instead of city and city instead of address\n      if (!numbersInAddress || (addressField.includes(postalCode) && addressField.length < 15)) {\n        address = cityField.replace(postalCode, '')\n        city = addressField.match(/\\D+/)\n        city = city && city[0]\n      }\n\n      if (address.includes(city)) {\n        address = address.replace(city, '')\n      }\n\n      if (index === 0 && !address) throw new Error(cannotFind('address'))\n\n      addresses.push(`${address}, ${postalCode} ${city}`.replace(/\\s+/g, ' ').trim())\n    })\n\n    return addresses\n  }\n\n  get address() {\n    return this.addresses[0]\n  }\n\n  get destination() {\n    // destructuring doesn't throw an error if destination is undefined\n    const [, destination] = this.addresses\n    return destination\n  }\n\n  get name() {\n    const beginMarker = 'Name: '\n    const endMarker = 'Email'\n\n    const beginIndex = this.textOrder.indexOf(beginMarker) + beginMarker.length\n    const endIndex = this.textOrder.indexOf(endMarker)\n\n    const name = this.textOrder.slice(beginIndex, endIndex).trim()\n\n    if (!name) throw new Error(cannotFind('name'))\n\n    return name\n  }\n\n  get email() {\n    // regex from internet\n    const email = /(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])/.exec(\n      this.textOrder\n    )\n\n    if (!email) throw new Error(cannotFind('email'))\n\n    return email[0]\n  }\n\n  get phone() {\n    // regex from internet\n    const phone = /(?<=Phone: )[+]*[(]{0,1}[0-9]{1,4}[)]{0,1}[-\\s\\./0-9]*/.exec(this.textOrder)\n\n    if (!phone) throw new Error(cannotFind('phone'))\n\n    return phone[0].trim()\n  }\n\n  get comment() {\n    let comment = /(?<=Comment: )(.*\\s*)*/.exec(this.textOrder)\n    comment = comment ? comment[0] : ''\n\n    const re = /\\n\\n\\-\\-\\nTämä viesti lähetettiin sivustolta Paku24\\.fi \\(https:\\/\\/paku24\\.fi\\)/\n    const footer = re.exec(comment)\n\n    if (footer) {\n      comment = comment.replace(re, '')\n    }\n\n    return comment\n  }\n\n  // get vanSize() {\n\n  // }\n\n  static initialCleanup(str) {\n    const splitStr = str.split('\\n')\n    const noRebundantWhitespace = []\n    splitStr.forEach((line) => noRebundantWhitespace.push(line.trim()))\n    const string = noRebundantWhitespace\n      .join('\\n')\n      .replaceAll('————————', '')\n      .replaceAll('------------------------', '')\n\n    return string\n  }\n}\n","/* eslint-disable no-console */\nimport { enqueueSnackbar } from 'notistack'\nimport isJSON from 'validator/es/lib/isJSON'\nimport dayjs from 'dayjs'\nimport fees from '../data/fees.json'\nimport services from '../data/services.json'\nimport TextOrder from './TextOrder'\nimport paymentTypes from '../data/paymentTypes.json'\nimport distances from '../data/distances.json'\nimport boxesSettings from '../data/boxes.json'\nimport icons from '../data/icons.json'\n\nconst defaultOrder = {\n  dateTime: new Date(),\n  duration: 1,\n  service: services[0],\n  serviceName: services[0].name,\n  paymentType: paymentTypes[0].name,\n  address: '',\n  destination: '',\n  name: '',\n  email: '',\n  phone: '',\n  boxesDeliveryDate: new Date().toISOString(),\n  boxesPickupDate: new Date().toISOString(),\n  boxesAmount: 0,\n  selfPickup: false,\n  selfReturn: false,\n  comment: '',\n  distance: distances.insideCapital,\n  hsy: false,\n  XL: false,\n  eventColor: null,\n}\nconst orderClassPropertyNames = Object.keys(defaultOrder)\n\nexport default class Order {\n  constructor(order) {\n    for (const propertyName of orderClassPropertyNames) {\n      this[propertyName] = order[propertyName] ?? defaultOrder[propertyName]\n    }\n    this.dateTime = new Date(order.dateTime)\n  }\n\n  get time() {\n    return this.dateTime.toTimeString().slice(0, 5)\n  }\n\n  get servicePrice() {\n    const service = services.find((s) => s.name === this.serviceName)\n    return this.XL ? service.priceXL : service.price\n  }\n\n  get boxesPrice() {\n    const duration = dayjs(this.boxesPickupDate).diff(\n      dayjs(this.boxesDeliveryDate),\n      boxesSettings.timeUnit\n    )\n\n    let price = this.boxesAmount * boxesSettings.price * duration\n\n    if (!this.selfPickup) {\n      price += boxesSettings.deliveryFee\n    }\n    if (!this.selfReturn) {\n      price += boxesSettings.pickupFee\n    }\n\n    return price\n  }\n\n  get ISODateString() {\n    return `${this.dateTime.toISOString().split('T')[0]}T${this.time}`\n  }\n\n  get confirmationDateString() {\n    let dd = this.dateTime.getDate()\n    let mm = this.dateTime.getMonth() + 1\n    const yyyy = this.dateTime.getFullYear()\n\n    if (dd < 10) {\n      dd = `0${dd}`\n    }\n    if (mm < 10) {\n      mm = `0${mm}`\n    }\n\n    return `${dd}-${mm}-${yyyy}`\n  }\n\n  get fees() {\n    const timeInNumberType = this.time.split(':')[0] * 1\n\n    const dayOFWeek = this.dateTime.getDay()\n    const dayOfMonth = this.dateTime.getDate()\n    const endOfMonth = [\n      new Date(this.dateTime.getFullYear(), this.dateTime.getMonth() + 1, 0).getDate(),\n      1,\n    ]\n\n    const weekEndFeeApplicable = dayOFWeek === 6 || dayOFWeek === 0\n    const endOfMonthFeeApplicable = !weekEndFeeApplicable && endOfMonth.includes(dayOfMonth)\n    const morningFeeApplicable = timeInNumberType < 8\n    const nightFeeApplicable = timeInNumberType >= 20\n    const paymentFeeApplicable =\n      this.paymentType === 'Lasku' ||\n      this.paymentType === 'Lasku/Osamaksu' ||\n      this.paymentType === 'Invoice/Instalment payment'\n\n    return [\n      weekEndFeeApplicable && fees.weekend,\n      endOfMonthFeeApplicable && fees.firstOrLastDayOfTheMonth,\n      morningFeeApplicable && fees.morning,\n      nightFeeApplicable && fees.night,\n      paymentFeeApplicable && fees.bill,\n    ].filter((f) => f !== false)\n  }\n\n  get color() {\n    if (this.eventColor) {\n      return this.eventColor\n    }\n\n    if (this.serviceName) {\n      return services.find((s) => s.name === this.serviceName).eventColor\n    }\n\n    return null\n  }\n\n  get serviceName() {\n    return this.service.name\n  }\n\n  set serviceName(serviceName) {\n    this.service = services.find((s) => s.name === serviceName)\n    this.eventColor = services.find((s) => s.name === serviceName)?.eventColor\n    this.hsy = Boolean(this.service.hsy)\n  }\n\n  printFees() {\n    const template = '\\n@feeName\\n@feeAmount'\n    // template needs to be as long as the fees array\n    let printed = template.repeat(this.fees.length)\n    this.fees.forEach((fee) => {\n      printed = printed.replace('@feeName', fee.name.toUpperCase())\n      printed = printed.replace('@feeAmount', `${fee.amount}€`)\n    })\n\n    return printed\n  }\n\n  /**\n   * Deletes properties hsy, altColorPalette and distance.\n   * Transforms to JSON\n   */\n  prepareForSending() {\n    const prepared = {}\n\n    for (const key of Object.keys(defaultOrder)) {\n      if (key !== 'service') {\n        prepared[key] = this[key]\n      }\n    }\n\n    return prepared\n  }\n\n  static getEventForCalendar(formattedStr, startMarker) {\n    return formattedStr.slice(formattedStr.indexOf(startMarker))\n  }\n\n  static setupOrderFromText(text) {\n    return new Promise((resolve) => {\n      if (isJSON(text)) {\n        return resolve(new Order(JSON.parse(text)))\n      }\n\n      const orderArguments = {}\n      const textOrder = new TextOrder(text)\n      for (const propertyName of orderClassPropertyNames) {\n        try {\n          orderArguments[propertyName] = textOrder[propertyName]\n        } catch (err) {\n          enqueueSnackbar(err.message, { variant: 'error' })\n\n          orderArguments[propertyName] = null\n        }\n      }\n\n      return resolve(new Order(orderArguments))\n    })\n  }\n\n  static default() {\n    return new Order(defaultOrder)\n  }\n\n  makeIcons() {\n    const sizeIcon = this.XL ? icons.size.XL : ''\n    const distanceIcon = icons.misc[this.distance] || ''\n    const feeIcons = this.fees\n      .map((fee) => {\n        if (fee.name === 'Laskulisä') return ''\n\n        return icons.fees[fee.name]\n      })\n      .reduce((acc, cur) => acc + cur, '')\n    const serviceIcons = icons.service[this.serviceName]\n    const paymentIcons = icons.payment[this.paymentType]\n\n    return {\n      move: `${sizeIcon}${distanceIcon}${feeIcons}${serviceIcons}${paymentIcons}`,\n      boxesDelivery: icons.boxes.delivery,\n      boxesPickup: icons.boxes.pickup,\n    }\n  }\n\n  makeCalendarEntries() {\n    const moveTitle = `${this.makeIcons().move}${this.time}(${this.duration}h)`\n\n    const boxesDeliveryTitle = `${this.boxesAmount} ${this.makeIcons().boxesDelivery} ${\n      this.boxesDeliveryDate.includes('T')\n        ? `${dayjs(this.boxesDeliveryDate).format('HH:mm')} `\n        : ''\n    }`\n\n    const boxesPickupTitle = `NOUTO ${this.boxesAmount} ${this.makeIcons().boxesPickup} ${\n      this.boxesPickupDate.includes('T') ? `${dayjs(this.boxesPickupDate).format('HH:mm')} ` : ''\n    }`\n\n    return {\n      move: {\n        title: `${moveTitle} ${this.name}`,\n        description: `${moveTitle}${this.format(\n          {\n            title: 0,\n            date: 0,\n            time: 0,\n            duration: 0,\n            paymentType: 0,\n          },\n          { removeFirstHeading: true }\n        )}`,\n      },\n      boxesDelivery: {\n        title: `${boxesDeliveryTitle}${this.name}`,\n        description: `${boxesDeliveryTitle}${this.format(\n          {\n            address: 1,\n            name: 1,\n            email: 1,\n            phone: 1,\n            boxes: 1,\n          },\n          { removeFirstHeading: true }\n        )}`,\n      },\n      boxesPickup: {\n        title: `${boxesPickupTitle}${this.name}`,\n        description: `${boxesPickupTitle}${this.format(\n          {\n            destination: 1,\n            name: 1,\n            email: 1,\n            phone: 1,\n            boxes: 1,\n          },\n          { removeFirstHeading: true }\n        )}`,\n      },\n    }\n  }\n\n  format(opts = {}, { removeFirstHeading = false } = {}) {\n    const defaultOpts = {\n      title: 1,\n      date: 1,\n      time: 1,\n      duration: 1,\n      paymentType: 1,\n      address: 1,\n      destination: 1,\n      name: 1,\n      email: 1,\n      phone: 1,\n      boxes: 1,\n      comment: 1,\n    }\n\n    let options = defaultOpts\n\n    // Include only selected fields\n    if (Object.keys(opts).length > 0 && Object.values(opts).includes(1)) {\n      options = opts\n    }\n    // Do not include selected fields but include the rest\n    else if (Object.values(opts).includes(0)) {\n      options = {\n        ...defaultOpts,\n        ...opts,\n      }\n    }\n\n    let transformed = ''\n\n    try {\n      if (options.title) {\n        transformed += 'VARAUKSEN TIEDOT\\n'\n      }\n      if (options.date) {\n        transformed += `${this.confirmationDateString}\\n`\n      }\n      if (options.time) {\n        transformed += 'ALKAMISAIKA\\n'\n        transformed += `Klo ${this.time} (+/-15min)\\n`\n      }\n      if (options.duration) {\n        transformed += 'ARVIOITU KESTO\\n'\n        transformed += `${this.duration}h (${this.servicePrice}€/h, ${this.serviceName})\\n`\n      }\n      if (options.paymentType) {\n        transformed += 'MAKSUTAPA\\n'\n        transformed += `${this.paymentType}${this.printFees()}\\n`\n      }\n      if (options.address) {\n        transformed += 'LÄHTÖPAIKKA\\n'\n        transformed += `${this.address}\\n`\n      }\n      if (options.destination && this.destination.length > 5) {\n        transformed += 'MÄÄRÄNPÄÄ\\n'\n        transformed += `${this.destination}\\n`\n      }\n      if (options.name) {\n        transformed += 'NIMI\\n'\n        transformed += `${this.name}\\n`\n      }\n      if (options.email && this.email) {\n        transformed += 'SÄHKÖPOSTI\\n'\n        transformed += `${this.email}\\n`\n      }\n      if (options.phone) {\n        transformed += 'PUHELIN\\n'\n        transformed += `${this.phone}\\n`\n      }\n\n      if (options.boxes && this.boxesAmount > 0) {\n        const boxDelDateStr = dayjs(this.boxesDeliveryDate).format(\n          `DD-MM-YYYY ${this.boxesDeliveryDate.includes('T') ? 'HH:mm' : ''}`\n        )\n        const boxPickDateStr = dayjs(this.boxesPickupDate).format(\n          `DD-MM-YYYY ${this.boxesPickupDate.includes('T') ? 'HH:mm' : ''}`\n        )\n\n        transformed += 'MUUTTOLAATIKOT\\n'\n        transformed += `${boxDelDateStr} - ${boxPickDateStr}\\n`\n        if (this.selfPickup) transformed += 'Itse nouto\\n'\n        if (this.selfReturn) transformed += 'Itse palautus\\n'\n        transformed += `Määrä: ${this.boxesAmount} kpl\\n`\n        transformed += `Hinta: ${this.boxesPrice}€\\n`\n      }\n\n      if (options.comment && this.comment) {\n        transformed += 'LISÄTIETOJA\\n'\n        transformed += `${this.comment}\\n`\n      }\n\n      if (removeFirstHeading) {\n        const ar = transformed.split('\\n')\n        ar.shift()\n\n        transformed = ar.join('\\n')\n      }\n    } catch (err) {\n      console.error(err)\n    }\n\n    return transformed\n  }\n}\n","import React, { useState, useRef, useEffect } from 'react'\nimport { enqueueSnackbar } from 'notistack'\nimport { Route } from 'react-router-dom'\n\nimport './Confirmator.css'\nimport Editor from './Editor'\n\nimport OrderSettings from './OrderSettings'\nimport ValidationDisplay from './ValidationDisplay'\nimport RawOrderContainer from './OrderContainers/RawOrderContainer'\nimport TransformedOrderContainer from './OrderContainers/TransformedOrderContainer'\nimport TransformPanel from './OrderOperations/TransformPanel'\nimport MainOperationsPanel from './OrderOperations/MainOperationsPanel'\nimport OrderPoolDialog from './OrderPool/OrderPoolDialog'\n\nimport Order from '../../helpers/Order'\n\nexport default function Confirmator() {\n  const [rawOrder, setRawOrder] = useState({ text: '', id: null })\n  const [transformedOrder, setTransformedOrder] = useState({\n    text: '',\n    id: null,\n  })\n\n  const [order, setOrder] = useState(Order.default())\n\n  useEffect(() => {\n    const savedOrder = localStorage.getItem('confirmator_order')\n    const savedRawOrder = localStorage.getItem('confirmator_rawOrder')\n    savedOrder && setOrder(new Order(JSON.parse(savedOrder)))\n    savedRawOrder && setRawOrder(JSON.parse(savedRawOrder))\n  }, [])\n\n  useEffect(() => {\n    localStorage.setItem('confirmator_order', JSON.stringify(order.prepareForSending()))\n  }, [order])\n  useEffect(() => {\n    localStorage.setItem('confirmator_rawOrder', JSON.stringify(rawOrder))\n  }, [rawOrder])\n\n  const rawOrderOrderContainerRef = useRef(null)\n  const transformedOrderContainerRef = useRef(null)\n\n  function reset() {\n    setRawOrder({ text: '', id: null })\n    setTransformedOrder({ text: '', id: null })\n    setOrder(Order.default())\n  }\n\n  function handleOrderChange(e) {\n    // It's not very good to mutate the state directly but setters won't work otherwise\n    order[e.target.name] = e.target.type === 'checkbox' ? e.target.checked : e.target.value\n\n    return setOrder(new Order(order))\n  }\n\n  function handleRawOrderUpdate(rawO) {\n    // Raw order has an id and is an object if it is exported from DB otherwise it's a plain string\n    setRawOrder({ ...rawOrder, id: rawO.id || null, text: rawO.text || rawO })\n  }\n  function handleTransformedOrderUpdate(transO) {\n    setTransformedOrder({ ...transformedOrder, text: transO })\n  }\n\n  function handleOrderTransformFromText(o = rawOrder) {\n    Order.setupOrderFromText(o.text)\n      .then((orderFromText) => {\n        setOrder(orderFromText)\n        return setTransformedOrder({\n          id: o.id,\n          text: orderFromText.format(),\n        })\n      })\n      .catch((err) => enqueueSnackbar(err.message, { variant: 'error' }))\n  }\n\n  function handleOrderTransformFromEditor() {\n    return setTransformedOrder({ id: rawOrder.id, text: order.format() })\n  }\n\n  function handleOrderPoolExport(o) {\n    handleRawOrderUpdate(o)\n    handleOrderTransformFromText(o)\n    setTimeout(() => rawOrderOrderContainerRef.current.scrollIntoView({ smooth: true }), 700)\n  }\n\n  return (\n    <div className=\"flex-container\">\n      <RawOrderContainer\n        elementRef={rawOrderOrderContainerRef}\n        rawOrderText={rawOrder.text}\n        handleClick={handleRawOrderUpdate}\n      />\n\n      <Editor order={order} handleChange={handleOrderChange} />\n\n      <TransformPanel\n        elementRef={transformedOrderContainerRef}\n        transformDisabled={!rawOrder.text}\n        copyDisabled={!transformedOrder.text}\n        handleOrderTransformFromText={handleOrderTransformFromText}\n        handleOrderTransformFromEditor={handleOrderTransformFromEditor}\n      />\n\n      <TransformedOrderContainer\n        elementRef={transformedOrderContainerRef}\n        transformedOrderText={transformedOrder.text}\n        handleClick={handleTransformedOrderUpdate}\n      />\n\n      <OrderSettings handleChange={handleOrderChange} order={order} />\n      <ValidationDisplay order={order} shouldValidate={transformedOrder.text} />\n      <MainOperationsPanel\n        order={order}\n        orderId={rawOrder.id}\n        transformedOrder={transformedOrder}\n        handleResetClick={reset}\n        orderPoolUrl=\"/confirmator/order-pool\"\n      />\n      <Route path=\"/confirmator/order-pool\">\n        <OrderPoolDialog handleExport={handleOrderPoolExport} />\n      </Route>\n    </div>\n  )\n}\n","import React, { useState, useEffect } from 'react'\nimport TextField from '@material-ui/core/TextField'\nimport Popper from '@material-ui/core/Popper'\nimport Table from '@material-ui/core/Table'\nimport TableBody from '@material-ui/core/TableBody'\nimport TableCell from '@material-ui/core/TableCell'\nimport TableContainer from '@material-ui/core/TableContainer'\nimport TableHead from '@material-ui/core/TableHead'\nimport TableRow from '@material-ui/core/TableRow'\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener'\nimport Paper from '@material-ui/core/Paper'\nimport IconButton from '@material-ui/core/IconButton'\nimport dayjs from 'dayjs'\nimport isoWeek from 'dayjs/plugin/isoWeek'\nimport isSameOrAfter from 'dayjs/plugin/isSameOrAfter'\nimport './Statistics.css'\nimport orderPoolApi from '../../services/orderPoolAPI'\n\ndayjs.extend(isSameOrAfter)\ndayjs.extend(isoWeek)\n\n/**\n * @param {Object} period\n * @param {dayjsdate} period.periodFrom\n * @param {dayjsdate} period.periodTo\n * @return {Array} Example: [{ periodFrom: '2021-05-23T21:00:00.000Z', periodTo: '2021-05-30T21:00:00.000Z'}]\n */\n\nfunction splitPeriodToWeeks({ periodFrom, periodTo }) {\n  const numberOfWeeksInPeriod = Math.ceil(periodTo.diff(periodFrom, 'week', true))\n\n  // A turn of a year example: [50, 51, 52, 53, 54, 55]\n  const weekNumbers = Array(numberOfWeeksInPeriod)\n    .fill(periodFrom.isoWeek()) // The first week of the period\n    .map((number, count) => number + count)\n\n  const startYear = periodFrom.startOf('isoWeek').year()\n\n  const weeks = weekNumbers.map((weekNumber) => ({\n    periodFrom: dayjs().year(startYear).isoWeek(weekNumber).startOf('isoWeek').toISOString(),\n    periodTo: dayjs()\n      .year(startYear)\n      .isoWeek(weekNumber + 1)\n      .startOf('isoWeek')\n      .toISOString(),\n  }))\n\n  return weeks\n}\n\nfunction splitOrdersByPeriods(orders, periods) {\n  const splitted = []\n  periods.forEach((period) => {\n    const filtered = orders.filter(\n      (o) =>\n        dayjs(o.confirmedAt).isSameOrAfter(dayjs(period.periodFrom)) &&\n        dayjs(o.confirmedAt).isBefore(dayjs(period.periodTo))\n    )\n    splitted.push(filtered)\n  })\n\n  return splitted\n}\n\nfunction createData(name, orderCount) {\n  return { name, orderCount }\n}\n\n/**\n * @returns {array} Array of objects\n */\nfunction makeRows(labels, data) {\n  return data.map((d, i) => createData(labels[i], d))\n}\n\nfunction makeWeekRows(orders, weeks) {\n  return makeRows(\n    orders.map((o, i) => `Week ${dayjs(weeks[i].periodFrom).isoWeek()}`),\n    orders.map((o) => o.length)\n  )\n}\n\nfunction makeTotalRow(orders) {\n  return makeRows(\n    ['Total during specified period'],\n    orders.map((o) => o.length)\n  )\n}\n\nexport default function Statistics() {\n  const defStartDate = dayjs().startOf('month')\n  const defEndDate = defStartDate.add(1, 'month').startOf('month')\n  const [period, setPeriod] = useState({\n    periodFrom: defStartDate,\n    periodTo: defEndDate,\n  })\n  const [ordersByDays, setOrdersByDays] = useState({})\n  const [anchorEl, setAnchorEl] = useState(null)\n\n  const [ordersByWeeks, setOrdersByWeeks] = useState([])\n  const [rows, setRows] = useState([])\n\n  useEffect(async () => {\n    const weeks = splitPeriodToWeeks(period)\n    const firstWeek = weeks[0]\n    const lastWeek = weeks[weeks.length - 1]\n\n    const {\n      confirmedOrders: confirmedOrdersOfAllWeeksOfPeriod,\n    } = await orderPoolApi.getConfirmedOrders({\n      periodFrom: firstWeek.periodFrom,\n      periodTo: lastWeek.periodTo,\n    })\n\n    const ordsByWeeks = splitOrdersByPeriods(confirmedOrdersOfAllWeeksOfPeriod, weeks)\n\n    const ordersOfWholePeriod = splitOrdersByPeriods(confirmedOrdersOfAllWeeksOfPeriod, [period])\n\n    const weekRows = makeWeekRows(ordsByWeeks, weeks)\n    const totalRow = makeTotalRow(ordersOfWholePeriod)\n\n    setOrdersByWeeks(ordsByWeeks)\n    setRows([...weekRows, ...totalRow])\n  }, [period])\n\n  function handlePeriodChange(e) {\n    setPeriod({ ...period, [e.target.name]: dayjs(e.target.value) })\n  }\n\n  function showOrdersByDay(e) {\n    setAnchorEl(e.currentTarget)\n\n    const ordersOfSelectedWeek = ordersByWeeks[e.currentTarget.dataset.rownumber]\n\n    const ordByDays = {}\n\n    ordersOfSelectedWeek.forEach((order) => {\n      const day = new Date(order.confirmedAt).toLocaleDateString('en-US', { weekday: 'long' })\n      if (ordByDays[day] == null) {\n        ordByDays[day] = []\n      }\n      ordByDays[day].push(order)\n    })\n\n    setOrdersByDays(ordByDays)\n  }\n\n  const open = Boolean(anchorEl)\n  const shouldApplyEventHandler = (row) => row.orderCount > 0 && !row.name.includes('Total')\n\n  return (\n    <div className=\"statistics\">\n      <div className=\"row-flex-start gap-1 dates\">\n        <TextField\n          onChange={handlePeriodChange}\n          name=\"periodFrom\"\n          label=\"Start of period\"\n          type=\"date\"\n          value={period.periodFrom.format('YYYY-MM-DD')}\n        />\n        <TextField\n          onChange={handlePeriodChange}\n          name=\"periodTo\"\n          label=\"End of period\"\n          type=\"date\"\n          value={period.periodTo.format('YYYY-MM-DD')}\n        />\n      </div>\n      <TableContainer component={Paper}>\n        <Table aria-label=\"statistics table\">\n          <TableHead>\n            <TableRow>\n              <TableCell>Statistics</TableCell>\n              <TableCell align=\"right\">Confirmed orders</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {rows.map((row, rowNumber) => (\n              <TableRow key={row.name}>\n                <TableCell component=\"th\" scope=\"row\">\n                  {row.name}\n                </TableCell>\n                <TableCell align=\"right\">\n                  <Popper style={{ padding: 10 }} placement=\"left\" open={open} anchorEl={anchorEl}>\n                    <ClickAwayListener\n                      mouseEvent=\"onMouseDown\"\n                      touchEvent=\"onTouchStart\"\n                      onClickAway={() => setAnchorEl(null)}\n                    >\n                      <Paper>\n                        <div style={{ padding: 10 }}>\n                          {Object.entries(ordersByDays).map(([key, value]) => (\n                            <div key={key}>\n                              {key}: {value.length}\n                            </div>\n                          ))}\n                        </div>\n                      </Paper>\n                    </ClickAwayListener>\n                  </Popper>\n                  <IconButton\n                    data-rownumber={rowNumber}\n                    size=\"small\"\n                    onClick={shouldApplyEventHandler(row) ? showOrdersByDay : null}\n                  >\n                    {row.orderCount}\n                  </IconButton>\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </div>\n  )\n}\n","export default __webpack_public_path__ + \"static/media/paku24-logo.7602fc02.png\";","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport './Header.css'\nimport logo from '../assets/paku24-logo.png'\n\nexport default function Header({ isLogged }) {\n  return (\n    <div className=\"logo\">\n      <div>\n        <Link to={isLogged ? '/' : '/login'}>\n          <img src={logo} alt=\"Logo\" width=\"125px\" />\n        </Link>\n        <span className=\"text\">CONFIRMATOR</span>\n      </div>\n    </div>\n  )\n}\n","import axios from 'axios'\n\nconst baseUrl = '/api/login'\n\n// Defining interceptor specific to login service\n// Default interceptor notifies about refresh token problems\n// We don't need to notify about that when the user opens the app for the first time\n// (eg. when trying to login)\nconst axiosLoginInstance = axios.create()\naxiosLoginInstance.interceptors.response.use(\n  (response) => response,\n  async (error) => {\n    const originalRequest = error.config\n    if (error.response.data.error === 'access token expired') {\n      try {\n        await axios.post('/api/token')\n        await axios.post('/api/token/is-new')\n        return axiosLoginInstance(originalRequest)\n      } catch (err) {\n        return err\n      }\n    }\n\n    return Promise.reject(error)\n  }\n)\n\nasync function loginWithCredentials(credentials) {\n  return axiosLoginInstance.post(baseUrl, credentials).then((res) => res.data)\n}\n\nasync function loginWithAccessToken() {\n  const response = await axiosLoginInstance.post(`${baseUrl}/token`)\n  return response.data\n}\n\nexport default { loginWithCredentials, loginWithAccessToken }\n","import React from 'react'\nimport InfoOutlinedIcon from '@material-ui/icons/InfoOutlined'\n\nconst Notification = ({ notification }) => {\n  let color = 'black'\n  if (notification.toLowerCase().includes('error')) color = 'red'\n\n  return (\n    <>\n      {notification ? (\n        <div\n          style={{\n            backgroundColor: 'white',\n            color,\n            padding: '10px',\n            width: '80%',\n            borderBottom: '3px solid darkgrey',\n            fontSize: 'small',\n            display: 'flex',\n            alignItems: 'center',\n            marginBottom: '10px',\n          }}\n        >\n          <InfoOutlinedIcon />\n          <span style={{ marginLeft: '10px' }}>{notification}</span>\n        </div>\n      ) : null}\n    </>\n  )\n}\n\nexport default Notification\n","import React, { useState } from 'react'\nimport { useHistory, Link } from 'react-router-dom'\nimport TextField from '@material-ui/core/TextField'\nimport Button from '@material-ui/core/Button'\nimport loginServiсe from '../services/login'\nimport Notification from './Notification'\n\nexport default function Login({ updateUser }) {\n  const background = {\n    width: '95%',\n    margin: '0 auto',\n    padding: 20,\n    backgroundColor: 'lightgrey',\n    borderBottom: '4px solid darkgrey',\n  }\n\n  const flexItem = {\n    marginBottom: '7px',\n    backgroundColor: 'white',\n  }\n\n  const formContainer = {\n    color: 'black',\n    fontSize: '1.3rem',\n    letterSpacing: '0.7px',\n    marginTop: '10px',\n    marginBottom: '15px',\n  }\n\n  const flexForm = {\n    paddingBottom: '10px',\n    height: '80%',\n    display: 'flex',\n    flexFlow: 'column wrap',\n    justifyContent: 'space-evenly',\n  }\n\n  const history = useHistory()\n  const referrer = history?.location.state?.referrer\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [isButtonDisabled, setIsButtonDisabled] = useState(false)\n  const [inputError, setInputError] = useState(false)\n  const [notification, setNotification] = useState('')\n\n  async function handleLogin(event) {\n    event.preventDefault()\n    setNotification('Working...')\n\n    try {\n      const { user } = await loginServiсe.loginWithCredentials({\n        username,\n        password,\n      })\n      setNotification('Done')\n\n      // Not counting '/' as referrer\n      history.push(referrer?.length > 1 ? referrer : '/confirmator')\n      updateUser(user)\n    } catch (err) {\n      setInputError(true)\n      setIsButtonDisabled(true)\n      setTimeout(() => setIsButtonDisabled(false), 2000)\n      setNotification(`Error: ${err.response?.data.error || 'Mystery 👻'}`)\n    }\n  }\n\n  return (\n    <div style={{ margin: '30px 5px' }}>\n      <div style={background}>\n        <div style={formContainer}>\n          LOGIN\n          <span\n            style={{\n              color: 'black',\n              fontSize: '1.0rem',\n              letterSpacing: '0.2px',\n            }}\n          >\n            {' '}\n            or <Link to=\"/register\">request access</Link>\n          </span>\n        </div>\n\n        <Notification notification={notification} />\n\n        <form onSubmit={handleLogin} style={flexForm}>\n          <TextField\n            className=\"flex-item\"\n            style={flexItem}\n            error={inputError}\n            required\n            name=\"username\"\n            value={username}\n            onChange={({ target }) => setUsername(target.value)}\n            label=\"Username\"\n            variant=\"filled\"\n            size=\"small\"\n          />\n          <TextField\n            className=\"flex-item\"\n            style={flexItem}\n            error={inputError}\n            type=\"password\"\n            required\n            value={password}\n            name=\"password\"\n            onChange={({ target }) => setPassword(target.value)}\n            label=\"Password\"\n            variant=\"filled\"\n            size=\"small\"\n          />\n\n          <Button\n            className=\"flex-item\"\n            style={flexItem}\n            type=\"submit\"\n            disabled={isButtonDisabled}\n            variant=\"contained\"\n            size=\"small\"\n          >\n            Login\n          </Button>\n        </form>\n      </div>\n    </div>\n  )\n}\n","import React, { useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport TextField from '@material-ui/core/TextField'\nimport Button from '@material-ui/core/Button'\nimport axios from 'axios'\nimport Notification from './Notification'\n\nexport default function Register() {\n  const background = {\n    width: '95%',\n    padding: 20,\n    margin: '0 auto',\n    backgroundColor: 'lightgrey',\n    borderBottom: '4px solid darkgrey',\n  }\n\n  const flexItem = {\n    marginBottom: '7px',\n    backgroundColor: 'white',\n  }\n\n  const formContainer = {\n    color: 'black',\n    fontSize: '1.3rem',\n    letterSpacing: '0.7px',\n    marginTop: '10px',\n    marginBottom: '15px',\n  }\n\n  const flexForm = {\n    paddingBottom: '10px',\n    height: '80%',\n    display: 'flex',\n    flexFlow: 'column wrap',\n    justifyContent: 'space-evenly',\n  }\n\n  const [name, setName] = useState('')\n  const [email, setEmail] = useState('')\n  const [purpose, setPurpose] = useState('')\n  const [response, setResponse] = useState('')\n  const [disabled, setDisabled] = useState(false)\n\n  async function sendRequestForAccess(params) {\n    return axios.post('/api/registration/request-access', params).then((res) => res.data)\n  }\n\n  async function handleRequest(event) {\n    event.preventDefault()\n    setDisabled(true)\n    setResponse('Working...')\n    try {\n      const res = await sendRequestForAccess({ name, email, purpose })\n      setResponse(res?.message)\n      setName('')\n      setEmail('')\n      setPurpose('')\n      setDisabled(false)\n    } catch (err) {\n      setDisabled(false)\n      setResponse(`Error: ${err?.response.data?.error || 'Mystery 👻'}`)\n    }\n  }\n\n  return (\n    <div style={{ margin: '30px 5px' }}>\n      <div style={background}>\n        <div style={formContainer}>\n          REQUEST ACCESS\n          <span\n            style={{\n              color: 'black',\n              fontSize: '1.0rem',\n              letterSpacing: '0.2px',\n            }}\n          >\n            {' '}\n            or <Link to=\"/login\">login</Link>\n          </span>\n        </div>\n\n        <Notification notification={response} />\n\n        <form onSubmit={handleRequest} style={flexForm}>\n          <TextField\n            style={flexItem}\n            required\n            name=\"name\"\n            value={name}\n            onChange={({ target }) => setName(target.value)}\n            label=\"Name\"\n            variant=\"filled\"\n            size=\"small\"\n          />\n          <TextField\n            style={flexItem}\n            type=\"email\"\n            required\n            value={email}\n            name=\"email\"\n            onChange={({ target }) => setEmail(target.value)}\n            label=\"Email\"\n            variant=\"filled\"\n            size=\"small\"\n          />\n\n          <TextField\n            style={flexItem}\n            type=\"text\"\n            required\n            multiline\n            rows=\"3\"\n            value={purpose}\n            name=\"purpose\"\n            onChange={({ target }) => setPurpose(target.value)}\n            label=\"Why do you want to use this application?\"\n            variant=\"filled\"\n            size=\"small\"\n          />\n\n          <Button\n            style={flexItem}\n            type=\"submit\"\n            disabled={disabled}\n            variant=\"contained\"\n            size=\"small\"\n          >\n            Send request\n          </Button>\n        </form>\n      </div>\n    </div>\n  )\n}\n","import axios from 'axios'\n\nconst baseUrl = '/api/logout'\n\nasync function logout() {\n  return axios.post(baseUrl).then((res) => res.data)\n}\n\nexport default { logout }\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp'\n\nexport default function LogoutButton({ handleClick }) {\n  return (\n    <Button\n      style={{ backgroundColor: 'lightgrey' }}\n      variant=\"outlined\"\n      size=\"small\"\n      onClick={handleClick}\n    >\n      Logout <ExitToAppIcon />\n    </Button>\n  )\n}\n","import React from 'react'\nimport logoutService from '../services/logout'\nimport LogoutButton from './LogoutButton'\n\nexport default function Footer({ user, logoutUser }) {\n  return (\n    <div\n      style={{\n        backgroundColor: 'darkgrey',\n        padding: '15px',\n        // marginTop: '40px',\n        display: 'flex',\n        justifyContent: 'space-between',\n        borderTop: '3.5px solid lightgrey',\n        marginTop: 'auto',\n      }}\n    >\n      <div style={{ paddingTop: '2px', marginRight: '20px' }}>\n        <span style={{ fontFamily: 'monospace' }}>\n          {' '}\n          {user.username}\n          <br />\n          {user.name}\n        </span>\n      </div>\n      <LogoutButton handleClick={() => logoutService.logout().then(logoutUser)} />\n    </div>\n  )\n}\n","import React, { useState, useEffect } from 'react'\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom'\nimport { ErrorBoundary } from 'react-error-boundary'\nimport { enqueueSnackbar } from 'notistack'\nimport Hub from './components/Hub'\nimport Confirmator from './components/Confirmator/Confirmator'\nimport Statistics from './components/Statistics/Statistics'\nimport Header from './components/Header'\nimport Login from './components/Login'\nimport Register from './components/Register'\nimport loginServiсe from './services/login'\nimport './App.css'\nimport Footer from './components/Footer'\nimport LoadingUntillDone from './components/LoadingUntillDone'\nimport interceptor from './services/interceptor'\n\nfunction ErrorFallback({ error }) {\n  return (\n    <div role=\"alert\">\n      <p>Something went wrong:</p>\n      <pre style={{ color: 'red' }}>{error.message}</pre>\n    </div>\n  )\n}\n\nfunction ProtectedRoute({ dependsOn, path, children, ...rest }) {\n  const history = useHistory()\n  let currentLocation\n  if (dependsOn === null || dependsOn === 'Loading') {\n    currentLocation = history.location.pathname\n  }\n\n  const loading = dependsOn === 'Loading'\n  const mustRedirect = dependsOn === null\n  const redirectToLoginPage = mustRedirect && (\n    <Redirect to={{ pathname: '/login', state: { referrer: currentLocation } }} />\n  )\n\n  return (\n    <>\n      <LoadingUntillDone loading={loading} redirectComponent={redirectToLoginPage}>\n        <Route {...rest} path={path}>\n          {children}\n        </Route>\n      </LoadingUntillDone>\n    </>\n  )\n}\n\nfunction App() {\n  const [user, setUser] = useState('Loading')\n\n  const history = useHistory()\n  let referrer\n  if (user === null || user === 'Loading') {\n    referrer = history.location.pathname\n  }\n\n  useEffect(async () => {\n    // Initializing Axios interceptor with ability to logout user\n    interceptor.setupInterceptor({\n      logout: () => setUser(null),\n      notificate: () =>\n        enqueueSnackbar(\n          'You were logged out for security reasons. Your work has been saved. Login to continue.',\n          {\n            variant: 'warning',\n            autoHideDuration: 10000,\n          }\n        ),\n    })\n\n    try {\n      const { user: userFromToken } = await loginServiсe.loginWithAccessToken()\n      history.push(referrer)\n      return setUser(userFromToken)\n    } catch (err) {\n      return setUser(null)\n    }\n  }, [])\n\n  return (\n    <>\n      <Header isLogged={user !== null && user !== 'Loading'} />\n      <ErrorBoundary FallbackComponent={ErrorFallback}>\n        <Switch>\n          <Route path=\"/register\">\n            <Register />\n          </Route>\n          <Route path=\"/login\">\n            {user === null ? <Login updateUser={setUser} /> : <Redirect to=\"/\" />}\n          </Route>\n\n          <ProtectedRoute dependsOn={user} path=\"/confirmator\">\n            <Confirmator />\n          </ProtectedRoute>\n          <ProtectedRoute dependsOn={user} path=\"/statistics\">\n            <Statistics />\n          </ProtectedRoute>\n          <ProtectedRoute dependsOn={user} exact path=\"/\">\n            <Hub />\n          </ProtectedRoute>\n        </Switch>\n        <ProtectedRoute dependsOn={user} path=\"/\">\n          <Footer user={user} logoutUser={() => setUser(null)} />\n        </ProtectedRoute>\n      </ErrorBoundary>\n    </>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter as Router } from 'react-router-dom'\nimport { SnackbarProvider } from 'notistack'\nimport CancelIcon from '@material-ui/icons/Cancel'\nimport App from './App'\nimport './index.css'\n\nconst notistackRef = React.createRef()\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router basename=\"/app\">\n      <SnackbarProvider\n        action={(key) => (\n          <CancelIcon\n            onClick={() => {\n              notistackRef.current.closeSnackbar(key)\n            }}\n          />\n        )}\n        ref={notistackRef}\n        maxSnack={3}\n        dense\n        autoHideDuration={5000}\n        anchorOrigin={{ horizontal: 'left', vertical: 'top' }}\n      />\n\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}