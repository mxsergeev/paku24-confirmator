(this["webpackJsonppaku24-confirmator-front"]=this["webpackJsonppaku24-confirmator-front"]||[]).push([[0],{226:function(e,t,a){},227:function(e,t,a){},228:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a(0),r=a.n(c),i=a(10),o=a.n(i),l=a(13),s=a(14),d=a(29),u=a(15),j=a(18),m=a(44),h=a.n(m);var b=a(231),f=(a(42),a(266)),O=a(259),x=a(265);function p(e){var t,a=e.value,r=e.label,i=e.name,o=e.handleChange,d=Object(c.useState)(!1),u=Object(l.a)(d,2),j=u[0],m=u[1],h=Object(s.g)(),b=Object(s.h)(),p=null===(t=Object(s.i)("/:type"))||void 0===t?void 0:t.url;console.log("match",p);var v=r.toLowerCase();Object(c.useEffect)((function(){return b.pathname==="".concat(p,"/").concat(v)?m(!0):m(!1)}),[b.pathname,v,p]);return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(O.a,{className:"button-info",variant:"outlined",onClick:function(){m(!0),h.push(p?"".concat(p,"/").concat(v):"/edit/".concat(v))},children:[r," to: ",a]}),Object(n.jsx)(s.b,{path:["".concat(p,"/").concat(v),"".concat(p,"/").concat(v)],children:Object(n.jsx)(f.a,{open:j,onClose:function(){m(!1),h.push("/edit"===p?"/":p)},children:Object(n.jsx)("div",{style:{position:"absolute",maxWidth:500,minWidth:300,padding:20,backgroundColor:"white",left:"50%",top:"50%",transform:"translate(-50%, -50%)"},children:Object(n.jsx)(x.a,{label:r,name:i,variant:"outlined",onChange:o,value:a,type:"Email"===r?r:"",autoFocus:!0})})})})]})}var v=a(104),g=a(34),y=a(105),C=a.n(y);function S(e){var t=e.handleClick;return Object(n.jsxs)(O.a,{className:"button-one-third flex-item",variant:"text",size:"small",onClick:t,children:["Transform ",Object(n.jsx)(C.a,{})]})}function N(e){var t,a=e.order,c=e.handleChange,r=e.handleClick,i={marginTop:5},o={marginLeft:5,marginRight:5};return Object(n.jsxs)("div",{className:"basic-flex",children:[Object(n.jsx)(x.a,{fullWidth:!0,style:o,className:"flex-item",name:"ISODate",value:null===a||void 0===a||null===(t=a.date)||void 0===t?void 0:t.ISODate,onChange:c,type:"date"}),Object(n.jsxs)("div",{className:"flex-100-space-between flex-item",style:o,children:[Object(n.jsx)(x.a,{className:"time-duration",style:Object(u.a)(Object(u.a)({},o),{},{paddingRight:10}),name:"time",value:null===a||void 0===a?void 0:a.time,onChange:c,inputProps:{step:"900"},type:"time"}),Object(n.jsxs)(v.a,{className:"time-duration",style:Object(u.a)(Object(u.a)({},o),{},{paddingLeft:10}),name:"duration",value:null===a||void 0===a?void 0:a.duration,onChange:c,children:[Object(n.jsx)("option",{value:1,children:"1h"}),Object(n.jsx)("option",{value:1.5,children:"1.5h"}),Object(n.jsx)("option",{value:2,children:"2h"}),Object(n.jsx)("option",{value:2.5,children:"2.5h"}),Object(n.jsx)("option",{value:3,children:"3h"}),Object(n.jsx)("option",{value:3.5,children:"3.5h"}),Object(n.jsx)("option",{value:4,children:"4h"}),Object(n.jsx)("option",{value:4.5,children:"4.5h"}),Object(n.jsx)("option",{value:5,children:"5h"}),Object(n.jsx)("option",{value:5.5,children:"5.5h"}),Object(n.jsx)("option",{value:6,children:"6h"}),Object(n.jsx)("option",{value:6.5,children:"6.5h"}),Object(n.jsx)("option",{value:7,children:"7h"}),Object(n.jsx)("option",{value:7.5,children:"7.5h"}),Object(n.jsx)("option",{value:8,children:"8h"}),Object(n.jsx)("option",{value:8.5,children:"8.5h"}),Object(n.jsx)("option",{value:9,children:"9h"}),Object(n.jsx)("option",{value:9.5,children:"9.5h"}),Object(n.jsx)("option",{value:10,children:"10h"})]})]}),Object(n.jsx)(v.a,{fullWidth:!0,style:o,className:"flex-item",name:"serviceName",value:null===a||void 0===a?void 0:a.serviceName,onChange:c,children:g.map((function(e,t){return Object(n.jsx)("option",{value:e.name,children:e.name},t)}))}),Object(n.jsxs)(v.a,{fullWidth:!0,style:o,className:"flex-item",name:"paymentType",value:null===a||void 0===a?void 0:a.paymentType,onChange:c,children:[Object(n.jsx)("option",{value:"Maksukortti",children:"Maksukortti"}),Object(n.jsx)("option",{value:"K\xe4teinen",children:"K\xe4teinen"}),Object(n.jsx)("option",{value:"Lasku",children:"Lasku"})]}),Object(n.jsx)(x.a,{fullWidth:!0,style:i,className:"flex-item",required:!0,name:"address",value:null===a||void 0===a?void 0:a.address,onChange:c,label:"Address",variant:"outlined",size:"small"}),Object(n.jsx)(x.a,{fullWidth:!0,multiline:!0,style:i,className:"flex-item",name:"destination",value:null===a||void 0===a?void 0:a.destination,onChange:c,label:"Destination",variant:"outlined",size:"small"}),Object(n.jsx)(x.a,{fullWidth:!0,required:!0,style:i,className:"flex-item",name:"name",value:null===a||void 0===a?void 0:a.name,onChange:c,label:"Name",variant:"outlined",size:"small"}),Object(n.jsx)(x.a,{fullWidth:!0,style:i,className:"flex-item",name:"email",value:null===a||void 0===a?void 0:a.email,onChange:c,type:"email",label:"Email",variant:"outlined",size:"small"}),Object(n.jsx)(x.a,{fullWidth:!0,style:i,className:"flex-item",required:!0,name:"phone",value:null===a||void 0===a?void 0:a.phone,onChange:c,label:"Phonenumber",variant:"outlined",size:"small"}),Object(n.jsx)(b.a,{style:i,className:"flex-item textarea-2",rowsMin:3,cols:27,name:"comment",value:null===a||void 0===a?void 0:a.comment,placeholder:"Additional information.",onChange:c}),Object(n.jsx)(S,{className:"flex-item",handleClick:r})]})}function k(e){var t=e.order,a=e.handleFormatting,r=e.handleChange,i=Object(c.useState)(!1),o=Object(l.a)(i,2),d=o[0],u=o[1],j=Object(s.g)(),m=Object(s.h)();Object(c.useEffect)((function(){return"/edit"===m.pathname?u(!0):u(!1)}),[m.pathname]);var h=function(){u(!1),j.push("/")};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(O.a,{className:"button-one-third",variant:"outlined",onClick:function(){u(!0),j.push("/edit")},children:"Edit"}),Object(n.jsx)(s.b,{path:"/edit",children:Object(n.jsx)(f.a,{open:d,onClose:h,children:Object(n.jsx)("div",{style:{position:"absolute",maxWidth:500,minWidth:300,padding:20,backgroundColor:"white",left:"50%",top:"50%",transform:"translate(-50%, -50%)"},children:Object(n.jsx)(N,{order:t,handleChange:r,handleClick:function(){a(),h()}})})})})]})}function w(e,t,a){var n=1*t.split(":")[0],c=e.getDay(),r=(6===c||7===c||0===c)&&15,i=e.getDate(),o=!![new Date(e.getFullYear(),e.getMonth()+1,0).getDate(),1].includes(i)&&15;return r&&(o=!1),[{value:r,name:"VIIKONLOPPULIS\xc4"},{value:o,name:"KUUNVAIHDELIS\xc4"},{value:n<8&&20,name:"AAMULIS\xc4"},{value:n>20&&20,name:"Y\xd6LIS\xc4"},{value:"Lasku"===a&&14,name:"LASKULIS\xc4"}]}function I(e){return"Cannot find ".concat(e,". Invalid format.")}function E(e){return new Date(e).toLocaleDateString().replace(/\.|\//g,"-")}function T(e){var t=e.filter((function(e){return e.value}));return{array:t.map((function(e){return e.name})),string:t.map((function(e){return"\n".concat(e.name,"\n").concat(e.value,"\u20ac")})).reduce((function(e,t){return e+t}),"")}}function P(e){var t=/(?<=Date end time: \w+, )\w+ \d+(th|rd|st|nd)? \w+/.exec(e);if(!t)throw new Error(I("date"));var a=new Date(t[0].replace(/th|rd|st|nd/,"")+"Z"),n=a.toISOString().split("T")[0];return{confirmationFormat:E(a),original:a,ISODate:n,time:/\d+:\d+/.exec(e)[0]}}function A(e){var t=/\d+(\.\d+)?(?=\sh.)/.exec(e);if(!t)throw new Error(I("duration"));return t[0]}function L(e){return w(P(e).original,P(e).time,z(e))}function D(e){var t=/(?<=PRICE: )\d+/.exec(e);if(!t)throw new Error(I("price"));t=t[0],L(e).filter((function(e){return e.value})).forEach((function(e){return t-=e.value}));var a=A(e),n=g.filter((function(e){return e.price===t/a}));if(0===n.length)throw new Error("Cannot recognize service. Invalid price or duration.");return n[0]}function z(e){var t=/(?<=Payment Type: )[A-\xd6a-\xf6]+/.exec(e);if(!t)throw new Error(I("payment type"));return t[0]}function F(e,t){var a=new RegExp("(?<=".concat(t,": )[A-\xd6a-\xf6]+")).exec(e);a=a?a[0]:"";var n=new RegExp("(?<=".concat(t,": ").concat(a," / ).*(?=,*)")).exec(e);if(n=n?"".concat(n[0],","):"","Frome"===t&&!n)throw new Error(I("address"));return{address:n,city:a}}function K(e){var t=/(?<=Name: )([A-\xd6a-\xf6]+ *)+/.exec(e);if(!t)throw new Error(I("name"));return t[0]}function M(e){var t=/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/.exec(e);if(!t)throw new Error(I("email"));return t[0]}function R(e){var t=/(?<=Phone: )[+]*[(]{0,1}[0-9]{1,4}[)]{0,1}[-\s\./0-9]*/.exec(e);if(!t)throw new Error(I("phone"));return t[0].replace(/\n/,"")}function U(e){var t=/(?<=Comment: )(.*\s*)*/.exec(e);t=t?t[0]:"";var a=/\n\n\-\-\nT\xe4m\xe4 viesti l\xe4hetettiin sivustolta Paku24\.fi \(https:\/\/paku24\.fi\)/;return a.exec(t)&&(t=t.replace(a,"")),t}var V=a(106),W=a.n(V);function H(e){var t=e.inputRef;return Object(n.jsxs)(O.a,{className:"button-one-third flex-item",variant:"text",size:"small",onClick:function(e){t.current.select(),document.execCommand("copy"),j.a.info("Copied!",500)},children:["Copy ",Object(n.jsx)(W.a,{})]})}var B=a(263),q=a(271),J=a(270),X=a(268),Y=a(267),$=a(269);function _(e){var t=e.handleChange,a=e.options;return Object(n.jsxs)("div",{className:"checkbox-container",children:[Object(n.jsxs)(q.a,{className:"checkbox-distance flex-item",hiddenLabel:!1,size:"small",children:[Object(n.jsx)(B.a,{component:"legend",children:"Pick one:"}),Object(n.jsxs)($.a,{name:"gender1",value:a.distance,onChange:t,children:[Object(n.jsx)(J.a,{name:"distance",value:"insideCapital",control:Object(n.jsx)(Y.a,{color:"default"}),label:"\ud83c\udfd9 Inside capital"}),Object(n.jsx)(J.a,{name:"distance",value:"outsideCapital",control:Object(n.jsx)(Y.a,{color:"default"}),label:"\ud83c\udfde Outside capital"}),Object(n.jsx)(J.a,{name:"distance",value:"fromCapitalToOutside",control:Object(n.jsx)(Y.a,{color:"default"}),label:"\ud83c\udfd9->\ud83c\udfde From capital"}),Object(n.jsx)(J.a,{name:"distance",value:"fromOutsideToCapital",control:Object(n.jsx)(Y.a,{color:"default"}),label:"\ud83c\udfde->\ud83c\udfd9 To capital"})]})]}),Object(n.jsxs)(q.a,{className:"basic-flex",size:"small",children:[Object(n.jsx)(J.a,{size:"small",className:"flex-item",control:Object(n.jsx)(X.a,{checked:a.hsy,onChange:t,color:"primary"}),name:"hsy",label:"\u267b HSY",labelPlacement:"start"}),Object(n.jsx)(J.a,{className:"flex-item",control:Object(n.jsx)(X.a,{checked:a.XL,onChange:t,color:"primary"}),name:"XL",label:"XL",labelPlacement:"start"})]})]})}var Z=a(107),G=a.n(Z);function Q(e){var t=e.phoneNumber,a=e.msgBody,c=e.err,r=e.disabled;return Object(n.jsx)(O.a,{disabled:c||r,className:"button-phone flex-item",variant:"contained",size:"small",children:Object(n.jsxs)("a",{className:"sms",href:"sms://".concat(t,"/?body=").concat(encodeURI(a)),children:["Send ",Object(n.jsx)(G.a,{className:"sms-icon"})]})})}var ee=a(108),te=a.n(ee);function ae(e){var t=e.handleClick,a=e.err,c=e.disabled;return Object(n.jsxs)(O.a,{disabled:a||c,className:"button-email flex-item",variant:"contained",size:"small",onClick:t,children:["Send ",Object(n.jsx)(te.a,{})]})}var ne=a(109),ce=a.n(ne);function re(e){var t=e.handleClick,a=e.err;return Object(n.jsxs)(O.a,{disabled:a,className:"button-email flex-item",variant:"contained",size:"small",onClick:t,children:["Add to calendar ",Object(n.jsx)(ce.a,{})]})}var ie=a(52),oe=a.n(ie),le=a(110),se=a.n(le);function de(e){var t=e.order,a=e.handleSetError,r=e.confirmation,i=e.custom,o=Object(c.useState)([]),s=Object(l.a)(o,2),d=s[0],u=s[1],j=Object(c.useState)(!1),m=Object(l.a)(j,2),h=m[0],b=m[1],f=Object(c.useState)(!1),O=Object(l.a)(f,2),x=O[0],p=O[1];Object(c.useEffect)((function(){if(h)a(!1);else{var e=[{type:"date",error:oe.a.isBefore(t.date.ISODate,(new Date).toISOString()),message:"earlier than today. Value: ".concat(t.date.confirmationFormat||"No value")},{type:"address",error:oe.a.isEmpty(t.address),message:"missing or is in incorrect format. Value: ".concat(t.address||"No value")},{type:"phone",error:!oe.a.isMobilePhone(t.phone,["fi-FI","es-ES","sv-SE"]),message:"missing or is in incorrect format. Value: ".concat(t.phone||"No value")},{type:"email",error:!i&&!oe.a.isEmail(t.email),message:"missing or is in incorrect format. Value: ".concat(t.email||"No value")}];u(e);var n=e.some((function(e){return e.error}));a(n),p(n)}}),[t.date,t.phone,t.address,t.email,h,i,a]);var v={color:"red"},g={color:"gray"},y=h?g:null;return Object(n.jsxs)(n.Fragment,{children:[r?Object(n.jsx)("div",{style:{borderTop:"1px solid gray",borderBottom:"1px solid gray",padding:"15px 0 15px 0",margin:"10px 0 10px 0"},className:"flex-100-space-between",children:Object(n.jsxs)("div",{style:y,children:[Object(n.jsx)(se.a,{}),d.map((function(e,t){return e.error?Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{children:[Object(n.jsxs)("span",{style:h?g:v,children:[e.type," "]},100+t),e.message]},t)}):null}))]})}):null,x&&r?Object(n.jsx)(J.a,{style:{alignSelf:"flex-end"},control:Object(n.jsx)(X.a,{checked:h,onChange:function(e){b(e.target.checked),p(d.some((function(e){return e.error})))},color:"default"}),label:"Ignore"}):null]})}function ue(e){var t=e.custom,a=Object(c.useState)(""),r=Object(l.a)(a,2),i=r[0],o=r[1],m=Object(c.useState)(""),f=Object(l.a)(m,2),O=f[0],x=f[1],v=Object(c.useState)(""),y=Object(l.a)(v,2),C=y[0],I=y[1],V=Object(c.useMemo)((function(){return{date:{original:new Date,ISODate:(new Date).toISOString().split("T")[0],confirmationFormat:E(new Date)},time:"".concat((new Date).toTimeString().split(":")[0],":").concat((new Date).toTimeString().split(":")[1]),duration:1,serviceName:g[0].name,servicePrice:g[0].price,paymentType:"Maksukortti",fees:{array:[],string:""},address:"",destination:"",name:"",email:"",phone:"",comment:""}}),[]),W=Object(c.useState)(V),B=Object(l.a)(W,2),q=B[0],J=B[1],X=Object(c.useMemo)((function(){return{distance:"insideCapital",hsy:40===q.servicePrice||70===q.servicePrice,XL:!1}}),[q.servicePrice]),Y=Object(c.useState)(X),$=Object(l.a)(Y,2),Z=$[0],G=$[1],ee=Object(c.useState)(!1),te=Object(l.a)(ee,2),ne=te[0],ce=te[1],ie=Object(c.useRef)(null);Object(c.useEffect)((function(){J(V),G(X),I("")}),[t,V,X]);var oe=Object(c.useCallback)((function(e){return ce(e)}),[]);function le(){var e=T(w(q.date.original,q.time,q.paymentType));se(Object(u.a)(Object(u.a)({},q),{},{fees:e}))}function se(e){G(Object(u.a)(Object(u.a)({},Z),{},{hsy:40===e.servicePrice||70===e.servicePrice})),J(e),I(function(e,t){var a;try{a="VARAUSVAHVISTUS\nVARAUKSEN TIEDOT\n".concat(e.date.confirmationFormat,"\nALKAMISAIKA\nKlo ").concat(e.time," (+/-15min)\nARVIOITU KESTO\n").concat(e.duration,"h (").concat(e.servicePrice,"\u20ac/h, ").concat(e.serviceName,")\nMAKSUTAPA\n").concat(e.paymentType).concat(e.fees.string,"\nL\xc4HT\xd6PAIKKA\n").concat(e.address,"\n").concat(e.destination.length>1?"M\xc4\xc4R\xc4NP\xc4\xc4\n".concat(e.destination,"\n"):"","NIMI\n").concat(e.name,"\n").concat(e.email?"S\xc4HK\xd6POSTI\n".concat(e.email,"\n"):"","PUHELIN\n").concat(e.phone,"\n").concat(e.comment?"LIS\xc4TIETOJA\n".concat(e.comment,"\n"):"","\nKIITOS VARAUKSESTANNE!"),j.a.info("Succesefully formatted!",500)}catch(n){console.log(n),j.a.fail(n.message,1e3)}return a}(e))}function ue(e){if("ISODate"===e.target.name){var t,a=e.target.value;return J(Object(u.a)(Object(u.a)({},q),{},{date:(t={},Object(d.a)(t,e.target.name,a),Object(d.a)(t,"original",new Date(a)),Object(d.a)(t,"confirmationFormat",E(a)),t)}))}if("serviceName"===e.target.name){var n,c=e.target.value;return J(Object(u.a)(Object(u.a)({},q),{},(n={},Object(d.a)(n,e.target.name,c),Object(d.a)(n,"servicePrice",g.find((function(e){return e.name===c})).price),n)))}J(Object(u.a)(Object(u.a)({},q),{},Object(d.a)({},e.target.name,e.target.value)))}return Object(n.jsxs)("div",{className:"flex-container",children:[Object(n.jsx)(b.a,{className:"textarea-1 flex-item",rowsMin:5,cols:40,value:t?O:i,placeholder:"Order info here.",onChange:t?function(e){x(e.target.value)}:function(e){o(e.target.value)}}),Object(n.jsx)(s.b,{path:"/custom",children:Object(n.jsx)(N,{order:q,handleChange:ue,handleClick:le})}),Object(n.jsx)(b.a,{className:"textarea-2 flex-item",rowsMin:5,cols:40,ref:ie,value:C,placeholder:"Formatted confirmation will be outputted here.",onChange:function(e){return I(e.target.value)}}),Object(n.jsxs)("div",{className:"flex-100-space-between",children:[Object(n.jsxs)(s.b,{exact:!0,path:["/","/edit/:slug*"],children:[Object(n.jsx)(k,{handleChange:ue,handleFormatting:le,order:q}),Object(n.jsx)(S,{handleClick:function(){try{se({date:{original:P(i).original,ISODate:P(i).ISODate,confirmationFormat:P(i).confirmationFormat},time:P(i).time,duration:A(i),serviceName:D(i).name,servicePrice:D(i).price,paymentType:z(i),fees:T(L(i)),address:F(i,"Frome").address+" "+F(i,"Frome").city,destination:F(i,"To").address+" "+F(i,"To").city,name:K(i),email:M(i),phone:R(i),comment:U(i)})}catch(e){console.log(e),j.a.fail(e.message,1e3)}}})]}),Object(n.jsx)(H,{inputRef:ie})]}),Object(n.jsx)(_,{handleChange:function(e){G(Object(u.a)(Object(u.a)({},Z),{},Object(d.a)({},e.target.name,e.target.value||e.target.checked)))},options:Z}),Object(n.jsx)(de,{error:ne,order:q,custom:t,confirmation:C,handleSetError:oe}),Object(n.jsxs)("div",{className:"send-button-container",children:[Object(n.jsxs)("div",{className:"small-button-container",children:[Object(n.jsx)(p,{handleChange:ue,label:"Email",name:"email",value:q.email}),Object(n.jsx)(ae,{err:ne,disabled:!q.email||!C,handleClick:function(){if(q.email&&C)return function(e,t,a){return h.a.post("/api/email",{confirmation:e,options:t,email:a}).then((function(e){return e.data}))}(C,Z,q.email).then((function(e){return j.a.info(e,500)})).catch((function(e){return j.a.fail(e.response.data.error)}));j.a.fail("No confirmation found or recipients defined.",1e3)}})]}),Object(n.jsxs)("div",{className:"small-button-container",children:[Object(n.jsx)(p,{handleChange:ue,label:"SMS",name:"phone",value:q.phone}),Object(n.jsx)(Q,{err:ne,disabled:!q.phone||!C,phoneNumber:q.phone,msgBody:C})]}),Object(n.jsx)(re,{handleClick:function(){var e;try{(e=/(?<=L\xc4HT\xd6PAIKKA\n)(.*\s*)*(?=\n\nKIITOS VARAUKSESTANNE!)/.exec(C)[0])&&function(e,t,a){return h.a.post("/api/calendar",{entry:e,order:t,options:a}).then((function(e){return e.data}))}(e,q,Z).then((function(e){return j.a.info(e,500)})).catch((function(e){return j.a.fail(e.response.data.error)}))}catch(t){j.a.fail(t.message,1e3)}},err:ne})]}),Object(n.jsx)(s.a,{to:"/"})]})}var je=a(111);var me={checkPass:function(e){return h.a.post("/api/login",{pass:e}).then((function(t){return t.data.isCorrect&&function(e){localStorage.setItem("pass",e)}(e),t.data}))},getStoredPass:function(){return localStorage.getItem("pass")}},he=a.p+"static/media/paku24-logo.7602fc02.png",be=(a(226),a(264));function fe(e){var t=e.custom,a=e.handleChange,c=e.logged;return Object(n.jsxs)("div",{className:"logo",children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("img",{src:he,alt:"Logo",width:"125px"}),Object(n.jsx)("span",{className:"text",children:"CONFIRMATOR"})]}),c?Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(J.a,{style:{margin:0,alignSelf:"center"},control:Object(n.jsx)(be.a,{checked:t,onChange:a,color:"default"})})}):null]})}function Oe(e){var t=e.handleIsLoggedChange,a=(e.isLogged,Object(c.useState)("")),r=Object(l.a)(a,2),i=r[0],o=r[1],d=Object(c.useState)(!1),u=Object(l.a)(d,2),m=u[0],h=u[1],b=Object(c.useState)(!1),f=Object(l.a)(b,2),p=f[0],v=f[1],g=Object(s.g)(),y=Object(c.useCallback)((function(e){me.checkPass(e).then((function(e){var a=e.isCorrect,n=e.message,c=e.throttleTime;if(n&&(j.a.fail("".concat(n," Try again after ").concat(c/1e3," seconds."),c-400),h(!0),setTimeout((function(){h(!1)}),c)),!a)return v(!0);t(a),g.replace("/")})).catch((function(e){return console.log(e)}))}),[t,g]);return Object(n.jsx)("div",{style:{display:"flex",flexFlow:"row wrap",justifyContent:"center"},children:Object(n.jsxs)("div",{style:{width:"70%",padding:30,backgroundColor:"lightgrey"},children:[Object(n.jsx)("h3",{children:"Login!"}),Object(n.jsxs)("form",{children:[Object(n.jsx)(x.a,{error:p,helperText:p?"Incorrect password.":null,type:"password",required:!0,name:"password",onChange:function(e){return o(e.target.value)},label:"Password",variant:"outlined",size:"small"}),Object(n.jsx)(O.a,{type:"type",disabled:m,variant:"outlined",size:"small",onClick:function(e){e.preventDefault(),y(i)},children:"Login"})]})]})})}a(227);function xe(e){var t=e.error;return Object(n.jsxs)("div",{role:"alert",children:[Object(n.jsx)("p",{children:"Something went wrong:"}),Object(n.jsx)("pre",{style:{color:"red"},children:t.message})]})}var pe=function(){var e=Object(s.g)(),t=Object(s.h)();Object(c.useEffect)((function(){me.getStoredPass()?(console.log("You are already logged in."),e.replace("/"),o(!0)):e.replace("/login")}),[e]);var a=Object(c.useState)(!1),r=Object(l.a)(a,2),i=r[0],o=r[1],d=Object(c.useState)(!1),u=Object(l.a)(d,2),j=u[0],m=u[1],h=Object(s.i)("/custom");return Object(c.useEffect)((function(){return m(!!h)}),[t.pathname,h]),Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)(fe,{custom:j,handleChange:function(t){var a=t.target.checked;return m(a),a?e.push("/custom"):e.push("/")},logged:i}),Object(n.jsx)(je.ErrorBoundary,{FallbackComponent:xe,children:Object(n.jsxs)(s.d,{children:[Object(n.jsx)(s.b,{path:"/login",children:Object(n.jsx)(Oe,{isLogged:i,handleIsLoggedChange:function(e){o(e)}})}),Object(n.jsx)(s.b,{exact:!0,path:"/:slug*",children:Object(n.jsx)(ue,{custom:j})})]})})]})},ve=a(31);o.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(ve.a,{children:Object(n.jsx)(pe,{})})}),document.getElementById("root"))},34:function(e){e.exports=JSON.parse('[{"name":"Paku ja kuski","price":30},{"name":"Paku ja kuski kantoapuna","price":60},{"name":"Paku ja kaksi muuttomiest\xe4","price":90},{"name":"Paku ja mies","price":40},{"name":"Paku ja kaksi miest\xe4","price":70}]')},42:function(e,t,a){}},[[228,1,2]]]);
//# sourceMappingURL=main.a716a144.chunk.js.map