{"version":3,"sources":["components/Confirmator/Editor.js","components/Confirmator/OrderSettings.js","components/Confirmator/ValidationDisplay.js","components/Confirmator/withEditing.js","components/Confirmator/OrderContainers/RawOrderContainer.js","components/Confirmator/OrderContainers/TransformedOrderContainer.js","components/Confirmator/OrderOperations/TransformButton.js","components/Confirmator/OrderOperations/CopyButton.js","components/Confirmator/OrderOperations/TransformPanel.js","components/Confirmator/NewOrderButton.js","components/Confirmator/OrderPool/OrderPoolOpenerButton.js","components/Confirmator/OrderOperations/MessageBeforeButton.js","components/Confirmator/OrderOperations/CustomButton.js","services/tokens.js","services/interceptor.js","services/emailAPI.js","components/Confirmator/OrderOperations/ConfirmationEmailSenderButton.js","services/smsAPI.js","components/Confirmator/OrderOperations/ConfirmationSMSSenderButton.js","services/calendarAPI.js","services/orderPoolAPI.js","helpers/TextOrder.js","helpers/Order.js","components/Confirmator/OrderOperations/AddOrderToCalendarButton.js","components/Confirmator/OrderOperations/MainOperationsPanel.js","components/ResponsiveDialog.js","components/LoadingUntillDone.js","components/Confirmator/OrderPool/OrdersList.js","components/Confirmator/OrderPool/OrderPool.js","components/Confirmator/OrderPool/OrderPoolDialog.js","components/Confirmator/Confirmator.js","assets/paku24-logo.png","components/Header.js","services/login.js","components/Notification.js","components/Login.js","components/Register.js","services/logout.js","components/LogoutButton.js","components/Footer.js","App.js","index.js"],"names":["Editor","order","handleChange","margin","marginTop","marginLeftRight","marginLeft","marginRight","useState","dateTime","selectedDate","handleDateChange","useEffect","target","name","value","locale_en","weekStart","className","style","utils","DayjsUtils","locale","DateTimePicker","ampm","format","minutesStep","onChange","DialogProps","disableScrollLock","NativeSelect","paddingLeft","duration","fullWidth","serviceName","services","map","service","id","paymentType","paymentTypes","TextField","required","address","label","variant","size","multiline","destination","email","type","phone","TextareaAutosize","rowsMin","cols","comment","placeholder","CheckboxGroup","props","FormControl","hiddenLabel","FormLabel","component","RadioGroup","distance","FormControlLabel","control","Radio","color","Checkbox","checked","hsy","labelPlacement","altColorPalette","XL","ValidationMessages","validationArray","errStyle","v","isError","message","ValidationDisplay","shouldValidate","setValidationArray","validationAr","validator","isBefore","toISOString","Date","confirmationDateString","time","isEmpty","isMobilePhone","isEmail","someIsInvalid","some","borderTop","borderBottom","padding","withEditing","EditableComponent","NotEditableComponent","content","handleUpdate","rest","isEditable","setIsEditable","savedChanges","setSavedChanges","incomingChanges","setIncomingChanges","handleIncomingChanges","e","handleCancelClick","handleSaveClick","handleEditClick","Button","onClick","button","IconButton","width","RawOrderContainer","handleClick","rawOrderText","elementRef","ContainerWithEditing","ref","TransformedOrderContainer","transformedOrderText","length","split","line","index","TransformButton","text","fontSize","CopyButton","disabled","enqueueSnackbar","useSnackbar","tempTextarea","document","createElement","body","appendChild","current","innerText","defaultValue","select","execCommand","removeChild","copyToClipboard","autoHideDuration","TransformPanel","handleOrderTransformFromText","handleOrderTransformFromEditor","transformDisabled","copyDisabled","NewOrderButton","OrderPoolOpenerButton","orderPoolUrl","history","useHistory","push","MessageBeforeButton","CustomButton","isDisabled","grayScale","display","baseUrl","a","interceptor","axiosInstance","post","refreshTokens","axios","create","setupInterceptor","externalActions","interceptors","response","use","error","originalRequest","config","data","tokenService","notificate","logout","Error","status","setTimeout","Promise","reject","params","EMAIL","ConfirmationEmailSenderButton","statusText","changeStatus","buttonContent","sendConfirmationEmail","orderDetails","then","res","catch","err","sendSMS","SMS","ConfirmationSMSSenderButton","msg","addEventToCalendar","makeQueryArray","queryName","items","item","isLastItem","join","storeOrdersInSessionStorage","query","orders","resolve","sessionStorage","setItem","JSON","stringify","validUntil","now","getOrdersFromSessionStorage","parse","getItem","isStorageUpToDate","pages","options","deleted","forceUpdate","url","get","put","delete","confirm","remove","retrieve","cannotFind","TextOrder","textOrder","this","initialCleanup","dateRe","exec","date","replace","getFullYear","getMonth","getDate","beginMarker","beginIndex","indexOf","endIndex","paymentTypeField","slice","trim","nonWordChars","match","filter","c","endIndex2","p","includes","priceLine","startMarker","fromIndex","find","s","endMarkers","addresses","forEach","marker","rawAddress","replaceAll","cityField","postalCode","addressField","city","test","re","str","splitStr","noRebundantWhitespace","defaultOrder","distances","insideCapital","orderClassPropertyNames","Object","keys","Order","propertyName","toTimeString","priceXL","price","dd","mm","yyyy","timeInNumberType","dayOFWeek","getDay","dayOfMonth","endOfMonth","weekEndFeeApplicable","endOfMonthFeeApplicable","morningFeeApplicable","nightFeeApplicable","paymentFeeApplicable","fees","weekend","firstOrLastDayOfTheMonth","morning","night","bill","f","printed","repeat","fee","toUpperCase","amount","formattedStr","isJSON","orderArguments","transformed","servicePrice","printFees","console","CALENDAR","AddOrderToCalendarButton","orderId","entry","getEventForCalendar","orderPoolAPI","createdEvent","MainOperationsPanel","transformedOrder","handleResetClick","defaultStatuses","disable","sms","calendar","statuses","setStatuses","emailBlock","smsBlock","threeButtonsBlock","ResponsiveDialog","children","handleClose","theme","useTheme","fullScreen","useMediaQuery","breakpoints","down","Dialog","open","onClose","aria-labelledby","DialogContent","DialogActions","backgroundColor","LoadingUntillDone","loading","redirectComponent","OrdersList","handleExport","handleDeletion","handleLoadingMoreOrders","labelForDeletion","ordersWithStyles","setOrdersWithStyles","txtOrder","isNew","toDateString","confirmed","hidden","orderWithStyles","o","handleHideOrShow","jsonOrder","entries","fieldName","fieldValue","minHeight","fontWeight","toLocaleDateString","toLocaleTimeString","INBOX","TRASHCAN","OrderPool","setOrders","isLoading","setIsloading","currentTab","setCurrentTab","inbox","searchText","showOnlyNotConfirmed","trashcan","searchOptions","setSearchOptions","searchResults","setSearchResults","hasToUpdate","trigger","setForceUpdate","setPages","numberOfOrders","numberOfUnconfirmedOrders","makeSearch","val","bool","searchTarget","search","values","condition","filterConfirmed","toLowerCase","newPage","moreOrdersFromPool","concatenatedOrders","concat","filteredOrders","handleTabBarChange","dataset","tabname","ordersFromPool","data-tabname","prevOptsForCurTab","handleOnlyNotConfirmedSearch","OrderPoolDialog","goBack","Confirmator","rawOrder","setRawOrder","setTransformedOrder","default","setOrder","savedOrder","localStorage","transform","transformToText","rawOrderOrderContainerRef","useRef","transformedOrderContainerRef","handleOrderChange","changedOrder","handleRawOrderUpdate","rawO","setupOrderFromText","orderFromText","transO","path","scrollIntoView","smooth","Header","isLogged","to","src","logo","alt","axiosLoginInstance","credentials","loginWithCredentials","loginWithAccessToken","Notification","notification","alignItems","marginBottom","Login","setUser","flexItem","referrer","location","state","username","setUsername","password","setPassword","isButtonDisabled","setIsButtonDisabled","inputError","setInputError","setNotification","event","preventDefault","loginServi—Åe","user","letterSpacing","onSubmit","paddingBottom","height","flexFlow","justifyContent","Register","setName","setEmail","purpose","setPurpose","setResponse","setDisabled","sendRequestForAccess","rows","LogoutButton","Footer","logoutUser","paddingTop","fontFamily","logoutService","ErrorFallback","role","RedirectToLoginPageIfNotAuthenticated","currentLocation","pathname","redirectToLoginPage","App","userFromToken","FallbackComponent","notistackRef","React","createRef","ReactDOM","render","StrictMode","basename","action","key","closeSnackbar","maxSnack","dense","anchorOrigin","horizontal","vertical","getElementById"],"mappings":"0vBAUe,SAASA,EAAT,GAA0C,IAAxBC,EAAuB,EAAvBA,MAAOC,EAAgB,EAAhBA,aAChCC,EAAS,CACbC,UAAW,GAEPC,EAAkB,CACtBC,WAAY,EACZC,YAAa,GAIf,EAAyCC,mBAASP,EAAMQ,UAAxD,mBAAOC,EAAP,KAAqBC,EAArB,KAOA,OANAC,qBAAU,WACRV,EAAa,CAAEW,OAAQ,CAAEC,KAAM,WAAYC,MAAOL,OACjD,CAACA,IAEJM,IAAUC,UAAY,EAGpB,sBAAKC,UAAU,aAAaC,MAAO,CAAEf,UAAW,OAAhD,UACE,sBAAKc,UAAU,mCAAmCC,MAAOd,EAAzD,UACE,cAAC,IAAD,CAAyBe,MAAOC,IAAYC,OAAQN,IAApD,SACE,cAACO,EAAA,EAAD,CACEC,MAAM,EACNC,OAAO,mBACPC,YAAa,GACbP,MAAOd,EACPa,UAAU,gBACVJ,KAAK,WACLC,MAAOd,EAAMQ,SACbkB,SAAUhB,EACViB,YAAa,CAAEC,mBAAmB,OAItC,eAACC,EAAA,EAAD,CACEZ,UAAU,gBACVC,MAAK,2BAAOd,GAAP,IAAwB0B,YAAa,KAC1CjB,KAAK,WACLC,MAAK,OAAEd,QAAF,IAAEA,OAAF,EAAEA,EAAO+B,SACdL,SAAUzB,EALZ,UAOE,wBAAQa,MAAO,EAAf,gBACA,wBAAQA,MAAO,IAAf,kBACA,wBAAQA,MAAO,EAAf,gBACA,wBAAQA,MAAO,IAAf,kBACA,wBAAQA,MAAO,EAAf,gBACA,wBAAQA,MAAO,IAAf,kBACA,wBAAQA,MAAO,EAAf,gBACA,wBAAQA,MAAO,IAAf,kBACA,wBAAQA,MAAO,EAAf,gBACA,wBAAQA,MAAO,IAAf,kBACA,wBAAQA,MAAO,EAAf,gBACA,wBAAQA,MAAO,IAAf,kBACA,wBAAQA,MAAO,EAAf,gBACA,wBAAQA,MAAO,IAAf,kBACA,wBAAQA,MAAO,EAAf,gBACA,wBAAQA,MAAO,IAAf,kBACA,wBAAQA,MAAO,EAAf,gBACA,wBAAQA,MAAO,IAAf,kBACA,wBAAQA,MAAO,GAAf,uBAIJ,cAACe,EAAA,EAAD,CACEG,WAAS,EACTd,MAAOd,EACPa,UAAU,YACVJ,KAAK,cACLC,MAAK,OAAEd,QAAF,IAAEA,OAAF,EAAEA,EAAOiC,YACdP,SAAUzB,EANZ,SAQGiC,EAASC,KAAI,SAACC,GAAD,OACZ,wBAAyBtB,MAAOsB,EAAQvB,KAAxC,SACGuB,EAAQvB,MADEuB,EAAQC,SAMzB,cAACR,EAAA,EAAD,CACEG,WAAS,EACTd,MAAOd,EACPa,UAAU,YACVJ,KAAK,cACLC,MAAK,OAAEd,QAAF,IAAEA,OAAF,EAAEA,EAAOsC,YACdZ,SAAUzB,EANZ,SAQGsC,EAAaJ,KAAI,gBAAGtB,EAAH,EAAGA,KAAMwB,EAAT,EAASA,GAAT,OAChB,wBAAiBvB,MAAOD,EAAxB,SACGA,GADUwB,QAMjB,cAACG,EAAA,EAAD,CACER,WAAS,EACTd,MAAOhB,EACPe,UAAU,YACVwB,UAAQ,EACR5B,KAAK,UACLC,MAAK,OAAEd,QAAF,IAAEA,OAAF,EAAEA,EAAO0C,QACdhB,SAAUzB,EACV0C,MAAM,UACNC,QAAQ,WACRC,KAAK,UAGP,cAACL,EAAA,EAAD,CACER,WAAS,EACTc,WAAS,EACT5B,MAAOhB,EACPe,UAAU,YACVJ,KAAK,cACLC,MAAK,OAAEd,QAAF,IAAEA,OAAF,EAAEA,EAAO+C,YACdrB,SAAUzB,EACV0C,MAAM,cACNC,QAAQ,WACRC,KAAK,UAGP,cAACL,EAAA,EAAD,CACER,WAAS,EACTS,UAAQ,EACRvB,MAAOhB,EACPe,UAAU,YACVJ,KAAK,OACLC,MAAK,OAAEd,QAAF,IAAEA,OAAF,EAAEA,EAAOa,KACda,SAAUzB,EACV0C,MAAM,OACNC,QAAQ,WACRC,KAAK,UAGP,cAACL,EAAA,EAAD,CACER,WAAS,EACTd,MAAOhB,EACPe,UAAU,YACVJ,KAAK,QACLC,MAAK,OAAEd,QAAF,IAAEA,OAAF,EAAEA,EAAOgD,MACdtB,SAAUzB,EACVgD,KAAK,QACLN,MAAM,QACNC,QAAQ,WACRC,KAAK,UAGP,cAACL,EAAA,EAAD,CACER,WAAS,EACTd,MAAOhB,EACPe,UAAU,YACVwB,UAAQ,EACR5B,KAAK,QACLC,MAAK,OAAEd,QAAF,IAAEA,OAAF,EAAEA,EAAOkD,MACdxB,SAAUzB,EACV0C,MAAM,cACNC,QAAQ,WACRC,KAAK,UAGP,cAACM,EAAA,EAAD,CACEjC,MAAOhB,EACPe,UAAU,uBACVmC,QAAS,EACTC,KAAM,GACNxC,KAAK,UACLC,MAAK,OAAEd,QAAF,IAAEA,OAAF,EAAEA,EAAOsD,QACdC,YAAY,0BACZ7B,SAAUzB,O,0DCxKH,SAASuD,EAAcC,GACpC,IAAQxD,EAAwBwD,EAAxBxD,aAAcD,EAAUyD,EAAVzD,MAEtB,OACE,sBAAKiB,UAAU,qBAAf,UACE,eAACyC,EAAA,EAAD,CACEzC,UAAU,8BACV0C,aAAa,EACbd,KAAK,QAHP,UAKE,cAACe,EAAA,EAAD,CAAWC,UAAU,SAArB,uBACA,eAACC,EAAA,EAAD,CAAYhD,MAAOd,EAAM+D,SAAUrC,SAAUzB,EAA7C,UACE,cAAC+D,EAAA,EAAD,CACEnD,KAAK,WACLC,MAAM,gBACNmD,QAAS,cAACC,EAAA,EAAD,CAAOC,MAAM,YACtBxB,MAAM,gCAER,cAACqB,EAAA,EAAD,CACEnD,KAAK,WACLC,MAAM,iBACNmD,QAAS,cAACC,EAAA,EAAD,CAAOC,MAAM,YACtBxB,MAAM,iCAER,cAACqB,EAAA,EAAD,CACEnD,KAAK,WACLC,MAAM,uBACNmD,QAAS,cAACC,EAAA,EAAD,CAAOC,MAAM,YACtBxB,MAAM,4CAER,cAACqB,EAAA,EAAD,CACEnD,KAAK,WACLC,MAAM,uBACNmD,QAAS,cAACC,EAAA,EAAD,CAAOC,MAAM,YACtBxB,MAAM,gDAIZ,eAACe,EAAA,EAAD,CAAazC,UAAU,aAAa4B,KAAK,QAAzC,UACE,cAACmB,EAAA,EAAD,CACEnB,KAAK,QACL5B,UAAU,YACVgD,QACE,cAACG,EAAA,EAAD,CAAUC,QAASrE,EAAMsE,IAAK5C,SAAUzB,EAAckE,MAAM,YAE9DtD,KAAK,MACL8B,MAAM,aACN4B,eAAe,UAEjB,cAACP,EAAA,EAAD,CACE/C,UAAU,YACVgD,QACE,cAACG,EAAA,EAAD,CACEC,QAASrE,EAAMwE,gBACf9C,SAAUzB,EACVkE,MAAM,YAGVtD,KAAK,kBACL8B,MAAM,aACN4B,eAAe,UAEjB,cAACP,EAAA,EAAD,CACE/C,UAAU,YACVgD,QACE,cAACG,EAAA,EAAD,CAAUC,QAASrE,EAAMyE,GAAI/C,SAAUzB,EAAckE,MAAM,YAE7DtD,KAAK,KACL8B,MAAM,KACN4B,eAAe,gB,uCCzEzB,SAASG,EAAT,GAAkD,IAApBC,EAAmB,EAAnBA,gBACtBC,EAAW,CAAET,MAAO,OAE1B,OACE,mCACGQ,EAAgBxC,KAAI,SAAC0C,GACpB,OAAIA,EAAEC,QAEF,gCACE,uBAAM5D,MAAO0D,EAAb,UAAwBC,EAAEhE,KAA1B,OACCgE,EAAEE,UAFKF,EAAExC,IAMT,UAMA,SAAS2C,EAAT,GAAuD,IAA1BhF,EAAyB,EAAzBA,MAAOiF,EAAkB,EAAlBA,eACjD,EAA8C1E,mBAAS,IAAvD,mBAAOoE,EAAP,KAAwBO,EAAxB,KAEAvE,qBAAU,WACR,GAAIsE,EAAgB,CAClB,IAAME,EAAe,CACnB,CACE9C,GAAI,EACJxB,KAAM,gBACNiE,QAASM,IAAUC,SACjBrF,EAAMQ,SAAS8E,eACf,IAAIC,MAAOD,eAEbP,QAAQ,+CAAD,OACL,UAAG/E,EAAMwF,uBAAT,YAAmCxF,EAAMyF,OAAU,QAGvD,CACEpD,GAAI,EACJxB,KAAM,UACNiE,QAASM,IAAUM,QAAQ1F,EAAM0C,SACjCqC,QAAS,cAEX,CACE1C,GAAI,EACJxB,KAAM,cACNiE,SAAUM,IAAUO,cAAc3F,EAAMkD,MAAO,CAAC,QAAS,QAAS,UAClE6B,QAAQ,+BAAD,OAAiC/E,EAAMkD,OAAS,QAEzD,CACEb,GAAI,EACJxB,KAAM,QACNiE,SAAUM,IAAUQ,QAAQ5F,EAAMgD,OAClC+B,QAAQ,+BAAD,OAAiC/E,EAAMgD,OAAS,SAG3DkC,EAAmBC,MAEpB,CAACnF,EAAMQ,SAAUR,EAAMkD,MAAOlD,EAAM0C,QAAS1C,EAAMgD,MAAOiC,IAE7D,IAAMY,EAAgBlB,EAAgBmB,MAAK,SAACjB,GAAD,OAAOA,EAAEC,WASpD,OACE,mCACGG,GAAkBY,GACjB,qBAAK3E,MAVI,CACb6E,UAAW,iBACXC,aAAc,iBACdC,QAAS,gBACT/F,OAAQ,iBAMgBe,UAAU,yBAA9B,SACE,gCACE,cAAC,IAAD,IACA,cAACyD,EAAD,CAAoBC,gBAAiBA,W,gDCDlCuB,G,OAxEK,SAACC,EAAmBC,GAApB,OAA6C,YAI1D,IAHLC,EAGI,EAHJA,QACAC,EAEI,EAFJA,aACGC,EACC,0CACJ,EAAoChG,oBAAS,GAA7C,mBAAOiG,EAAP,KAAmBC,EAAnB,KACA,EAAwClG,mBAAS8F,GAAjD,mBAAOK,EAAP,KAAqBC,EAArB,KACA,EAA8CpG,mBAASmG,GAAvD,mBAAOE,EAAP,KAAwBC,EAAxB,KAMA,SAASC,EAAsBC,GAC7BF,EAAmBE,EAAEnG,OAAOE,OAG9B,SAASkG,IAPPH,EAAmBH,GASnBD,GAAeD,GAGjB,SAASS,IACPN,EAAgBC,GAChBN,EAAaM,GACbH,GAAeD,GAGjB,SAASU,IACPT,GAAeD,GAwCjB,OAAO,mCAAGA,EAlBN,qCACE,cAACL,EAAD,aACEE,QAASO,EACT3G,aAAc6G,GACVP,IAEN,sBAAKtF,UAAU,gBAAf,UACE,cAACkG,EAAA,EAAD,CAAQtE,KAAK,QAAQuE,QAASJ,EAA9B,oBAGA,cAACG,EAAA,EAAD,CAAQlG,UAAU,UAAU4B,KAAK,QAAQuE,QAASH,EAAlD,wBA3BJ,mCACE,cAACb,EAAD,aACEC,QAASA,EACTgB,OACE,+BACE,cAACC,EAAA,EAAD,CAAYzE,KAAK,QAAQuE,QAASF,EAAlC,SACE,cAAC,IAAD,CAAkBhG,MAAO,CAAEqG,MAAO,eAIpChB,WC9CC,SAASiB,EAAT,GAAuE,IAA1CC,EAAyC,EAAzCA,YAAaC,EAA4B,EAA5BA,aAAcC,EAAc,EAAdA,WAkB/DC,EAAuB1B,GAjBZ,SAAC,GAAD,IAAGjG,EAAH,EAAGA,aAAcoG,EAAjB,EAAiBA,QAAjB,OACf,cAAClD,EAAA,EAAD,CACEzB,SAAUzB,EACVa,MAAOuF,EACPnF,MAAO,CAAEf,UAAW,QACpBc,UAAU,YACVmC,QAAS,EACTC,KAAM,GACNE,YAAY,uBAII,SAAC,GAAD,IAAG8D,EAAH,EAAGA,OAAH,OAClB,sBAAKQ,IAAKF,EAAY1G,UAAU,yBAAhC,sBACYoG,QAId,OACE,cAACO,EAAD,CACE1G,MAAO,CAAEqG,MAAO,eAChBjB,aAAcmB,EACdpB,QAASqB,I,OCpBA,SAASI,EAAT,GAIX,IAHFH,EAGC,EAHDA,WACAF,EAEC,EAFDA,YACAM,EACC,EADDA,qBAiCMH,EAAuB1B,GA/BZ,SAAC,GAAD,IAAGjG,EAAH,EAAGA,aAAcoG,EAAjB,EAAiBA,QAAjB,OACf,cAAClD,EAAA,EAAD,CACEzB,SAAUzB,EACVa,MAAOuF,EACPwB,IAAKF,EACLzG,MAAO,CAAEf,UAAW,QACpBc,UAAU,YACVmC,QAAS,EACTC,KAAM,GACNE,YAAY,0BAII,SAAC,GAAD,IAAG8C,EAAH,EAAGA,QAASgB,EAAZ,EAAYA,OAAZ,OAClB,sBACEQ,IAAKF,EACLzG,MAAO,CAAEqG,MAAOQ,GAAwB,OAAQ5H,UAAW,QAC3Dc,UAAU,yBAHZ,UAKsB,IAAnBoF,EAAQ2B,OACP,oBAEA,qBAAK/G,UAAU,6BAAf,SACGoF,EAAQ4B,MAAM,MAAM9F,KAAI,SAAC+F,EAAMC,GAAP,OACvB,8BAAkBD,GAARC,QAIfd,QAIL,OACE,cAACO,EAAD,CAAsBtB,aAAcmB,EAAapB,QAAS0B,I,sBCzC/C,SAASK,GAAT,GAAwE,IAA7CX,EAA4C,EAA5CA,YAA4C,IAA/BY,YAA+B,MAAxB,YAAwB,EAAR9B,EAAQ,sCACpF,OACE,eAACY,EAAA,EAAD,yBACElG,UAAU,6BACV2B,QAAQ,WACRC,KAAK,QACL3B,MAAO,CAAEoH,SAAU,SAAUrC,QAAS,OACtCmB,QAAS,kBAAMK,MACXlB,GANN,cAQE,cAAC,IAAD,IACC8B,M,yBCVQ,SAASE,GAAT,GAA+C,IAAzBZ,EAAwB,EAAxBA,WAAYa,EAAY,EAAZA,SACvCC,EAAoBC,cAApBD,gBAiBR,OACE,eAACtB,EAAA,EAAD,CACEqB,SAAUA,EACVvH,UAAU,6BACV2B,QAAQ,WACRC,KAAK,QACLuE,QAXJ,YAVA,WACE,IAAMuB,EAAeC,SAASC,cAAc,YAC5CD,SAASE,KAAKC,YAAYJ,GAE1BA,EAAa7H,MAAQ6G,EAAWqB,QAAQC,WAAatB,EAAWqB,QAAQE,aACxEP,EAAaQ,SACbP,SAASQ,YAAY,QACrBR,SAASE,KAAKO,YAAYV,GAI1BW,GACAb,EAAgB,UAAW,CAAEc,iBAAkB,OAI/C,kBAOO,cAAC,KAAD,OC3BI,SAASC,GAAT,GAMX,IALFC,EAKC,EALDA,6BACAC,EAIC,EAJDA,+BACAC,EAGC,EAHDA,kBACAC,EAEC,EAFDA,aACAjC,EACC,EADDA,WAEA,OACE,qBAAK1G,UAAU,mBAAf,SACE,sBAAKA,UAAU,QAAf,UACE,cAACsH,GAAD,CAAYC,SAAUoB,EAAcjC,WAAYA,IAChD,cAACS,GAAD,CACEC,KAAK,YACLG,SAAUmB,EACVlC,YAAagC,IAGf,cAACrB,GAAD,CACEC,KAAK,cACLZ,YAAaiC,S,yBCnBR,SAASG,GAAT,GAAqD,IAA3BpC,EAA0B,EAA1BA,YAAaxG,EAAa,EAAbA,UACpD,OACE,eAACkG,EAAA,EAAD,CAAQlG,UAAWA,EAAW2B,QAAQ,YAAYC,KAAK,QAAQuE,QAASK,EAAxE,uBACY,cAAC,KAAD,OCHD,SAASqC,GAAT,GAA6D,IAA5B7I,EAA2B,EAA3BA,UAAW8I,EAAgB,EAAhBA,aACnDC,EAAUC,cAMhB,OACE,mCACE,cAAC9C,EAAA,EAAD,CACEtE,KAAK,QACL5B,UAAWA,EACX2B,QAAQ,YACRwE,QAVkB,WACtB4C,EAAQE,KAAKH,IAKX,0BCXS,SAASI,GAAT,GAA4D,IAA7B9B,EAA4B,EAA5BA,KAAMpH,EAAsB,EAAtBA,UAAcsF,EAAQ,oCACxE,OACE,6CAAKtF,UAAS,kBAAaA,IAAiBsF,GAA5C,aACG8B,K,yBCFQ,SAAS+B,GAAT,GAMX,IALF3C,EAKC,EALDA,YACA4C,EAIC,EAJDA,WACAC,EAGC,EAHDA,UACAjE,EAEC,EAFDA,QACApF,EACC,EADDA,UAEMC,EAAQoJ,GAAa,CAAEnG,MAAO,QACpC,OACE,cAACgD,EAAA,EAAD,CACEqB,SAAU6B,EACVpJ,UAAWA,EACX2B,QAAQ,YACRC,KAAK,QACLuE,QAASK,EALX,SAOE,sBAAMvG,MAAK,aAAIqJ,QAAS,QAAWrJ,GAAnC,SAA6CmF,M,wBCf7CmE,GAAU,a,8CAEhB,sBAAAC,EAAA,sEACQC,GAAYC,cAAcC,KAAKJ,IADvC,uBAEQE,GAAYC,cAAcC,KAA1B,UAAkCJ,GAAlC,YAFR,4C,sBAKe,QAAEK,c,6CCNXF,GAAgBG,KAAMC,SA+Bb,QAAEJ,iBAAeK,iBA7BhC,SAA0BC,GACxBN,GAAcO,aAAaC,SAASC,KAClC,SAACD,GAAD,OAAcA,IADhB,+BAAAV,EAAA,MAEE,WAAOY,GAAP,eAAAZ,EAAA,yDACQa,EAAkBD,EAAME,OACI,yBAA9BF,EAAMF,SAASK,KAAKH,MAF1B,gCAIUI,GAAaZ,gBAJvB,gCAKWF,GAAcW,IALzB,UAQkC,yBAA9BD,EAAMF,SAASK,KAAKH,OACU,yBAA9BA,EAAMF,SAASK,KAAKH,OACU,0BAA9BA,EAAMF,SAASK,KAAKH,OACU,0BAA9BA,EAAMF,SAASK,KAAKH,OACU,0BAA9BA,EAAMF,SAASK,KAAKH,MAZxB,sBAcIJ,EAAgBS,aAChBT,EAAgBU,SACV,IAAIC,MAAM,UAhBpB,cAkBgC,MAA1BP,EAAMF,SAASU,QACjBC,YAAW,kBAAM,OAAM,MAnB3B,kBAqBSC,QAAQC,OAAOX,IArBxB,4CAFF,yDCNIb,GAAU,a,8CAOD,WAAqCyB,GAArC,eAAAxB,EAAA,sEACUC,GAAYC,cAAcC,KAA1B,UAClBJ,GADkB,sBAErByB,GAHW,cACPd,EADO,yBAKNA,EAASK,MALH,4C,sBCFf,IAAMU,GAAQ,QAEC,SAASC,GAAT,GAQX,IAPFnJ,EAOC,EAPDA,MACAhD,EAMC,EANDA,MACA+H,EAKC,EALDA,qBACAqE,EAIC,EAJDA,WACA/B,EAGC,EAHDA,WACAgC,EAEC,EAFDA,aACApL,EACC,EADDA,UAEQwH,EAAoBC,cAApBD,gBAyBR,IAAM6D,EAAgBF,GACpB,qCACE,wCADF,IACoB,cAAC,KAAD,OAItB,OACE,cAAChC,GAAD,CACEnJ,UAAWA,EACXoJ,WAAYA,EACZC,UAA0B,OAAf8B,EACX3E,YAlCJ,WACE,OAAIzE,GAAS+E,GACXsE,EAAaH,GAAO,WAAW,GDbtB,SAAf,mCCcaK,CAAsB,CAC3BC,aAAczE,EACd/H,QACAgD,UAECyJ,MAAK,SAACC,GACLL,EAAaH,GAAO,QAAQ,GAC5BzD,EAAgBiE,EAAI3H,YAErB4H,OAAM,SAACC,GACc,WAAhBA,EAAI7H,UACRsH,EAAaH,GAAO,SAAS,GAC7BzD,EAAgBmE,EAAIzB,SAASK,KAAKH,MAAO,CAAEzI,QAAS,eAGnD6F,EAAgB,+CAAgD,CACrE7F,QAAS,aAgBTyD,QAASiG,I,yBCrDT9B,GAAU,WAOD,SAAeqC,GAA9B,mC,8CAAe,WAAuBZ,GAAvB,eAAAxB,EAAA,sEACUC,GAAYC,cAAcC,KAAKJ,GAASyB,GADlD,cACPd,EADO,yBAENA,EAASK,MAFH,4C,sBCHf,IAAMsB,GAAM,MAEG,SAASC,GAAT,GAOX,IANF7J,EAMC,EANDA,MACA6E,EAKC,EALDA,qBACAqE,EAIC,EAJDA,WACA/B,EAGC,EAHDA,WACAgC,EAEC,EAFDA,aACApL,EACC,EADDA,UAEQwH,EAAoBC,cAApBD,gBADP,4CAGD,gCAAAgC,EAAA,oEAEUuC,EAAMjF,KACD7E,EAHf,uBAIMmJ,EAAaS,GAAK,WAAW,GAJnC,SAK6BD,GAAQ,CAAEG,MAAK9J,UAL5C,OAKYiI,EALZ,OAMMkB,EAAaS,GAAK,QAAQ,GAC1BrE,EAAgB,GAAD,OAAI0C,EAASpG,UAPlC,4DAUwB,WAAhB,KAAIA,QAVZ,mDAWIsH,EAAaS,GAAK,SAAS,GAC3BrE,EAAe,UAAC,KAAI0C,gBAAL,aAAC,EAAcK,KAAKH,MAAO,CAAEzI,QAAS,UAZzD,2DAHC,sBAmBD,IAAM0J,EAAgBF,GACpB,qCACE,wCADF,IACoB,cAAC,KAAD,OAItB,OACE,cAAChC,GAAD,CACEnJ,UAAWA,EACXoJ,WAAYA,EACZC,UAA0B,OAAf8B,EACX3E,YA9BH,2CA+BGpB,QAASiG,I,yBC5CT9B,GAAU,gBASD,SAAeyC,GAA9B,mC,8CAAe,WAAkChB,GAAlC,eAAAxB,EAAA,sEACUC,GAAYC,cAAcC,KAAKJ,GAASyB,GADlD,cACPd,EADO,yBAENA,EAASK,MAFH,4C,sBCRf,IAAMhB,GAAU,kBAMhB,SAAS0C,GAAeC,EAAWC,GACjC,OAAOA,EACJjL,KAAI,SAACkL,EAAMlF,GACV,IAAMmF,EAAanF,IAAUiF,EAAMpF,OAAS,EAC5C,MAAM,GAAN,OAAUmF,EAAV,cAAyBE,GAAzB,OAAgCC,EAAa,GAAK,QAEnDC,KAAK,IAGV,SAASC,GAAT,GAAyD,IAAlBC,EAAiB,EAAjBA,MAAOC,EAAU,EAAVA,OAC5C,OAAO,IAAI3B,SAAQ,SAAC4B,GAAD,OACjBA,EACEC,eAAeC,QAAf,qBACgBJ,GACdK,KAAKC,UAAU,CACbC,WAAYzI,KAAK0I,MAAQ,IACzBP,gBAOV,SAASQ,GAA4BT,GACnC,OAAO1B,QAAQ4B,UAAUlB,MAAK,kBAC5BqB,KAAKK,MAAMP,eAAeQ,QAAf,qBAAqCX,QAIpD,SAASY,GAAkBZ,GACzB,OAAO1B,QAAQ4B,QACZ,WACC,IAEE,OADuBG,KAAKK,MAAMP,eAAeQ,QAAf,qBAAqCX,KAA/DO,WACYzI,KAAK0I,MACzB,SACA,OAAO,GALV,I,8CAiBL,kDAAAxD,EAAA,yDAAmB6D,EAAnB,+BAA2B,CAAC,GAAIC,EAAhC,+BAA0C,CAAEC,SAAS,EAAOC,aAAa,GAC/DD,EAAyBD,EAAzBC,QAASC,EAAgBF,EAAhBE,YAEXhB,EAHR,UAGmBe,EAAU,eAAiB,gBAH9C,YAGiEtB,GAC7D,QACAoB,IALJ,MAQOG,GARP,qCAQ6BJ,GAAkBZ,GAR/C,6EASWS,GAA4BT,GAAOhB,MAAK,SAACjB,GAAD,OAAUA,EAAKkC,WATlE,eAaQgB,EAbR,UAaiBlE,GAbjB,aAa6BiD,GAb7B,kBAeS/C,GAAYC,cAAcgE,IAAID,GAAKjC,KAAnC,uCAAwC,WAAOC,GAAP,iBAAAjC,EAAA,sEAC1BiC,QAD0B,IAC1BA,OAD0B,EAC1BA,EAAKlB,KAAhBkC,EADqC,EACrCA,OADqC,SAEvCF,GAA4B,CAAEC,QAAOC,WAFE,gCAItCA,GAJsC,2CAAxC,wDAfT,6C,oEAuBA,WAAuBrL,GAAvB,SAAAoI,EAAA,+EACSC,GAAYC,cAChBiE,IADI,UACGpE,GADH,oBACsBnI,IAC1BoK,MAAK,SAACC,GAAD,cAASA,QAAT,IAASA,OAAT,EAASA,EAAKlB,SAHxB,4C,oEAOA,WAAsBnJ,GAAtB,eAAAoI,EAAA,sEACyBC,GAAYC,cAAckE,OAA1B,UAAoCrE,GAApC,mBAAsDnI,IAD/E,cACQ8I,EADR,gCAESA,QAFT,IAESA,OAFT,EAESA,EAAUK,MAFnB,4C,oEAKA,WAAwBnJ,GAAxB,eAAAoI,EAAA,sEACyBC,GAAYC,cAAciE,IAA1B,UAAiCpE,GAAjC,qBAAqDnI,IAD9E,cACQ8I,EADR,gCAESA,QAFT,IAESA,OAFT,EAESA,EAAUK,MAFnB,4C,sBAKe,QAAEmD,I,4CAAKG,Q,6CAASC,O,6CAAQC,S,4FC3FvC,SAASC,GAAWpO,GAClB,MAAM,eAAN,OAAsBA,G,IAGHqO,G,WACnB,WAAYC,GAAY,qBACtBC,KAAKD,UAAYD,EAAUG,eAAeF,G,2CAG5C,WACE,IAAMG,EAAS,qDAAqDC,KAClEH,KAAKD,WAGP,IAAKG,EAAQ,MAAM,IAAI1D,MAAMqD,GAAW,SAExC,IAAMO,EAAO,IAAIjK,KAAJ,UAAY+J,EAAO,GAAGG,QAAQ,cAAe,IAA7C,MACPhK,EAAO,UAAU8J,KAAKH,KAAKD,WAAW,GAQ5C,OANiB,IAAI5J,KAAJ,gBACfiK,EAAKE,cADU,iBAEfF,EAAKG,WAAa,EAFH,iBAGfH,EAAKI,UAHU,iBAIfnK,M,oBAKJ,WACE,IAAM1D,EAAW,sBAAsBwN,KAAKH,KAAKD,WAEjD,IAAKpN,EAAU,MAAM,IAAI6J,MAAMqD,GAAW,aAE1C,OAAOlN,EAAS,K,uBAGlB,WACE,IAAM8N,EAAc,iBAGdC,EAAaV,KAAKD,UAAUY,QAAQF,GAAeA,EAAY7H,OAC/DgI,EAAWZ,KAAKD,UAAUY,QAHd,SAKZE,EAAmBb,KAAKD,UAAUe,MAAMJ,EAAYE,GAAUG,OAE9DC,EAAeH,EAClBI,MAAM,QACNC,QAAO,SAACC,GAAD,MAAa,MAANA,GAAmB,MAANA,GAAmB,SAANA,KAErCC,EAAYP,EAAiBF,QAAQK,EAAa,GAAGD,QAErD7N,EAAc2N,EAAiBC,MAAM,EAAGM,GAAWL,OAEzD,IAAK7N,EAAa,MAAM,IAAIsJ,MAAMqD,GAAW,iBAG7C,IAAK1M,EAAaJ,KAAI,SAACsO,GAAD,OAAOA,EAAE5P,QAAM6P,SAASpO,GAC5C,MAAM,IAAIsJ,MAAM,6BAElB,OAAOtJ,I,4BAGT,WACE,IAAMwN,EAAaV,KAAKD,UAAUY,QAAQ,kBACpCC,EAAWZ,KAAKD,UAAUY,QAAQ,6BAClCY,EAAYvB,KAAKD,UAAUe,MAAMJ,EAAYE,GAGnD,OADcW,GAAaA,EAAUN,MAD1B,OACoC,K,uBAIjD,WACE,IAAMO,EAAc,YAEdC,EAAYzB,KAAKD,UAAUY,QAAQa,GAAeA,EAAY5I,OAC9DgI,EAAWZ,KAAKD,UAAUY,QAFd,eAGZ9N,EAAcmN,KAAKD,UAAUe,MAAMW,EAAWb,GAAUG,OAE9D,IAAKlO,EACH,MAAM,IAAI2J,MAAMqD,GAAW,iBAM7B,IAFgB/M,EAAS4O,MAAK,SAACC,GAAD,OAAOA,EAAElQ,OAASoB,KAElC,MAAM,IAAI2J,MAAM,6BAE9B,OAAO3J,I,qBAGT,WAAiB,IAAD,OAER+O,EAAa,CAAC,eAAgB,QAC9BC,EAAY,GA6ClB,MA/CqB,CAAC,kBAAmB,iBAI5BC,SAAQ,SAACC,EAAQhJ,GAC5B,IAAM2H,EAAa,EAAKX,UAAUY,QAAQoB,GAAUA,EAAOnJ,OACrDgI,EAAW,EAAKb,UAAUY,QAAQiB,EAAW7I,IAE7CiJ,EAAa,EAAKjC,UACrBe,MAAMJ,EAAYE,GAClBqB,WAAW,IAAK,IAChBlB,OAEGmB,EAAYF,EAAWlB,MAAM,EAAGkB,EAAWrB,QAAQ,QAGrDwB,EAAaH,EAAWf,MAAM,SAClCkB,EAAcA,GAAcA,EAAW,IAAO,GAE9C,IAAMC,EAAeJ,EAAWlB,MAAMkB,EAAWrB,QAAQ,OAAS,MAAM/H,QAEpEyJ,EAAOH,EAAUjB,MAAM,OAC3BoB,EAAOA,GAAQA,EAAK,GACpB,IAAI/O,EAAU8O,EAAa/B,QAAQ8B,EAAY,IAmB/C,GAlBA7O,EAAUA,GAAW,OAEI,MAAMgP,KAAKF,IAKjCA,EAAad,SAASa,IAAeC,EAAaxJ,OAAS,MAE5DtF,EAAU4O,EAAU7B,QAAQ8B,EAAY,IAExCE,GADAA,EAAOD,EAAanB,MAAM,SACXoB,EAAK,IAGlB/O,EAAQgO,SAASe,KACnB/O,EAAUA,EAAQ+M,QAAQgC,EAAM,KAGpB,IAAVtJ,IAAgBzF,EAAS,MAAM,IAAIkJ,MAAMqD,GAAW,YAExDgC,EAAU/G,KAAK,UAAGxH,EAAH,aAAe6O,EAAf,YAA6BE,GAAOhC,QAAQ,OAAQ,KAAKU,WAGnEc,I,mBAGT,WACE,OAAO7B,KAAK6B,UAAU,K,uBAGxB,WAGE,OADA,YAAwB7B,KAAK6B,UAA7B,Q,gBAIF,WACE,IAAMpB,EAAc,SAGdC,EAAaV,KAAKD,UAAUY,QAAQF,GAAeA,EAAY7H,OAC/DgI,EAAWZ,KAAKD,UAAUY,QAHd,SAKZlP,EAAOuO,KAAKD,UAAUe,MAAMJ,EAAYE,GAAUG,OAExD,IAAKtP,EAAM,MAAM,IAAI+K,MAAMqD,GAAW,SAEtC,OAAOpO,I,iBAGT,WAEE,IAAMmC,EAAQ,6aAA6auM,KACzbH,KAAKD,WAGP,IAAKnM,EAAO,MAAM,IAAI4I,MAAMqD,GAAW,UAEvC,OAAOjM,EAAM,K,iBAGf,WAEE,IAAME,EAAQ,yDAAyDqM,KACrEH,KAAKD,WAGP,IAAKjM,EAAO,MAAM,IAAI0I,MAAMqD,GAAW,UAEvC,OAAO/L,EAAM,GAAGiN,S,mBAGlB,WACE,IAAI7M,EAAU,yBAAyBiM,KAAKH,KAAKD,WACjD7L,EAAUA,EAAUA,EAAQ,GAAK,GAEjC,IAAMqO,EAAK,4FAOX,OANeA,EAAGpC,KAAKjM,KAGrBA,EAAUA,EAAQmM,QAAQkC,EAAI,KAGzBrO,K,6BAOT,SAAsBsO,GACpB,IAAMC,EAAWD,EAAI3J,MAAM,MACrB6J,EAAwB,GAO9B,OANAD,EAASX,SAAQ,SAAChJ,GAAD,OAAU4J,EAAsB5H,KAAKhC,EAAKiI,WAC5C2B,EACZvE,KAAK,MACL8D,WAAW,mDAAY,IACvBA,WAAW,2BAA4B,Q,eClNxCU,GAAe,CACnBvR,SAAU,IAAI+E,KACdxD,SAAU,EACVE,YAAaC,EAAS,GAAGrB,KACzByB,YAAaC,EAAa,GAAG1B,KAC7B6B,QAAS,GACTK,YAAa,GACblC,KAAM,GACNmC,MAAO,GACPE,MAAO,GACPI,QAAS,GACTS,SAAUiO,GAAUC,cACpB3N,KAAK,EACLE,iBAAiB,EACjBC,IAAI,GAEAyN,GAA0BC,OAAOC,KAAKL,IAEvBM,G,WACnB,WAAYrS,GAAQ,yBAAD,EAAC,eACSkS,IADV,IACjB,2BAAoD,CAAC,IAAD,EAAzCI,EAAyC,QAClDlD,KAAKkD,GAAL,UAAqBtS,EAAMsS,UAA3B,QAA4CP,GAAaO,IAF1C,8BAIjBlD,KAAK5O,SAAW,IAAI+E,KAAKvF,EAAMQ,U,uCAGjC,WACE,OAAO4O,KAAK5O,SAAS+R,eAAerC,MAAM,EAAG,K,wBAG/C,WAAoB,IAAD,OACX9N,EAAUF,EAAS4O,MAAK,SAACC,GAAD,OAAOA,EAAElQ,OAAS,EAAKoB,eACrD,OAAOmN,KAAK3K,GAAKrC,EAAQoQ,QAAUpQ,EAAQqQ,Q,yBAG7C,WACE,MAAM,GAAN,OAAUrD,KAAK5O,SAAS8E,cAAc2C,MAAM,KAAK,GAAjD,YAAuDmH,KAAK3J,Q,kCAG9D,WACE,IAAIiN,EAAKtD,KAAK5O,SAASoP,UACnB+C,EAAKvD,KAAK5O,SAASmP,WAAa,EAC9BiD,EAAOxD,KAAK5O,SAASkP,cAS3B,OAPIgD,EAAK,KACPA,EAAE,WAAOA,IAEPC,EAAK,KACPA,EAAE,WAAOA,IAGL,GAAN,OAAUD,EAAV,YAAgBC,EAAhB,YAAsBC,K,gBAGxB,WACE,IAAMC,EAA6C,EAA1BzD,KAAK3J,KAAKwC,MAAM,KAAK,GAExC6K,EAAY1D,KAAK5O,SAASuS,SAC1BC,EAAa5D,KAAK5O,SAASoP,UAC3BqD,EAAa,CACjB,IAAI1N,KAAK6J,KAAK5O,SAASkP,cAAeN,KAAK5O,SAASmP,WAAa,EAAG,GAAGC,UACvE,GAGIsD,EAAqC,IAAdJ,GAAiC,IAAdA,EAC1CK,GACHD,GAAwBD,EAAWvC,SAASsC,GACzCI,EAAuBP,EAAmB,EAC1CQ,EAAqBR,EAAmB,GACxCS,EACiB,UAArBlE,KAAK9M,aACgB,mBAArB8M,KAAK9M,aACgB,+BAArB8M,KAAK9M,YAEP,MAAO,CACL4Q,GAAwBK,GAAKC,QAC7BL,GAA2BI,GAAKE,yBAChCL,GAAwBG,GAAKG,QAC7BL,GAAsBE,GAAKI,MAC3BL,GAAwBC,GAAKK,MAC7BtD,QAAO,SAACuD,GAAD,OAAa,IAANA,O,uBAGlB,WACE,IAEIC,EAFa,yBAEMC,OAAO3E,KAAKmE,KAAKvL,QAMxC,OALAoH,KAAKmE,KAAKrC,SAAQ,SAAC8C,GAEjBF,GADAA,EAAUA,EAAQrE,QAAQ,WAAYuE,EAAInT,KAAKoT,gBAC7BxE,QAAQ,aAAhB,UAAiCuE,EAAIE,OAArC,cAGLJ,K,kCAGT,SAA2BK,EAAcvD,GACvC,OAAOuD,EAAajE,MAAMiE,EAAapE,QAAQa,M,gCAGjD,SAA0BvI,GACxB,OAAO,IAAI0D,SAAQ,SAAC4B,GACdyG,aAAO/L,IACTsF,EAAQ,IAAI0E,EAAMvE,KAAKK,MAAM9F,KAG/B,IAL8B,EAKxBgM,EAAiB,GACjBlF,EAAY,IAAID,GAAU7G,GANF,eAOH6J,IAPG,IAO9B,2BAAoD,CAAC,IAA1CI,EAAyC,QAClD+B,EAAe/B,GAAgBnD,EAAUmD,IARb,8BAU9B3E,EAAQ,IAAI0E,EAAMgC,S,qBAItB,WACE,OAAO,IAAIhC,EAAMN,M,6BAGnB,SAAuB/R,EAAO0L,GAC5B,IAAI4I,EACJ,IACEA,EAAW,4BACftU,EAAMwF,uBADS,8BAGXxF,EAAMyF,KAHK,wCAKfzF,EAAM+B,SALS,cAKK/B,EAAMuU,aALX,qBAK+BvU,EAAMiC,YALrC,yBAOfjC,EAAMsC,aAPS,OAOKtC,EAAMwU,YAPX,gCASfxU,EAAM0C,QATS,aAUf1C,EAAM+C,YAAYiF,OAAS,EAA3B,oCAA6ChI,EAAM+C,YAAnD,MAAqE,GAVtD,iBAWf/C,EAAMa,KAXS,aAYfb,EAAMgD,MAAN,4BAA6BhD,EAAMgD,MAAnC,MAA+C,GAZhC,oBAafhD,EAAMkD,MAbS,aAcflD,EAAMsD,QAAN,0BAAgCtD,EAAMsD,QAAtC,MAAoD,IAChDoI,EAAW,2BACX,MAAOkB,GACP6H,QAAQpJ,MAAMuB,GACdlB,EAAWkB,EAAI7H,SAEjB,OAAOuP,M,KC5ILI,GAAW,WAEF,SAASC,GAAT,GAQX,IAPF3U,EAOC,EAPDA,MACA4U,EAMC,EANDA,QACA7M,EAKC,EALDA,qBACAqE,EAIC,EAJDA,WACA/B,EAGC,EAHDA,WACAgC,EAEC,EAFDA,aACApL,EACC,EADDA,UAEQwH,EAAoBC,cAApBD,gBADP,4CAGD,gCAAAgC,EAAA,oEAEUoK,EAAQxC,GAAMyC,oBAAoB/M,EAAsB/H,EAAM0C,UAFxE,wBAIM2J,EAAaqI,GAAU,WAAW,GAJxC,SAK6BzH,GAAmB,CACxC4H,QACA7U,QACAuT,KAAMvT,EAAMuT,OARpB,UAKYpI,EALZ,QAUUyJ,EAVV,kCAUyBG,GAAajG,QAAQ8F,GAV9C,QAWMvI,EAAaqI,GAAU,QAAQ,GAC/BjM,EAAgB,GAAD,OAAI0C,EAASpG,QAAb,aAAyBoG,EAAS6J,eAZvD,6DAewB,WAAhB,KAAIjQ,QAfZ,mDAgBIsH,EAAaqI,GAAU,SAAS,GAChCjM,EAAe,UAAC,KAAI0C,gBAAL,aAAC,EAAcK,KAAKH,MAAO,CAAEzI,QAAS,UAjBzD,2DAHC,sBAwBD,IAAM0J,EAAgBF,GACpB,qCACE,uCADF,IACmB,cAAC,KAAD,OAIrB,OACE,cAAChC,GAAD,CACEnJ,UAAWA,EACXoJ,WAAYA,EACZC,UAA0B,OAAf8B,EACX3E,YAnCH,2CAoCGpB,QAASiG,I,OC9CA,SAAS2I,GAAT,GAMX,IALFjV,EAKC,EALDA,MACA4U,EAIC,EAJDA,QACAM,EAGC,EAHDA,iBACAC,EAEC,EAFDA,iBACApL,EACC,EADDA,aAEMqL,EAAkB,CACtBpS,MAAO,CACL6I,OAAQ,KACRwJ,SAAS,GAEXC,IAAK,CACHzJ,OAAQ,KACRwJ,SAAS,GAEXE,SAAU,CACR1J,OAAQ,KACRwJ,SAAS,IAGb,EAAgC9U,mBAAS6U,GAAzC,mBAAOI,EAAP,KAAiBC,EAAjB,KAEA,SAASpJ,EAAaxL,EAAMgL,EAAQwJ,GAClCI,EAAY,2BAAKD,GAAN,kBAAiB3U,EAAO,CAAEgL,SAAQwJ,cAqE/C,OACE,sBAAKpU,UAAU,mBAAf,UAnEF,WACE,IAAMoJ,EAAamL,EAASxS,MAAMqS,WAAarV,EAAMgD,OAASkS,EAAiB7M,MAC/E,OACE,sBAAKpH,UAAU,QAAf,UACE,cAACkJ,GAAD,CACElJ,UAAS,mBAAcoJ,GAAc,cACrChC,KAAI,oBAAerI,EAAMgD,SAE3B,cAACmJ,GAAD,CACElL,UAAU,WACV+B,MAAOhD,EAAMgD,MACbhD,MAAOA,EACPoM,WAAYoJ,EAASxS,MAAM6I,OAC3BxB,WAAYA,EACZtC,qBAAsBmN,EAAiB7M,KACvCgE,aAAcA,OAqDjBqJ,GA/CL,WACE,IAAMrL,EAAamL,EAASF,IAAID,WAAarV,EAAMkD,OAASgS,EAAiB7M,MAC7E,OACE,sBAAKpH,UAAU,QAAf,UACE,cAACkJ,GAAD,CACElJ,UAAS,mBAAcoJ,GAAc,cACrChC,KAAI,kBAAarI,EAAMkD,SAEzB,cAAC6J,GAAD,CACE9L,UAAU,WACVmL,WAAYoJ,EAASF,IAAIzJ,OACzBxB,WAAYA,EACZnH,MAAOlD,EAAMkD,MACb6E,qBAAsBmN,EAAiB7M,KACvCgE,aAAcA,OAkCjBsJ,GA5BL,WACE,IAAMtL,EAAamL,EAASD,SAASF,UAAYH,EAAiB7M,KAClE,OACE,sBAAKpH,UAAU,QAAf,UACE,cAAC4I,GAAD,CACE5I,UAAU,cACVwG,YAAa,WACXgO,EAAYL,GACZD,OAGJ,cAACrL,GAAD,CAAuB7I,UAAU,cAAc8I,aAAcA,IAC7D,cAAC4K,GAAD,CACE1T,UAAU,WACVmL,WAAYoJ,EAASD,SAAS1J,OAC9BxB,WAAYA,EACZrK,MAAOA,EACP4U,QAASA,EACT7M,qBAAsBmN,EAAiB7M,KACvCgE,aAAcA,OAUjBuJ,M,qDClGQ,SAASC,GAAT,GAAsD,IAA1BC,EAAyB,EAAzBA,SAAUC,EAAe,EAAfA,YAC7CC,EAAQC,eACRC,EAAaC,aAAcH,EAAMI,YAAYC,KAAK,OAExD,OACE,mCACE,eAACC,GAAA,EAAD,CACEJ,WAAYA,EACZK,MAAI,EACJC,QAAST,EACTU,kBAAgB,0BAChB7U,mBAAiB,EALnB,UAOE,cAAC8U,GAAA,EAAD,UAAgBZ,IAChB,cAACa,GAAA,EAAD,UACE,cAACxP,EAAA,EAAD,CACEjG,MAAO,CAAE0V,gBAAiB,SAC1BhU,QAAQ,OACRwE,QAAS2O,EAHX,0B,4ECrBK,SAASc,GAAT,GAIX,IAHFC,EAGC,EAHDA,QAGC,IAFDC,yBAEC,MAFmB,KAEnB,EADDjB,EACC,EADDA,SAEA,OACE,qCACGgB,GAAW,2CACXC,GACCD,IAAYC,GAAqBjB,KCN1B,SAASkB,GAAT,GAMX,IALFtJ,EAKC,EALDA,OACAuJ,EAIC,EAJDA,aACAC,EAGC,EAHDA,eACAC,EAEC,EAFDA,wBACAC,EACC,EADDA,iBAEA,EAAgD7W,mBAAS,IAAzD,mBAAO8W,EAAP,KAAyBC,EAAzB,KA0DA,SAASnI,EAAUoI,EAAUlV,GAC3B,OAAOkV,EACJtP,MAAM,MACN9F,KAAI,SAAC+F,EAAMC,GAAP,OAAiB,8BAAmCD,GAAnC,UAAa7F,GAAb,OAAkB8F,GAAlB,OAA0BD,OAsEpD,OAjIAvH,qBAAU,WACR2W,EACE5J,EAAOvL,KAAI,SAACnC,GAAD,MAAY,CACrBA,MAAM,eACDA,GAELwX,MACE,IAAIjS,KAAKvF,EAAMwP,MAAMiI,iBAAmB,IAAIlS,KAAKA,KAAK0I,OAAOwJ,eAC/DxW,UAAWjB,EAAM0X,UACb,0CACA,oBACJC,OAAQ3X,EAAM0X,iBAGjB,CAAChK,IAmHqB,IAAlBA,EAAO1F,OA/FL,8CA8BL,qCACGqP,EAAiBlV,KAAI,SAACyV,GAAD,OACpB,sBAAK3W,UAAU,kBAAf,UACE,sBAAKA,UAAU,gBAAf,UACE,sBAAKA,UAAU,+BAAf,UACG2W,EAAgBJ,OACf,sBAAMvW,UAAU,2CAAhB,iBAEF,uBACEA,UAAS,4BACP2W,EAAgB5X,MAAM0X,UAClB,2CACA,+CAJR,UAOGE,EAAgB5X,MAAM0X,UAAY,SAAM,SAAK,UAGlD,sBAAKzW,UAAU,gBAAf,UACE,cAACkG,EAAA,EAAD,CACEjG,MAAO,CAAE+E,QAAS,EAAGqC,SAAU,UAC/B1F,QAAQ,OACRC,KAAK,QACLuE,QAAS,kBAAM8P,EAAeU,EAAgB5X,MAAMqC,KAJtD,SAMG+U,IAEH,cAACjQ,EAAA,EAAD,CACEjG,MAAO,CACL+E,QAAS,EACTqC,SAAU,SACVnE,MAAOyT,EAAgB5X,MAAM0X,WAAa,2BAE5CtQ,QAAS,WACP6P,EAAaW,EAAgB5X,QAE/B4C,QAAQ,OACRC,KAAK,QAVP,oBAcA,cAACsE,EAAA,EAAD,CACEjG,MAAO,CAAE+E,QAAS,GAClBrD,QAAQ,OACRC,KAAK,QACLuE,QAAS,kBA7FzB,SAA0BwQ,GACxBN,EAAoB,aACfD,EAAiBlV,KAAI,SAAC0V,GACvB,OAAIA,EAAE7X,MAAMqC,KAAOuV,EAAgB5X,MAAMqC,GAChC,2BACFuV,GADL,IAEED,QAASE,EAAEF,OACX1W,UAAW4W,EAAEF,OACT,oBACA,4CAGDE,OAiFkBC,CAAiBF,IAJlC,SAMGA,EAAgBD,OAAS,cAAW,sBAI3C,qBAAK1W,UAAW2W,EAAgB3W,UAAhC,SACGmT,aAAOwD,EAAgB5X,MAAMqI,OA/EvB0P,EAgFOH,EAAgB5X,MAAMqI,KAhFlBhG,EAgFwBuV,EAAgB5X,MAAMqC,GA/EnE8P,OAAO6F,QAAQlK,KAAKK,MAAM4J,IAAY5V,KAAI,WAA0BgG,GAA1B,uBAAE8P,EAAF,KAAaC,EAAb,YAC/C,sBAEEhX,MAAO,CACLiX,UAAW,SACXvB,gBAAiBzO,EAAQ,IAAM,GAAK,iCAJxC,UAOE,sBAAMjH,MAAO,CAAEkX,WAAY,QAA3B,SAAsCH,IAPxC,IAO2D,IAC1C,aAAdA,EAAA,UACM,IAAI1S,KAAK2S,GAAYG,qBAD3B,YACmD,IAAI9S,KAAK2S,GACtDI,qBACApI,MAAM,EAAG,IACZgI,IAZN,UACUD,GADV,OACsBC,GADtB,OACmC7V,QA8EvB8M,EAAUyI,EAAgB5X,MAAMqI,KAAMuP,EAAgB5X,MAAMqC,QApD9BuV,EAAgB5X,MAAMqC,IA7BpE,IAAmB0V,EAAW1V,KAqFxB,cAAC8E,EAAA,EAAD,CAAQC,QAAS+P,EAAyBtU,KAAK,QAA/C,0B,WC5HF0V,GAAQ,QACRC,GAAW,WAEF,SAASC,GAAT,GAAsC,IAAjBxB,EAAgB,EAAhBA,aAClC,EAA4B1W,mBAAS,IAArC,mBAAOmN,EAAP,KAAegL,EAAf,KACA,EAAkCnY,oBAAS,GAA3C,mBAAOoY,EAAP,KAAkBC,EAAlB,KAEA,EAAoCrY,mBAASgY,IAA7C,mBAAOM,EAAP,KAAmBC,EAAnB,KACA,EAA0CvY,mBAAS,CACjDwY,MAAO,CACLzK,MAAO,CAAC,GACR0K,WAAY,GACZC,sBAAsB,GAExBC,SAAU,CACR5K,MAAO,CAAC,GACR0K,WAAY,GACZC,sBAAsB,KAT1B,mBAAOE,EAAP,KAAsBC,EAAtB,KAYA,EAA0C7Y,mBAASmN,GAAnD,mBAAO2L,EAAP,KAAsBC,EAAtB,KACA,EAAsC/Y,mBAAS,CAAEgZ,aAAa,EAAOC,QAAS,IAA9E,mBAAO/K,EAAP,KAAoBgL,EAApB,KACA,EAA0BlZ,mBAAS,CAAEwY,MAAO,CAAC,GAAIG,SAAU,CAAC,KAA5D,mBAAO5K,EAAP,KAAcoL,EAAd,KAEMC,EAAiBjM,EAAO1F,OACxB4R,EAA4BlM,EAAO4C,QAAO,SAACtQ,GAAD,OAAYA,EAAM0X,aAAW1P,OAY7E,SAAS6R,EAAWC,EAAKC,EAAMC,GAC7B,IAXoCC,EAepC,OATF,SAAyBC,EAAQC,GAC/B,OAAOA,EAAYD,EAAO5J,QAAO,SAACxP,GAAD,OAAgC,KAAhB,OAALA,QAAK,IAALA,OAAA,EAAAA,EAAO4W,cAAuBwC,EAInCE,EAXHH,EAYCH,EAAdE,EAXT1J,QAAO,SAACxP,GAAD,OACnBA,EAAMuH,KAAKgS,cAAc3J,SAAzB,OAAkCuJ,QAAlC,IAAkCA,OAAlC,EAAkCA,EAAQI,cAAclK,YAWxD4J,GArC8C,4CAsElD,kCAAAtP,EAAA,yDACQ6P,EAAU,CAAChM,EAAMuK,GAAY7Q,OAAS,GAC5C0R,EAAS,2BACJpL,GADG,kBAELuK,EAFK,uBAEYvK,EAAMuK,IAAgByB,MAGxCzB,IAAeN,GAPnB,gCAQcxD,GAAapG,IAAI2L,GAR/B,2DAScvF,GAAapG,IAAI2L,EAAS,CAAE9L,SAAS,IATnD,4BAMQ+L,EANR,KAWQC,EAAqB9M,EAAO+M,OAAOF,GAEzC7B,EAAU8B,GAEJE,EAAiBb,EACrBV,EAAcN,GAAYG,WAC1BG,EAAcN,GAAYI,qBAC1BuB,GAEFlB,EAAiBoB,GApBnB,6CAtEkD,sBAyHlD,SAASC,EAAmB5T,GAC1B+R,EAAc/R,EAAEnG,OAAOga,QAAQC,SA1HiB,4CA2IlD,WAAmCxY,GAAnC,SAAAoI,EAAA,sEACQsK,GAAahG,OAAO1M,GAD5B,OAEEqW,EAAUhL,EAAO4C,QAAO,SAACtQ,GAAD,OAAWA,EAAMqC,KAAOA,MAChDiX,EAAiBD,EAAc/I,QAAO,SAACtQ,GAAD,OAAWA,EAAMqC,KAAOA,MAHhE,4CA3IkD,kEAiJlD,WAA+BA,GAA/B,SAAAoI,EAAA,sEACQsK,GAAa/F,SAAS3M,GAD9B,OAEEqW,EAAUhL,EAAO4C,QAAO,SAACtQ,GAAD,OAAWA,EAAMqC,KAAOA,MAChDiX,EAAiBD,EAAc/I,QAAO,SAACtQ,GAAD,OAAWA,EAAMqC,KAAOA,MAHhE,4CAjJkD,sBA0ClD1B,oBAAS,sBAAC,8BAAA8J,EAAA,yDACRmO,GAAa,GADL,SAKJC,IAAeN,GALX,gCAMMxD,GAAapG,IAAIL,EAAMuK,GAAa,CACxCpK,YAAaA,EAAY8K,cAP3B,2DASMxE,GAAapG,IAAIL,EAAMuK,GAAa,CACxCrK,SAAS,EACTC,YAAaA,EAAY8K,cAX3B,mCAINuB,EAJM,KAcNpC,EAAUoC,GAEJJ,EAAiBb,EACrBV,EAAcN,GAAYG,WAC1BG,EAAcN,GAAYI,qBAC1B6B,GAEFxB,EAAiBoB,GArBX,kBAsBC9B,GAAa,IAtBd,2HA0BP,CAACC,EAAYpK,EAAY+K,UAyF5B,OACE,qCACE,sBAAKvY,UAAU,YAAf,UACE,cAACkG,EAAA,EAAD,CAAQC,QAASuT,EAAoB1Z,UAAU,MAAM2B,QAAQ,OAAOC,KAAK,QAAzE,SACE,oBAAIkY,eAAcxC,GAAOtX,UAT/B4X,IAAeN,GAAQ,yCAA2C,iBAS5D,qBAIF,cAACpR,EAAA,EAAD,CAAQC,QAASuT,EAAoB1Z,UAAU,MAAM2B,QAAQ,OAAOC,KAAK,QAAzE,SACE,oBAAIkY,eAAcvC,GAAUvX,UAXlC4X,IAAeL,GAAW,yCAA2C,iBAW/D,wBAIF,cAAClR,EAAA,EAAD,CACEpG,MAAO,CAAEb,WAAY,OAAQC,YAAa,QAC1C8G,QA/CR,WACEqS,EAAe,2BACVhL,GADS,IAEZ+K,QAAS/K,EAAY+K,QAAU,EAC/BD,aAAa,KAEfzN,YAAW,kBACT2N,EAAe,2BACVhL,GADS,IAEZ8K,aAAa,SAuCXtY,UAAU,MACV2B,QAAQ,OACRC,KAAK,QALP,SAOE,cAAC,KAAD,SAGJ,sBAAK5B,UAAU,cAAf,UACE,uBAAMA,UAAU,2BAAhB,UACGoY,EAAcrR,OADjB,IAC0B0F,EAAO1F,UAEjC,cAACxF,EAAA,EAAD,CACEvB,UAAU,YACVgC,KAAK,OACLpC,KAAK,aACL0C,YAAY,SACZzC,MAAOqY,EAAcN,GAAYG,WACjCtX,SAjGR,SAA4BqF,GAC1B,IAAMiU,EAAoB7B,EAAcN,GACxCO,EAAiB,2BACZD,GADW,kBAEbN,EAFa,YAAC,eAEImC,GAFL,IAEwBhC,WAAYjS,EAAEnG,OAAOE,WAG7D,IAAM4Z,EAAiBb,EACrB9S,EAAEnG,OAAOE,MACTka,EAAkB/B,qBAClBvL,GAGF4L,EAAiBoB,MAsFZd,EAA4B,GAC3B,eAACzS,EAAA,EAAD,CACElG,UAAU,qCACV4B,KAAK,QACLuE,QAAS,kBAvFnB,SAAsC2S,GACpC,IAAMiB,EAAoB7B,EAAcN,GACxCO,EAAiB,2BACZD,GADW,kBAEbN,EAFa,YAAC,eAEImC,GAFL,IAEwB/B,qBAAsBc,OAG9D,IAAMW,EAAiBb,EAAWmB,EAAkBhC,WAAYe,EAAMrM,GAEtE4L,EAAiBoB,GA+EPO,EACG9B,EAAcN,GAAYI,uBALjC,UASE,sBAAM/X,MAAO,CAAEoH,SAAU,QAAzB,SACG6Q,EAAcN,GAAYI,qBACvBU,EACAC,IAEN,sBACE3Y,UAAS,sDACPkY,EAAcN,GAAYI,sBAC1B,8BAHJ,SAMGE,EAAcN,GAAYI,qBAAuB,gBAAQ,iBAKlE,cAACpC,GAAD,CAAmBC,QAAS6B,EAA5B,SACE,cAAC3B,GAAD,CACEtJ,OAAQ2L,EACRpC,aAAcA,EACdG,iBAAkByB,IAAeL,GAAW,cAAC,KAAD,IAAkB,cAAC,KAAD,IAC9DtB,eAAgB2B,IAAeL,GA/NW,wFAgO1CrB,wBAhO0C,kDCVrC,SAAS+D,GAAT,GAA4C,IAAjBjE,EAAgB,EAAhBA,aAClCjN,EAAUC,cAEV8L,EAAc,WAClB/L,EAAQmR,UAGV,OACE,mCACE,cAACtF,GAAD,CAAkBE,YAAaA,EAA/B,SACE,cAAC,GAAD,CACEkB,aAAc,SAACY,GACbZ,EAAaY,GACb9B,WCDG,SAASqF,KACtB,MAAgC7a,mBAAS,CAAE8H,KAAM,GAAIhG,GAAI,OAAzD,mBAAOgZ,EAAP,KAAiBC,EAAjB,KACA,EAAgD/a,mBAAS,CACvD8H,KAAM,GACNhG,GAAI,OAFN,mBAAO6S,EAAP,KAAyBqG,EAAzB,KAKA,EAA0Bhb,mBAAS8R,GAAMmJ,WAAzC,mBAAOxb,EAAP,KAAcyb,EAAd,KAEA9a,qBAAU,WACR,IAAM+a,EAAaC,aAAavN,QAAQ,qBACpCsN,GACFD,EAAS,IAAIpJ,GAAMvE,KAAKK,MAAMuN,OAE/B,IAEH/a,qBAAU,WACRgb,aAAa9N,QAAQ,oBAAqBC,KAAKC,UAAU/N,MACxD,CAACA,IAEJ,IAAQyI,EAAoBC,cAApBD,gBAER,SAASmT,EAAU/D,GACjB,OAAOxF,GAAMwJ,gBAAgBhE,GAAG,SAAC7K,GAAD,OAC9BvE,EAAgBuE,EAAK,CAAEzD,iBAAkB,SAI7C,IAAMuS,EAA4BC,iBAAO,MACnCC,EAA+BD,iBAAO,MAQ5C,SAASE,EAAkBlV,GACzB,IAAMmV,EAAe,IAAI7J,GAAJ,2BAChBrS,GADgB,kBAElB+G,EAAEnG,OAAOC,KAAyB,aAAlBkG,EAAEnG,OAAOqC,KAAsB8D,EAAEnG,OAAOyD,QAAU0C,EAAEnG,OAAOE,SAE9E,OAAO2a,EAASS,GAGlB,SAASC,EAAqBC,GAE5Bd,EAAY,2BAAKD,GAAN,IAAgBhZ,GAAI+Z,EAAK/Z,IAAM,KAAMgG,KAAM+T,EAAK/T,MAAQ+T,KAMrE,SAAS3S,IAA4C,IAAfoO,EAAc,uDAAVwD,EACxChJ,GAAMgK,mBAAmBxE,EAAExP,MACxBoE,MAAK,SAAC6P,GAEL,OADAb,EAASa,GACFf,EAAoB,CACzBlZ,GAAIwV,EAAExV,GACNgG,KAAMuT,EAAUU,QAGnB3P,OAAM,SAACC,GAAD,OAASnE,EAAgBmE,EAAI7H,QAAS,CAAEnC,QAAS,aAgB5D,OACE,sBAAK3B,UAAU,iBAAf,UACE,cAACuG,EAAD,CACEG,WAAYmU,EACZpU,aAAc2T,EAAShT,KACvBZ,YAAa0U,IAGf,cAACpc,EAAD,CAAQC,MAAOA,EAAOC,aAAcgc,IAEpC,cAACzS,GAAD,CACE7B,WAAYqU,EACZrS,mBAAoB0R,EAAShT,KAC7BuB,cAAesL,EAAiB7M,KAChCoB,6BAA8BA,EAC9BC,+BA5BN,WACE,OAAO6R,EAAoB,CAAElZ,GAAIgZ,EAAShZ,GAAIgG,KAAMuT,EAAU5b,QA8B5D,cAAC8H,EAAD,CACEH,WAAYqU,EACZjU,qBAAsBmN,EAAiB7M,KACvCZ,YAlDN,SAAsC8U,GACpChB,EAAoB,2BAAKrG,GAAN,IAAwB7M,KAAMkU,QAoD/C,cAAC,EAAD,CAAetc,aAAcgc,EAAmBjc,MAAOA,IACvD,cAACgF,EAAD,CAAmBhF,MAAOA,EAAOiF,eAAgBiQ,EAAiB7M,OAClE,cAAC4M,GAAD,CACEjV,MAAOA,EACP4U,QAASyG,EAAShZ,GAClB6S,iBAAkBA,EAClBC,iBA7EN,WACEmG,EAAY,CAAEjT,KAAM,GAAIhG,GAAI,OAC5BkZ,EAAoB,CAAElT,KAAM,GAAIhG,GAAI,OACpCoZ,EAASpJ,GAAMmJ,YA2EXzR,aAAa,4BAEf,cAAC,IAAD,CAAOyS,KAAK,0BAAZ,SACE,cAACtB,GAAD,CAAiBjE,aA3CvB,SAA+BY,GAC7BsE,EAAqBtE,GACrBpO,EAA6BoO,GAC7B/L,YACE,kBAAMgQ,EAA0B9S,QAAQyT,eAAe,CAAEC,QAAQ,MACjE,a,WC3FS,OAA0B,wCCK1B,SAASC,GAAT,GAA+B,IAAbC,EAAY,EAAZA,SAC/B,OACE,qBAAK3b,UAAU,OAAf,SACE,gCACE,cAAC,IAAD,CAAM4b,GAAID,EAAW,eAAiB,SAAtC,SACE,qBAAKE,IAAKC,GAAMC,IAAI,OAAOzV,MAAM,YAEnC,sBAAMtG,UAAU,OAAhB,8BCVR,IAAMuJ,GAAU,aAMVyS,GAAqBnS,KAAMC,S,8CAmBjC,WAAoCmS,GAApC,SAAAzS,EAAA,+EACSwS,GAAmBrS,KAAKJ,GAAS0S,GAAazQ,MAAK,SAACC,GAAD,OAASA,EAAIlB,SADzE,4C,oEAIA,4BAAAf,EAAA,sEACyBwS,GAAmBrS,KAAnB,UAA2BJ,GAA3B,WADzB,cACQW,EADR,yBAESA,EAASK,MAFlB,4C,sBAtBAyR,GAAmB/R,aAAaC,SAASC,KACvC,SAACD,GAAD,OAAcA,IADhB,+BAAAV,EAAA,MAEE,WAAOY,GAAP,eAAAZ,EAAA,yDACQa,EAAkBD,EAAME,OACI,yBAA9BF,EAAMF,SAASK,KAAKH,MAF1B,0CAIYP,KAAMF,KAAK,cAJvB,uBAKYE,KAAMF,KAAK,qBALvB,gCAMaqS,GAAmB3R,IANhC,kGAYSS,QAAQC,OAAOX,IAZxB,0DAFF,uDA2Be,QAAE8R,qB,6CAAsBC,qB,kECLxBC,GA5BM,SAAC,GAAsB,IAApBC,EAAmB,EAAnBA,aAClBnZ,EAAQ,QAGZ,OAFImZ,EAAajD,cAAc3J,SAAS,WAAUvM,EAAQ,OAGxD,mCACGmZ,EACC,sBACEpc,MAAO,CACL0V,gBAAiB,QACjBzS,QACA8B,QAAS,OACTsB,MAAO,MACPvB,aAAc,qBACdsC,SAAU,QACViC,QAAS,OACTgT,WAAY,SACZC,aAAc,QAVlB,UAaE,cAAC,KAAD,IACA,sBAAMtc,MAAO,CAAEb,WAAY,QAA3B,SAAsCid,OAEtC,QCnBK,SAASG,GAAT,GAA6B,IAAD,EAAXC,EAAW,EAAXA,QASxBC,EAAW,CACfH,aAAc,MACd5G,gBAAiB,SAmBb5M,EAAUC,cACV2T,EAAQ,OAAG5T,QAAH,IAAGA,GAAH,UAAGA,EAAS6T,SAASC,aAArB,aAAG,EAAyBF,SAC1C,EAAgCrd,mBAAS,IAAzC,mBAAOwd,EAAP,KAAiBC,EAAjB,KACA,EAAgCzd,mBAAS,IAAzC,mBAAO0d,EAAP,KAAiBC,EAAjB,KACA,EAAgD3d,oBAAS,GAAzD,mBAAO4d,EAAP,KAAyBC,EAAzB,KACA,EAAoC7d,oBAAS,GAA7C,mBAAO8d,EAAP,KAAmBC,EAAnB,KACA,EAAwC/d,mBAAS,IAAjD,mBAAO+c,EAAP,KAAqBiB,EAArB,KApCyC,4CAsCzC,WAA2BC,GAA3B,mBAAA/T,EAAA,6DACE+T,EAAMC,iBACNF,EAAgB,cAFlB,kBAK2BG,GAAavB,qBAAqB,CACvDY,WACAE,aAPN,gBAKYU,EALZ,EAKYA,KAIRJ,EAAgB,QAEhBvU,EAAQE,KAAK0T,GAAY,gBACzBF,EAAQiB,GAZZ,kDAcIL,GAAc,GACdF,GAAoB,GACpBtS,YAAW,kBAAMsS,GAAoB,KAAQ,KAC7CG,EAAgB,UAAD,iBAAW,KAAIpT,gBAAf,aAAW,EAAcK,KAAKH,QAjBjD,2DAtCyC,sBA2DzC,OACE,qBAAKnK,MAAO,CAAEhB,OAAQ,YAAtB,SACE,sBAAKgB,MA5DU,CACjBqG,MAAO,MACPrH,OAAQ,SACR+F,QAAS,GACT2Q,gBAAiB,YACjB5Q,aAAc,sBAuDZ,UACE,sBAAK9E,MAhDW,CACpBiD,MAAO,QACPmE,SAAU,SACVsW,cAAe,QACfze,UAAW,OACXqd,aAAc,QA2CV,kBAEE,uBACEtc,MAAO,CACLiD,MAAO,QACPmE,SAAU,SACVsW,cAAe,SAJnB,UAOG,IAPH,MAQK,cAAC,IAAD,CAAM/B,GAAG,YAAT,kCAIP,cAAC,GAAD,CAAcS,aAAcA,IAE5B,uBAAMuB,SA9E6B,4CA8EN3d,MAxDlB,CACf4d,cAAe,OACfC,OAAQ,MACRxU,QAAS,OACTyU,SAAU,cACVC,eAAgB,gBAmDZ,UACE,cAACzc,EAAA,EAAD,CACEvB,UAAU,YACVC,MAAOyc,EACPtS,MAAOgT,EACP5b,UAAQ,EACR5B,KAAK,WACLC,MAAOid,EACPrc,SAAU,gBAAGd,EAAH,EAAGA,OAAH,OAAgBod,EAAYpd,EAAOE,QAC7C6B,MAAM,WACNC,QAAQ,SACRC,KAAK,UAEP,cAACL,EAAA,EAAD,CACEvB,UAAU,YACVC,MAAOyc,EACPtS,MAAOgT,EACPpb,KAAK,WACLR,UAAQ,EACR3B,MAAOmd,EACPpd,KAAK,WACLa,SAAU,gBAAGd,EAAH,EAAGA,OAAH,OAAgBsd,EAAYtd,EAAOE,QAC7C6B,MAAM,WACNC,QAAQ,SACRC,KAAK,UAGP,cAACsE,EAAA,EAAD,CACElG,UAAU,YACVC,MAAOyc,EACP1a,KAAK,SACLuF,SAAU2V,EACVvb,QAAQ,YACRC,KAAK,QANP,2BCzGK,SAASqc,KACtB,IAQMvB,EAAW,CACfH,aAAc,MACd5G,gBAAiB,SAmBnB,EAAwBrW,mBAAS,IAAjC,mBAAOM,EAAP,KAAase,EAAb,KACA,EAA0B5e,mBAAS,IAAnC,mBAAOyC,EAAP,KAAcoc,EAAd,KACA,EAA8B7e,mBAAS,IAAvC,mBAAO8e,EAAP,KAAgBC,EAAhB,KACA,EAAgC/e,mBAAS,IAAzC,mBAAO4K,EAAP,KAAiBoU,EAAjB,KACA,EAAgChf,oBAAS,GAAzC,mBAAOiI,EAAP,KAAiBgX,EAAjB,KAlCiC,SAoClBC,EApCkB,8EAoCjC,WAAoCxT,GAApC,SAAAxB,EAAA,+EACSK,KAAMF,KAAK,mCAAoCqB,GAAQQ,MAAK,SAACC,GAAD,OAASA,EAAIlB,SADlF,4CApCiC,kEAwCjC,WAA6BgT,GAA7B,iBAAA/T,EAAA,6DACE+T,EAAMC,iBACNe,GAAY,GACZD,EAAY,cAHd,kBAKsBE,EAAqB,CAAE5e,OAAMmC,QAAOqc,YAL1D,OAKU3S,EALV,OAMI6S,EAAW,OAAC7S,QAAD,IAACA,OAAD,EAACA,EAAK3H,SACjBoa,EAAQ,IACRC,EAAS,IACTE,EAAW,IACXE,GAAY,GAVhB,kDAYIA,GAAY,GACZD,EAAY,UAAD,6CAAW,KAAKpU,SAASK,YAAzB,aAAW,EAAoBH,QAb9C,2DAxCiC,sBAyDjC,OACE,qBAAKnK,MAAO,CAAEhB,OAAQ,YAAtB,SACE,sBAAKgB,MA1DU,CACjBqG,MAAO,MACPtB,QAAS,GACT/F,OAAQ,SACR0W,gBAAiB,YACjB5Q,aAAc,sBAqDZ,UACE,sBAAK9E,MA9CW,CACpBiD,MAAO,QACPmE,SAAU,SACVsW,cAAe,QACfze,UAAW,OACXqd,aAAc,QAyCV,2BAEE,uBACEtc,MAAO,CACLiD,MAAO,QACPmE,SAAU,SACVsW,cAAe,SAJnB,UAOG,IAPH,MAQK,cAAC,IAAD,CAAM/B,GAAG,SAAT,yBAIP,cAAC,GAAD,CAAcS,aAAcnS,IAE5B,uBAAM0T,SA5EqB,4CA4EI3d,MAtDpB,CACf4d,cAAe,OACfC,OAAQ,MACRxU,QAAS,OACTyU,SAAU,cACVC,eAAgB,gBAiDZ,UACE,cAACzc,EAAA,EAAD,CACEtB,MAAOyc,EACPlb,UAAQ,EACR5B,KAAK,OACLC,MAAOD,EACPa,SAAU,gBAAGd,EAAH,EAAGA,OAAH,OAAgBue,EAAQve,EAAOE,QACzC6B,MAAM,OACNC,QAAQ,SACRC,KAAK,UAEP,cAACL,EAAA,EAAD,CACEtB,MAAOyc,EACP1a,KAAK,QACLR,UAAQ,EACR3B,MAAOkC,EACPnC,KAAK,QACLa,SAAU,gBAAGd,EAAH,EAAGA,OAAH,OAAgBwe,EAASxe,EAAOE,QAC1C6B,MAAM,QACNC,QAAQ,SACRC,KAAK,UAGP,cAACL,EAAA,EAAD,CACEtB,MAAOyc,EACP1a,KAAK,OACLR,UAAQ,EACRK,WAAS,EACT4c,KAAK,IACL5e,MAAOue,EACPxe,KAAK,UACLa,SAAU,gBAAGd,EAAH,EAAGA,OAAH,OAAgB0e,EAAW1e,EAAOE,QAC5C6B,MAAM,2CACNC,QAAQ,SACRC,KAAK,UAGP,cAACsE,EAAA,EAAD,CACEjG,MAAOyc,EACP1a,KAAK,SACLuF,SAAUA,EACV5F,QAAQ,YACRC,KAAK,QALP,kC,WCtHJ2H,GAAU,c,8CAEhB,sBAAAC,EAAA,+EACSK,KAAMF,KAAKJ,IAASiC,MAAK,SAACC,GAAD,OAASA,EAAIlB,SAD/C,4C,sBAIe,QAAEG,O,kECJF,SAASgU,GAAT,GAAwC,IAAhBlY,EAAe,EAAfA,YACrC,OACE,eAACN,EAAA,EAAD,CACEjG,MAAO,CAAE0V,gBAAiB,aAC1BhU,QAAQ,WACRC,KAAK,QACLuE,QAASK,EAJX,oBAMS,cAAC,KAAD,OCRE,SAASmY,GAAT,GAAuC,IAArBjB,EAAoB,EAApBA,KAAMkB,EAAc,EAAdA,WACrC,OACE,sBACE3e,MAAO,CACL0V,gBAAiB,WACjB3Q,QAAS,OACT9F,UAAW,OACXoK,QAAS,OACT0U,eAAgB,gBAChBlZ,UAAW,yBAPf,UAUE,qBAAK7E,MAAO,CAAE4e,WAAY,MAAOxf,YAAa,QAA9C,SACE,uBAAMY,MAAO,CAAE6e,WAAY,aAA3B,UACG,IACApB,EAAKZ,SACN,uBACCY,EAAK9d,UAGV,cAAC8e,GAAD,CAAclY,YAAa,kBAAMuY,GAAcrU,SAASc,KAAKoT,SCVnE,SAASI,GAAT,GAAmC,IAAV5U,EAAS,EAATA,MACvB,OACE,sBAAK6U,KAAK,QAAV,UACE,sDACA,qBAAKhf,MAAO,CAAEiD,MAAO,OAArB,SAA+BkH,EAAMtG,aAK3C,SAASob,GAAT,GAA6E,IAEvEC,EAF2CzB,EAA2B,EAA3BA,KAAMjB,EAAqB,EAArBA,QAAS5H,EAAY,EAAZA,SACxD9L,EAAUC,cAEH,OAAT0U,GAA0B,YAATA,IACnByB,EAAkBpW,EAAQ6T,SAASwC,UAGrC,IAAMvJ,EAAmB,YAAT6H,EAEV2B,EADwB,OAAT3B,GAEnB,cAAC,IAAD,CAAU9B,GAAI,CAAEwD,SAAU,SAAUvC,MAAO,CAAEF,SAAUwC,MAGzD,OACE,qCACE,cAACvJ,GAAD,CAAmBC,QAASA,EAASC,kBAAmBuJ,EAAxD,SACGxK,IAGH,cAAC,IAAD,CAAO0G,KAAK,SAAZ,SACY,OAATmC,EAAgB,cAAClB,GAAD,CAAOC,QAASA,IAAc,cAAC,IAAD,CAAUb,GAAG,sBAyDrD0D,OAnDf,WACE,MAAwBhgB,mBAAS,WAAjC,mBAAOoe,EAAP,KAAajB,EAAb,KAEQjV,EAAoBC,cAApBD,gBACFuB,EAAUC,cAyBhB,OAvBAtJ,oBAAS,sBAAC,8BAAA8J,EAAA,6DAERC,GAAYM,iBAAiB,CAC3BW,OAAQ,kBAAM+R,EAAQ,OACtBhS,WAAY,kBACVjD,EACE,yFACA,CACE7F,QAAS,UACT2G,iBAAkB,SATlB,kBAegCmV,GAAatB,uBAf7C,uBAeQoD,EAfR,EAeE7B,KACR3U,EAAQE,KAAK,gBAhBP,kBAiBCwT,EAAQ8C,IAjBT,2DAmBC9C,EAAQ,OAnBT,0DAqBP,IAGD,qBAAKzc,UAAU,YAAf,SACE,eAAC,gBAAD,CAAewf,kBAAmBR,GAAlC,UACE,cAAC,GAAD,CAAQrD,SAAmB,OAAT+B,GAA0B,YAATA,IACnC,eAAC,IAAD,WACE,cAAC,IAAD,CAAOnC,KAAK,YAAZ,SACE,cAAC0C,GAAD,MAEF,cAAC,IAAD,CAAO1C,KAAK,IAAZ,SACE,cAAC2D,GAAD,CAAuCxB,KAAMA,EAAMjB,QAASA,EAA5D,SACE,eAAC,IAAD,CAAOlB,KAAK,eAAZ,UACE,cAAC,GAAD,IACA,cAACoD,GAAD,CAAQjB,KAAMA,EAAMkB,WAAY,kBAAMnC,EAAQ,yBClFxDgD,I,OAAeC,IAAMC,aAE3BC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,CAAQC,SAAS,OAAjB,SACE,cAAC,IAAD,CACEC,OAAQ,SAACC,GAAD,OACN,cAAC,IAAD,CACE9Z,QAAS,WACPsZ,GAAa1X,QAAQmY,cAAcD,OAIzCrZ,IAAK6Y,GACLU,SAAU,EACVC,OAAK,EACL9X,iBAAkB,KAClB+X,aAAc,CAAEC,WAAY,OAAQC,SAAU,OAZhD,SAcE,cAAC,GAAD,UAIN5Y,SAAS6Y,eAAe,U","file":"static/js/main.464a99e1.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport TextField from '@material-ui/core/TextField'\nimport NativeSelect from '@material-ui/core/NativeSelect'\nimport TextareaAutosize from '@material-ui/core/TextareaAutosize'\nimport DayjsUtils from '@date-io/dayjs'\nimport locale_en from 'dayjs/locale/en'\nimport { DateTimePicker, MuiPickersUtilsProvider } from '@material-ui/pickers'\nimport services from '../../data/services.json'\nimport paymentTypes from '../../data/paymentTypes.json'\n\nexport default function Editor({ order, handleChange }) {\n  const margin = {\n    marginTop: 5,\n  }\n  const marginLeftRight = {\n    marginLeft: 5,\n    marginRight: 5,\n  }\n\n  // hack to make date from mui datetimepicker to be inside fake event object\n  const [selectedDate, handleDateChange] = useState(order.dateTime)\n  useEffect(() => {\n    handleChange({ target: { name: 'dateTime', value: selectedDate } })\n  }, [selectedDate])\n\n  locale_en.weekStart = 1\n\n  return (\n    <div className=\"basic-flex\" style={{ marginTop: '5px' }}>\n      <div className=\"flex-100-space-between flex-item\" style={marginLeftRight}>\n        <MuiPickersUtilsProvider utils={DayjsUtils} locale={locale_en}>\n          <DateTimePicker\n            ampm={false}\n            format=\"DD-MM-YYYY HH:mm\"\n            minutesStep={15}\n            style={marginLeftRight}\n            className=\"time-duration\"\n            name=\"dateTime\"\n            value={order.dateTime}\n            onChange={handleDateChange}\n            DialogProps={{ disableScrollLock: true }}\n          />\n        </MuiPickersUtilsProvider>\n\n        <NativeSelect\n          className=\"time-duration\"\n          style={{ ...marginLeftRight, paddingLeft: 10 }}\n          name=\"duration\"\n          value={order?.duration}\n          onChange={handleChange}\n        >\n          <option value={1}>1h</option>\n          <option value={1.5}>1.5h</option>\n          <option value={2}>2h</option>\n          <option value={2.5}>2.5h</option>\n          <option value={3}>3h</option>\n          <option value={3.5}>3.5h</option>\n          <option value={4}>4h</option>\n          <option value={4.5}>4.5h</option>\n          <option value={5}>5h</option>\n          <option value={5.5}>5.5h</option>\n          <option value={6}>6h</option>\n          <option value={6.5}>6.5h</option>\n          <option value={7}>7h</option>\n          <option value={7.5}>7.5h</option>\n          <option value={8}>8h</option>\n          <option value={8.5}>8.5h</option>\n          <option value={9}>9h</option>\n          <option value={9.5}>9.5h</option>\n          <option value={10}>10h</option>\n        </NativeSelect>\n      </div>\n\n      <NativeSelect\n        fullWidth\n        style={marginLeftRight}\n        className=\"flex-item\"\n        name=\"serviceName\"\n        value={order?.serviceName}\n        onChange={handleChange}\n      >\n        {services.map((service) => (\n          <option key={service.id} value={service.name}>\n            {service.name}\n          </option>\n        ))}\n      </NativeSelect>\n\n      <NativeSelect\n        fullWidth\n        style={marginLeftRight}\n        className=\"flex-item\"\n        name=\"paymentType\"\n        value={order?.paymentType}\n        onChange={handleChange}\n      >\n        {paymentTypes.map(({ name, id }) => (\n          <option key={id} value={name}>\n            {name}\n          </option>\n        ))}\n      </NativeSelect>\n\n      <TextField\n        fullWidth\n        style={margin}\n        className=\"flex-item\"\n        required\n        name=\"address\"\n        value={order?.address}\n        onChange={handleChange}\n        label=\"Address\"\n        variant=\"outlined\"\n        size=\"small\"\n      />\n\n      <TextField\n        fullWidth\n        multiline\n        style={margin}\n        className=\"flex-item\"\n        name=\"destination\"\n        value={order?.destination}\n        onChange={handleChange}\n        label=\"Destination\"\n        variant=\"outlined\"\n        size=\"small\"\n      />\n\n      <TextField\n        fullWidth\n        required\n        style={margin}\n        className=\"flex-item\"\n        name=\"name\"\n        value={order?.name}\n        onChange={handleChange}\n        label=\"Name\"\n        variant=\"outlined\"\n        size=\"small\"\n      />\n\n      <TextField\n        fullWidth\n        style={margin}\n        className=\"flex-item\"\n        name=\"email\"\n        value={order?.email}\n        onChange={handleChange}\n        type=\"email\"\n        label=\"Email\"\n        variant=\"outlined\"\n        size=\"small\"\n      />\n\n      <TextField\n        fullWidth\n        style={margin}\n        className=\"flex-item\"\n        required\n        name=\"phone\"\n        value={order?.phone}\n        onChange={handleChange}\n        label=\"Phonenumber\"\n        variant=\"outlined\"\n        size=\"small\"\n      />\n\n      <TextareaAutosize\n        style={margin}\n        className=\"flex-item textarea-2\"\n        rowsMin={3}\n        cols={27}\n        name=\"comment\"\n        value={order?.comment}\n        placeholder=\"Additional information.\"\n        onChange={handleChange}\n      />\n    </div>\n  )\n}\n","import React from 'react'\nimport FormLabel from '@material-ui/core/FormLabel'\nimport FormControl from '@material-ui/core/FormControl'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport Radio from '@material-ui/core/Radio'\nimport RadioGroup from '@material-ui/core/RadioGroup'\n\nexport default function CheckboxGroup(props) {\n  const { handleChange, order } = props\n\n  return (\n    <div className=\"checkbox-container\">\n      <FormControl\n        className=\"checkbox-distance flex-item\"\n        hiddenLabel={false}\n        size=\"small\"\n      >\n        <FormLabel component=\"legend\">Pick one:</FormLabel>\n        <RadioGroup value={order.distance} onChange={handleChange}>\n          <FormControlLabel\n            name=\"distance\"\n            value=\"insideCapital\"\n            control={<Radio color=\"default\" />}\n            label=\"üèô Inside capital\"\n          />\n          <FormControlLabel\n            name=\"distance\"\n            value=\"outsideCapital\"\n            control={<Radio color=\"default\" />}\n            label=\"üèû Outside capital\"\n          />\n          <FormControlLabel\n            name=\"distance\"\n            value=\"fromCapitalToOutside\"\n            control={<Radio color=\"default\" />}\n            label=\"üèô->üèû From capital\"\n          />\n          <FormControlLabel\n            name=\"distance\"\n            value=\"fromOutsideToCapital\"\n            control={<Radio color=\"default\" />}\n            label=\"üèû->üèô To capital\"\n          />\n        </RadioGroup>\n      </FormControl>\n      <FormControl className=\"basic-flex\" size=\"small\">\n        <FormControlLabel\n          size=\"small\"\n          className=\"flex-item\"\n          control={\n            <Checkbox checked={order.hsy} onChange={handleChange} color=\"primary\" />\n          }\n          name=\"hsy\"\n          label=\"‚ôª HSY\"\n          labelPlacement=\"start\"\n        />\n        <FormControlLabel\n          className=\"flex-item\"\n          control={\n            <Checkbox\n              checked={order.altColorPalette}\n              onChange={handleChange}\n              color=\"primary\"\n            />\n          }\n          name=\"altColorPalette\"\n          label=\"Second car\"\n          labelPlacement=\"start\"\n        />\n        <FormControlLabel\n          className=\"flex-item\"\n          control={\n            <Checkbox checked={order.XL} onChange={handleChange} color=\"primary\" />\n          }\n          name=\"XL\"\n          label=\"XL\"\n          labelPlacement=\"start\"\n        />\n      </FormControl>\n    </div>\n  )\n}\n","import React, { useState, useEffect } from 'react'\nimport validator from 'validator'\nimport ErrorOutlineIcon from '@material-ui/icons/ErrorOutline'\n\nfunction ValidationMessages({ validationArray }) {\n  const errStyle = { color: 'red' }\n\n  return (\n    <>\n      {validationArray.map((v) => {\n        if (v.isError) {\n          return (\n            <div key={v.id}>\n              <span style={errStyle}>{v.name} </span>\n              {v.message}\n            </div>\n          )\n        }\n        return null\n      })}\n    </>\n  )\n}\n\nexport default function ValidationDisplay({ order, shouldValidate }) {\n  const [validationArray, setValidationArray] = useState([])\n\n  useEffect(() => {\n    if (shouldValidate) {\n      const validationAr = [\n        {\n          id: 1,\n          name: 'Date and time',\n          isError: validator.isBefore(\n            order.dateTime.toISOString(),\n            new Date().toISOString()\n          ),\n          message: `might have some problems. Check to be sure: ${\n            `${order.confirmationDateString} ${order.time}` || '---'\n          }`,\n        },\n        {\n          id: 2,\n          name: 'Address',\n          isError: validator.isEmpty(order.address),\n          message: 'is missing',\n        },\n        {\n          id: 3,\n          name: 'Phonenumber',\n          isError: !validator.isMobilePhone(order.phone, ['fi-FI', 'es-ES', 'sv-SE']),\n          message: `is missing or is incorrect: ${order.phone || '---'}`,\n        },\n        {\n          id: 4,\n          name: 'Email',\n          isError: !validator.isEmail(order.email),\n          message: `is missing or is incorrect: ${order.email || '---'}`,\n        },\n      ]\n      setValidationArray(validationAr)\n    }\n  }, [order.dateTime, order.phone, order.address, order.email, shouldValidate])\n\n  const someIsInvalid = validationArray.some((v) => v.isError)\n\n  const border = {\n    borderTop: '1px solid gray',\n    borderBottom: '1px solid gray',\n    padding: '15px 0 15px 0',\n    margin: '10px 0 10px 0',\n  }\n\n  return (\n    <>\n      {shouldValidate && someIsInvalid && (\n        <div style={border} className=\"flex-100-space-between\">\n          <div>\n            <ErrorOutlineIcon />\n            <ValidationMessages validationArray={validationArray} />\n          </div>\n        </div>\n      )}\n    </>\n  )\n}\n","import React, { useState } from 'react'\nimport Button from '@material-ui/core/Button'\nimport IconButton from '@material-ui/core/IconButton'\nimport EditOutlinedIcon from '@material-ui/icons/EditOutlined'\nimport './withEditing.css'\n\nconst withEditing = (EditableComponent, NotEditableComponent) => ({\n  content,\n  handleUpdate,\n  ...rest\n}) => {\n  const [isEditable, setIsEditable] = useState(false)\n  const [savedChanges, setSavedChanges] = useState(content)\n  const [incomingChanges, setIncomingChanges] = useState(savedChanges)\n\n  function removeUnsavedChanges() {\n    setIncomingChanges(savedChanges)\n  }\n\n  function handleIncomingChanges(e) {\n    setIncomingChanges(e.target.value)\n  }\n\n  function handleCancelClick() {\n    removeUnsavedChanges()\n    setIsEditable(!isEditable)\n  }\n\n  function handleSaveClick() {\n    setSavedChanges(incomingChanges)\n    handleUpdate(incomingChanges)\n    setIsEditable(!isEditable)\n  }\n\n  function handleEditClick() {\n    setIsEditable(!isEditable)\n  }\n\n  function notEditable() {\n    return (\n      <>\n        <NotEditableComponent\n          content={content}\n          button={\n            <span>\n              <IconButton size=\"small\" onClick={handleEditClick}>\n                <EditOutlinedIcon style={{ width: '20px' }} />\n              </IconButton>\n            </span>\n          }\n          {...rest}\n        />\n      </>\n    )\n  }\n  function editable() {\n    return (\n      <>\n        <EditableComponent\n          content={incomingChanges}\n          handleChange={handleIncomingChanges}\n          {...rest}\n        />\n        <div className=\"buttons-block\">\n          <Button size=\"small\" onClick={handleCancelClick}>\n            Cancel\n          </Button>\n          <Button className=\"primary\" size=\"small\" onClick={handleSaveClick}>\n            Save\n          </Button>\n        </div>\n      </>\n    )\n  }\n\n  return <>{isEditable ? editable() : notEditable()}</>\n}\n\nexport default withEditing\n","import React from 'react'\nimport TextareaAutosize from '@material-ui/core/TextareaAutosize'\nimport withEditing from '../withEditing'\n\nexport default function RawOrderContainer({ handleClick, rawOrderText, elementRef }) {\n  const Editable = ({ handleChange, content }) => (\n    <TextareaAutosize\n      onChange={handleChange}\n      value={content}\n      style={{ marginTop: '10px' }}\n      className=\"width-100\"\n      rowsMin={5}\n      cols={40}\n      placeholder=\"Raw order here.\"\n    />\n  )\n\n  const NotEditable = ({ button }) => (\n    <div ref={elementRef} className=\"not-editable-container\">\n      Raw order{button}\n    </div>\n  )\n  const ContainerWithEditing = withEditing(Editable, NotEditable)\n  return (\n    <ContainerWithEditing\n      style={{ width: 'max-content' }}\n      handleUpdate={handleClick}\n      content={rawOrderText}\n    />\n  )\n}\n","/* eslint-disable react/no-array-index-key */\n/* eslint-disable react/destructuring-assignment */\nimport React from 'react'\nimport TextareaAutosize from '@material-ui/core/TextareaAutosize'\nimport withEditing from '../withEditing'\nimport './orderContainers.css'\n\nexport default function TransformedOrderContainer({\n  elementRef,\n  handleClick,\n  transformedOrderText,\n}) {\n  const Editable = ({ handleChange, content }) => (\n    <TextareaAutosize\n      onChange={handleChange}\n      value={content}\n      ref={elementRef}\n      style={{ marginTop: '10px' }}\n      className=\"width-100\"\n      rowsMin={5}\n      cols={40}\n      placeholder=\"Transformed order.\"\n    />\n  )\n\n  const NotEditable = ({ content, button }) => (\n    <div\n      ref={elementRef}\n      style={{ width: transformedOrderText && '100%', marginTop: '12px' }}\n      className=\"not-editable-container\"\n    >\n      {content.length === 0 ? (\n        'Transformed order'\n      ) : (\n        <div className=\"text-container-with-scroll\">\n          {content.split('\\n').map((line, index) => (\n            <div key={index}>{line}</div>\n          ))}\n        </div>\n      )}\n      {button}\n    </div>\n  )\n  const ContainerWithEditing = withEditing(Editable, NotEditable)\n  return (\n    <ContainerWithEditing handleUpdate={handleClick} content={transformedOrderText} />\n  )\n}\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport TransformIcon from '@material-ui/icons/Transform'\n\nexport default function TransformButton({ handleClick, text = 'Transform', ...rest }) {\n  return (\n    <Button\n      className=\"button-one-third flex-item\"\n      variant=\"outlined\"\n      size=\"small\"\n      style={{ fontSize: '0.8rem', padding: '1px' }}\n      onClick={() => handleClick()}\n      {...rest}\n    >\n      <TransformIcon />\n      {text}\n    </Button>\n  )\n}\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport FileCopyIcon from '@material-ui/icons/FileCopy'\nimport { useSnackbar } from 'notistack'\n\nexport default function CopyButton({ elementRef, disabled }) {\n  const { enqueueSnackbar } = useSnackbar()\n\n  function copyToClipboard() {\n    const tempTextarea = document.createElement('textarea')\n    document.body.appendChild(tempTextarea)\n    // getting text from container (div) or from textarea that holds the transformed order\n    tempTextarea.value = elementRef.current.innerText || elementRef.current.defaultValue\n    tempTextarea.select()\n    document.execCommand('copy')\n    document.body.removeChild(tempTextarea)\n  }\n\n  function handleCopying() {\n    copyToClipboard()\n    enqueueSnackbar('Copied!', { autoHideDuration: 750 })\n  }\n\n  return (\n    <Button\n      disabled={disabled}\n      className=\"button-one-third flex-item\"\n      variant=\"outlined\"\n      size=\"small\"\n      onClick={handleCopying}\n    >\n      Copy <FileCopyIcon />\n    </Button>\n  )\n}\n","import React from 'react'\nimport TransformButton from './TransformButton'\nimport CopyButton from './CopyButton'\n\nexport default function TransformPanel({\n  handleOrderTransformFromText,\n  handleOrderTransformFromEditor,\n  transformDisabled,\n  copyDisabled,\n  elementRef,\n}) {\n  return (\n    <div className=\"order-operations\">\n      <div className=\"block\">\n        <CopyButton disabled={copyDisabled} elementRef={elementRef} />\n        <TransformButton\n          text=\"from text\"\n          disabled={transformDisabled}\n          handleClick={handleOrderTransformFromText}\n        />\n\n        <TransformButton\n          text=\"from editor\"\n          handleClick={handleOrderTransformFromEditor}\n        />\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport NoteAddIcon from '@material-ui/icons/NoteAdd'\n\nexport default function NewOrderButton({ handleClick, className }) {\n  return (\n    <Button className={className} variant=\"contained\" size=\"small\" onClick={handleClick}>\n      New order <NoteAddIcon />\n    </Button>\n  )\n}\n","import React from 'react'\nimport { useHistory } from 'react-router-dom'\nimport Button from '@material-ui/core/Button'\n\nexport default function OrderPoolOpenerButton({ className, orderPoolUrl }) {\n  const history = useHistory()\n\n  const handleClickOpen = () => {\n    history.push(orderPoolUrl)\n  }\n\n  return (\n    <>\n      <Button\n        size=\"small\"\n        className={className}\n        variant=\"contained\"\n        onClick={handleClickOpen}\n      >\n        Order Pool\n      </Button>\n    </>\n  )\n}\n","import React from 'react'\n\nexport default function MessageBeforeButton({ text, className, ...rest }) {\n  return (\n    <div className={`message ${className}`} {...rest}>\n      {text}\n    </div>\n  )\n}\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\n\nexport default function CustomButton({\n  handleClick,\n  isDisabled,\n  grayScale,\n  content,\n  className,\n}) {\n  const style = grayScale && { color: 'grey' }\n  return (\n    <Button\n      disabled={isDisabled}\n      className={className}\n      variant=\"contained\"\n      size=\"small\"\n      onClick={handleClick}\n    >\n      <span style={{ display: 'flex', ...style }}>{content}</span>\n    </Button>\n  )\n}\n","/* eslint-disable consistent-return */\n// eslint-disable-next-line import/no-cycle\nimport interceptor from './interceptor'\n\nconst baseUrl = '/api/token'\n\nasync function refreshTokens() {\n  await interceptor.axiosInstance.post(baseUrl)\n  await interceptor.axiosInstance.post(`${baseUrl}/is-new`)\n}\n\nexport default { refreshTokens }\n","/* eslint-disable consistent-return */\nimport axios from 'axios'\n// eslint-disable-next-line import/no-cycle\nimport tokenService from './tokens'\n\nconst axiosInstance = axios.create()\n\nfunction setupInterceptor(externalActions) {\n  axiosInstance.interceptors.response.use(\n    (response) => response,\n    async (error) => {\n      const originalRequest = error.config\n      if (error.response.data.error === 'access token expired') {\n        // if tokenService receives an error, request won't be resent\n        await tokenService.refreshTokens()\n        return axiosInstance(originalRequest)\n      }\n      if (\n        error.response.data.error === 'access token missing' ||\n        error.response.data.error === 'invalid access token' ||\n        error.response.data.error === 'refresh token expired' ||\n        error.response.data.error === 'invalid refresh token' ||\n        error.response.data.error === 'refresh token missing'\n      ) {\n        externalActions.notificate()\n        externalActions.logout()\n        throw new Error('logout')\n      }\n      if (error.response.status === 429) {\n        setTimeout(() => null, 1500)\n      }\n      return Promise.reject(error)\n    }\n  )\n}\n\nexport default { axiosInstance, setupInterceptor }\n","import interceptor from './interceptor'\n\nconst baseUrl = '/api/email'\n/**\n * @param {Object} params\n * @param {string} params.orderDetails\n * @param {Object} params.order\n */\n\nexport default async function sendConfirmationEmail(params) {\n  const response = await interceptor.axiosInstance.post(\n    `${baseUrl}/send-confirmation`,\n    params\n  )\n  return response.data\n}\n","import React from 'react'\nimport { useSnackbar } from 'notistack'\n\nimport EmailIcon from '@material-ui/icons/Email'\nimport CustomButton from './CustomButton'\nimport sendConfirmationEmail from '../../../services/emailAPI'\n\nconst EMAIL = 'email'\n\nexport default function ConfirmationEmailSenderButton({\n  email,\n  order,\n  transformedOrderText,\n  statusText,\n  isDisabled,\n  changeStatus,\n  className,\n}) {\n  const { enqueueSnackbar } = useSnackbar()\n\n  function handleEmailSending() {\n    if (email && transformedOrderText) {\n      changeStatus(EMAIL, 'Working', true)\n      return sendConfirmationEmail({\n        orderDetails: transformedOrderText,\n        order,\n        email,\n      })\n        .then((res) => {\n          changeStatus(EMAIL, 'Done', true)\n          enqueueSnackbar(res.message)\n        })\n        .catch((err) => {\n          if (err.message === 'logout') return\n          changeStatus(EMAIL, 'Error', false)\n          enqueueSnackbar(err.response.data.error, { variant: 'error' })\n        })\n    }\n    return enqueueSnackbar('No confirmation found or recipients defined.', {\n      variant: 'warning',\n    })\n  }\n\n  const buttonContent = statusText || (\n    <>\n      <span>Send</span> <EmailIcon />\n    </>\n  )\n\n  return (\n    <CustomButton\n      className={className}\n      isDisabled={isDisabled}\n      grayScale={statusText !== null}\n      handleClick={handleEmailSending}\n      content={buttonContent}\n    />\n  )\n}\n","import interceptor from './interceptor'\n\nconst baseUrl = '/api/sms'\n/**\n * @param {Object} params\n * @param {string} params.phone\n * @param {string} params.msg\n */\n\nexport default async function sendSMS(params) {\n  const response = await interceptor.axiosInstance.post(baseUrl, params)\n  return response.data\n}\n","import React from 'react'\nimport { useSnackbar } from 'notistack'\nimport TextsmsIcon from '@material-ui/icons/Textsms'\nimport sendSMS from '../../../services/smsAPI'\nimport CustomButton from './CustomButton'\n\nconst SMS = 'sms'\n\nexport default function ConfirmationSMSSenderButton({\n  phone,\n  transformedOrderText,\n  statusText,\n  isDisabled,\n  changeStatus,\n  className,\n}) {\n  const { enqueueSnackbar } = useSnackbar()\n\n  async function handleSendingSMS() {\n    try {\n      const msg = transformedOrderText\n      if (msg && phone) {\n        changeStatus(SMS, 'Working', true)\n        const response = await sendSMS({ msg, phone })\n        changeStatus(SMS, 'Done', true)\n        enqueueSnackbar(`${response.message}`)\n      }\n    } catch (err) {\n      if (err.message === 'logout') return\n      changeStatus(SMS, 'Error', false)\n      enqueueSnackbar(err.response?.data.error, { variant: 'error' })\n    }\n  }\n\n  const buttonContent = statusText || (\n    <>\n      <span>Send</span> <TextsmsIcon />\n    </>\n  )\n\n  return (\n    <CustomButton\n      className={className}\n      isDisabled={isDisabled}\n      grayScale={statusText !== null}\n      handleClick={handleSendingSMS}\n      content={buttonContent}\n    />\n  )\n}\n","import interceptor from './interceptor'\n\nconst baseUrl = '/api/calendar'\n\n/**\n * @param {Object} params\n * @param {string} params.entry\n * @param {Object} params.order\n * @param {Array} params.fees\n */\n\nexport default async function addEventToCalendar(params) {\n  const response = await interceptor.axiosInstance.post(baseUrl, params)\n  return response.data\n}\n","/* eslint-disable no-param-reassign */\nimport interceptor from './interceptor'\n\nconst baseUrl = '/api/order-pool'\n/**\n * @param {string} queryName\n * @param {Array} items\n * @return Something like: pages[]=1&pages[]=2&pages[]=3\n */\nfunction makeQueryArray(queryName, items) {\n  return items\n    .map((item, index) => {\n      const isLastItem = index === items.length - 1\n      return `${queryName}[]=${item}${isLastItem ? '' : '&'}`\n    })\n    .join('')\n}\n\nfunction storeOrdersInSessionStorage({ query, orders }) {\n  return new Promise((resolve) =>\n    resolve(\n      sessionStorage.setItem(\n        `order-pool/${query}`,\n        JSON.stringify({\n          validUntil: Date.now() + 5 * 60 * 1000,\n          orders,\n        })\n      )\n    )\n  )\n}\n\nfunction getOrdersFromSessionStorage(query) {\n  return Promise.resolve().then(() =>\n    JSON.parse(sessionStorage.getItem(`order-pool/${query}`))\n  )\n}\n\nfunction isStorageUpToDate(query) {\n  return Promise.resolve(\n    (() => {\n      try {\n        const { validUntil } = JSON.parse(sessionStorage.getItem(`order-pool/${query}`))\n        return validUntil > Date.now()\n      } catch {\n        return false\n      }\n    })()\n  )\n}\n\n/**\n * @param {Array} [pages] - Default: [ 1 ]\n * @param {Object} options - Default: { deleted: false, forceUpdate: false }\n * @param {Boolean} [options.deleted]\n * @param {Boolean} [options.forceUpdate]\n */\nasync function get(pages = [1], options = { deleted: false, forceUpdate: false }) {\n  const { deleted, forceUpdate } = options\n\n  const query = `${deleted ? 'deleted=true' : 'deleted=false'}&${makeQueryArray(\n    'pages',\n    pages\n  )}`\n\n  if (!forceUpdate && (await isStorageUpToDate(query))) {\n    return getOrdersFromSessionStorage(query).then((data) => data.orders)\n  }\n\n  // example: /api/order-pool/?deleted=false&pages[]=1&pages[]=2\n  const url = `${baseUrl}/?${query}`\n\n  return interceptor.axiosInstance.get(url).then(async (res) => {\n    const { orders } = res?.data\n    await storeOrdersInSessionStorage({ query, orders })\n\n    return orders\n  })\n}\n\nasync function confirm(id) {\n  return interceptor.axiosInstance\n    .put(`${baseUrl}/confirm/${id}`)\n    .then((res) => res?.data)\n  // .catch((err) => console.log(err))\n}\n\nasync function remove(id) {\n  const response = await interceptor.axiosInstance.delete(`${baseUrl}/delete/${id}`)\n  return response?.data\n}\n\nasync function retrieve(id) {\n  const response = await interceptor.axiosInstance.put(`${baseUrl}/retrieve/${id}`)\n  return response?.data\n}\n\nexport default { get, confirm, remove, retrieve }\n","/* eslint-disable no-param-reassign */\n/* eslint-disable no-control-regex */\n/* eslint-disable no-useless-escape */\nimport services from '../data/services.json'\nimport paymentTypes from '../data/paymentTypes.json'\n\nfunction cannotFind(name) {\n  return `Cannot find ${name}`\n}\n\nexport default class TextOrder {\n  constructor(textOrder) {\n    this.textOrder = TextOrder.initialCleanup(textOrder)\n  }\n\n  get dateTime() {\n    const dateRe = /(?<=Date and time: \\w+, )\\w+ \\d+(th|rd|st|nd)? \\w+/.exec(\n      this.textOrder\n    )\n\n    if (!dateRe) throw new Error(cannotFind('date'))\n\n    const date = new Date(`${dateRe[0].replace(/th|rd|st|nd/, '')}Z`)\n    const time = /\\d+:\\d+/.exec(this.textOrder)[0]\n\n    const dateTime = new Date(`\n    ${date.getFullYear()}\n    ${date.getMonth() + 1}\n    ${date.getDate()}\n    ${time}`)\n\n    return dateTime\n  }\n\n  get duration() {\n    const duration = /\\d+(\\.\\d+)?(?=\\sh.)/.exec(this.textOrder)\n\n    if (!duration) throw new Error(cannotFind('duration'))\n\n    return duration[0]\n  }\n\n  get paymentType() {\n    const beginMarker = 'Payment Type: '\n    const endMarker = 'PRICE'\n\n    const beginIndex = this.textOrder.indexOf(beginMarker) + beginMarker.length\n    const endIndex = this.textOrder.indexOf(endMarker)\n\n    const paymentTypeField = this.textOrder.slice(beginIndex, endIndex).trim()\n\n    const nonWordChars = paymentTypeField\n      .match(/\\W+/g)\n      .filter((c) => c !== '/' && c !== ' ' && c !== '√§')\n\n    const endIndex2 = paymentTypeField.indexOf(nonWordChars[0].trim())\n\n    const paymentType = paymentTypeField.slice(0, endIndex2).trim()\n\n    if (!paymentType) throw new Error(cannotFind('payment type'))\n\n    // does payment type names include our payment type\n    if (!paymentTypes.map((p) => p.name).includes(paymentType)) {\n      throw new Error('Unrecognized payment type')\n    }\n    return paymentType\n  }\n\n  get movingBoxesPrice() {\n    const beginIndex = this.textOrder.indexOf('‚Äî Price: ')\n    const endIndex = this.textOrder.indexOf('‚Äî Booking time start')\n    const priceLine = this.textOrder.slice(beginIndex, endIndex)\n    const re = /\\d+/\n    const price = priceLine && priceLine.match(re)[0]\n    return price\n  }\n\n  get serviceName() {\n    const startMarker = 'Service: '\n    const endMarker = 'Accessories'\n    const fromIndex = this.textOrder.indexOf(startMarker) + startMarker.length\n    const endIndex = this.textOrder.indexOf(endMarker)\n    const serviceName = this.textOrder.slice(fromIndex, endIndex).trim()\n\n    if (!serviceName) {\n      throw new Error(cannotFind('service name'))\n    }\n\n    // Check if service with that name exists\n    const service = services.find((s) => s.name === serviceName)\n\n    if (!service) throw new Error('Unrecognized service name')\n\n    return serviceName\n  }\n\n  get addresses() {\n    const beginMarkers = ['Start location:', 'End location:']\n    const endMarkers = ['End location', 'Name']\n    const addresses = []\n\n    beginMarkers.forEach((marker, index) => {\n      const beginIndex = this.textOrder.indexOf(marker) + marker.length\n      const endIndex = this.textOrder.indexOf(endMarkers[index])\n\n      const rawAddress = this.textOrder\n        .slice(beginIndex, endIndex)\n        .replaceAll(',', '')\n        .trim()\n\n      const cityField = rawAddress.slice(0, rawAddress.indexOf(' / '))\n\n      // Finnish postal codes are all 5 digits long\n      let postalCode = rawAddress.match(/\\d{5}/)\n      postalCode = (postalCode && postalCode[0]) || ''\n\n      const addressField = rawAddress.slice(rawAddress.indexOf(' / ') + ' / '.length)\n\n      let city = cityField.match(/\\D+/)\n      city = city && city[0]\n      let address = addressField.replace(postalCode, '')\n      address = address || null\n\n      const numbersInAddress = /\\d+/.test(addressField)\n\n      // User provided address instead of city and city instead of address\n      if (\n        !numbersInAddress ||\n        (addressField.includes(postalCode) && addressField.length < 15)\n      ) {\n        address = cityField.replace(postalCode, '')\n        city = addressField.match(/\\D+/)\n        city = city && city[0]\n      }\n\n      if (address.includes(city)) {\n        address = address.replace(city, '')\n      }\n\n      if (index === 0 && !address) throw new Error(cannotFind('address'))\n\n      addresses.push(`${address}, ${postalCode} ${city}`.replace(/\\s+/g, ' ').trim())\n    })\n\n    return addresses\n  }\n\n  get address() {\n    return this.addresses[0]\n  }\n\n  get destination() {\n    // destructuring doesn't throw an error if destination is undefined\n    const [, destination] = this.addresses\n    return destination\n  }\n\n  get name() {\n    const beginMarker = 'Name: '\n    const endMarker = 'Email'\n\n    const beginIndex = this.textOrder.indexOf(beginMarker) + beginMarker.length\n    const endIndex = this.textOrder.indexOf(endMarker)\n\n    const name = this.textOrder.slice(beginIndex, endIndex).trim()\n\n    if (!name) throw new Error(cannotFind('name'))\n\n    return name\n  }\n\n  get email() {\n    // regex from internet\n    const email = /(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])/.exec(\n      this.textOrder\n    )\n\n    if (!email) throw new Error(cannotFind('email'))\n\n    return email[0]\n  }\n\n  get phone() {\n    // regex from internet\n    const phone = /(?<=Phone: )[+]*[(]{0,1}[0-9]{1,4}[)]{0,1}[-\\s\\./0-9]*/.exec(\n      this.textOrder\n    )\n\n    if (!phone) throw new Error(cannotFind('phone'))\n\n    return phone[0].trim()\n  }\n\n  get comment() {\n    let comment = /(?<=Comment: )(.*\\s*)*/.exec(this.textOrder)\n    comment = comment ? comment[0] : ''\n\n    const re = /\\n\\n\\-\\-\\nT√§m√§ viesti l√§hetettiin sivustolta Paku24\\.fi \\(https:\\/\\/paku24\\.fi\\)/\n    const footer = re.exec(comment)\n\n    if (footer) {\n      comment = comment.replace(re, '')\n    }\n\n    return comment\n  }\n\n  // get vanSize() {\n\n  // }\n\n  static initialCleanup(str) {\n    const splitStr = str.split('\\n')\n    const noRebundantWhitespace = []\n    splitStr.forEach((line) => noRebundantWhitespace.push(line.trim()))\n    const string = noRebundantWhitespace\n      .join('\\n')\n      .replaceAll('‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî', '')\n      .replaceAll('------------------------', '')\n\n    return string\n  }\n}\n","/* eslint-disable no-console */\nimport isJSON from 'validator/es/lib/isJSON'\nimport fees from '../data/fees.json'\nimport services from '../data/services.json'\nimport TextOrder from './TextOrder'\nimport paymentTypes from '../data/paymentTypes.json'\nimport distances from '../data/distances.json'\n\nconst defaultOrder = {\n  dateTime: new Date(),\n  duration: 1,\n  serviceName: services[0].name,\n  paymentType: paymentTypes[0].name,\n  address: '',\n  destination: '',\n  name: '',\n  email: '',\n  phone: '',\n  comment: '',\n  distance: distances.insideCapital,\n  hsy: false,\n  altColorPalette: false,\n  XL: false,\n}\nconst orderClassPropertyNames = Object.keys(defaultOrder)\n\nexport default class Order {\n  constructor(order) {\n    for (const propertyName of orderClassPropertyNames) {\n      this[propertyName] = order[propertyName] ?? defaultOrder[propertyName]\n    }\n    this.dateTime = new Date(order.dateTime)\n  }\n\n  get time() {\n    return this.dateTime.toTimeString().slice(0, 5)\n  }\n\n  get servicePrice() {\n    const service = services.find((s) => s.name === this.serviceName)\n    return this.XL ? service.priceXL : service.price\n  }\n\n  get ISODateString() {\n    return `${this.dateTime.toISOString().split('T')[0]}T${this.time}`\n  }\n\n  get confirmationDateString() {\n    let dd = this.dateTime.getDate()\n    let mm = this.dateTime.getMonth() + 1\n    const yyyy = this.dateTime.getFullYear()\n\n    if (dd < 10) {\n      dd = `0${dd}`\n    }\n    if (mm < 10) {\n      mm = `0${mm}`\n    }\n\n    return `${dd}-${mm}-${yyyy}`\n  }\n\n  get fees() {\n    const timeInNumberType = this.time.split(':')[0] * 1\n\n    const dayOFWeek = this.dateTime.getDay()\n    const dayOfMonth = this.dateTime.getDate()\n    const endOfMonth = [\n      new Date(this.dateTime.getFullYear(), this.dateTime.getMonth() + 1, 0).getDate(),\n      1,\n    ]\n\n    const weekEndFeeApplicable = dayOFWeek === 6 || dayOFWeek === 0\n    const endOfMonthFeeApplicable =\n      !weekEndFeeApplicable && endOfMonth.includes(dayOfMonth)\n    const morningFeeApplicable = timeInNumberType < 8\n    const nightFeeApplicable = timeInNumberType > 20\n    const paymentFeeApplicable =\n      this.paymentType === 'Lasku' ||\n      this.paymentType === 'Lasku/Osamaksu' ||\n      this.paymentType === 'Invoice/Instalment payment'\n\n    return [\n      weekEndFeeApplicable && fees.weekend,\n      endOfMonthFeeApplicable && fees.firstOrLastDayOfTheMonth,\n      morningFeeApplicable && fees.morning,\n      nightFeeApplicable && fees.night,\n      paymentFeeApplicable && fees.bill,\n    ].filter((f) => f !== false)\n  }\n\n  printFees() {\n    const template = '\\n@feeName\\n@feeAmount'\n    // template needs to be as long as the fees array\n    let printed = template.repeat(this.fees.length)\n    this.fees.forEach((fee) => {\n      printed = printed.replace('@feeName', fee.name.toUpperCase())\n      printed = printed.replace('@feeAmount', `${fee.amount}‚Ç¨`)\n    })\n\n    return printed\n  }\n\n  static getEventForCalendar(formattedStr, startMarker) {\n    return formattedStr.slice(formattedStr.indexOf(startMarker))\n  }\n\n  static setupOrderFromText(text) {\n    return new Promise((resolve) => {\n      if (isJSON(text)) {\n        resolve(new Order(JSON.parse(text)))\n      }\n\n      const orderArguments = {}\n      const textOrder = new TextOrder(text)\n      for (const propertyName of orderClassPropertyNames) {\n        orderArguments[propertyName] = textOrder[propertyName]\n      }\n      resolve(new Order(orderArguments))\n    })\n  }\n\n  static default() {\n    return new Order(defaultOrder)\n  }\n\n  static transformToText(order, notificate) {\n    let transformed\n    try {\n      transformed = `VARAUKSEN TIEDOT\n${order.confirmationDateString}\nALKAMISAIKA\nKlo ${order.time} (+/-15min)\nARVIOITU KESTO\n${order.duration}h (${order.servicePrice}‚Ç¨/h, ${order.serviceName})\nMAKSUTAPA\n${order.paymentType}${order.printFees()}\nL√ÑHT√ñPAIKKA\n${order.address}\n${order.destination.length > 5 ? `M√Ñ√ÑR√ÑNP√Ñ√Ñ\\n${order.destination}\\n` : ''}NIMI\n${order.name}\n${order.email ? `S√ÑHK√ñPOSTI\\n${order.email}\\n` : ''}PUHELIN\n${order.phone}\n${order.comment ? `LIS√ÑTIETOJA\\n${order.comment}\\n` : ''}`\n      notificate('Succesefully formatted!')\n    } catch (err) {\n      console.error(err)\n      notificate(err.message)\n    }\n    return transformed\n  }\n}\n","import React from 'react'\nimport { useSnackbar } from 'notistack'\nimport EventIcon from '@material-ui/icons/Event'\nimport addEventToCalendar from '../../../services/calendarAPI'\nimport orderPoolAPI from '../../../services/orderPoolAPI'\nimport Order from '../../../helpers/Order'\n\nimport CustomButton from './CustomButton'\n\nconst CALENDAR = 'calendar'\n\nexport default function AddOrderToCalendarButton({\n  order,\n  orderId,\n  transformedOrderText,\n  statusText,\n  isDisabled,\n  changeStatus,\n  className,\n}) {\n  const { enqueueSnackbar } = useSnackbar()\n\n  async function handleAddingToCalendar() {\n    try {\n      const entry = Order.getEventForCalendar(transformedOrderText, order.address)\n      if (entry) {\n        changeStatus(CALENDAR, 'Working', true)\n        const response = await addEventToCalendar({\n          entry,\n          order,\n          fees: order.fees,\n        })\n        if (orderId) await orderPoolAPI.confirm(orderId)\n        changeStatus(CALENDAR, 'Done', true)\n        enqueueSnackbar(`${response.message}\\n${response.createdEvent}`)\n      }\n    } catch (err) {\n      if (err.message === 'logout') return\n      changeStatus(CALENDAR, 'Error', false)\n      enqueueSnackbar(err.response?.data.error, { variant: 'error' })\n    }\n  }\n\n  const buttonContent = statusText || (\n    <>\n      <span>Add</span> <EventIcon />\n    </>\n  )\n\n  return (\n    <CustomButton\n      className={className}\n      isDisabled={isDisabled}\n      grayScale={statusText !== null}\n      handleClick={handleAddingToCalendar}\n      content={buttonContent}\n    />\n  )\n}\n","import React, { useState } from 'react'\nimport NewOrderButton from '../NewOrderButton'\nimport OrderPoolOpenerButton from '../OrderPool/OrderPoolOpenerButton'\nimport MessageBeforeButton from './MessageBeforeButton'\nimport ConfirmationEmailSenderButton from './ConfirmationEmailSenderButton'\nimport ConfirmationSMSSenderButton from './ConfirmationSMSSenderButton'\nimport AddOrderToCalendarButton from './AddOrderToCalendarButton'\nimport './OrderOperations.css'\n\nexport default function MainOperationsPanel({\n  order,\n  orderId,\n  transformedOrder,\n  handleResetClick,\n  orderPoolUrl,\n}) {\n  const defaultStatuses = {\n    email: {\n      status: null,\n      disable: false,\n    },\n    sms: {\n      status: null,\n      disable: false,\n    },\n    calendar: {\n      status: null,\n      disable: false,\n    },\n  }\n  const [statuses, setStatuses] = useState(defaultStatuses)\n\n  function changeStatus(name, status, disable) {\n    setStatuses({ ...statuses, [name]: { status, disable } })\n  }\n\n  function emailBlock() {\n    const isDisabled = statuses.email.disable || !(order.email && transformedOrder.text)\n    return (\n      <div className=\"block\">\n        <MessageBeforeButton\n          className={`width-75 ${isDisabled && 'grayedFont'}`}\n          text={`Email to: ${order.email}`}\n        />\n        <ConfirmationEmailSenderButton\n          className=\"width-25\"\n          email={order.email}\n          order={order}\n          statusText={statuses.email.status}\n          isDisabled={isDisabled}\n          transformedOrderText={transformedOrder.text}\n          changeStatus={changeStatus}\n        />\n      </div>\n    )\n  }\n\n  function smsBlock() {\n    const isDisabled = statuses.sms.disable || !(order.phone && transformedOrder.text)\n    return (\n      <div className=\"block\">\n        <MessageBeforeButton\n          className={`width-75 ${isDisabled && 'grayedFont'}`}\n          text={`Sms to: ${order.phone}`}\n        />\n        <ConfirmationSMSSenderButton\n          className=\"width-25\"\n          statusText={statuses.sms.status}\n          isDisabled={isDisabled}\n          phone={order.phone}\n          transformedOrderText={transformedOrder.text}\n          changeStatus={changeStatus}\n        />\n      </div>\n    )\n  }\n\n  function threeButtonsBlock() {\n    const isDisabled = statuses.calendar.disable || !transformedOrder.text\n    return (\n      <div className=\"block\">\n        <NewOrderButton\n          className=\"share-space\"\n          handleClick={() => {\n            setStatuses(defaultStatuses)\n            handleResetClick()\n          }}\n        />\n        <OrderPoolOpenerButton className=\"share-space\" orderPoolUrl={orderPoolUrl} />\n        <AddOrderToCalendarButton\n          className=\"width-25\"\n          statusText={statuses.calendar.status}\n          isDisabled={isDisabled}\n          order={order}\n          orderId={orderId}\n          transformedOrderText={transformedOrder.text}\n          changeStatus={changeStatus}\n        />\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"order-operations\">\n      {emailBlock()}\n      {smsBlock()}\n      {threeButtonsBlock()}\n    </div>\n  )\n}\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport useMediaQuery from '@material-ui/core/useMediaQuery'\nimport { useTheme } from '@material-ui/core/styles'\n\nexport default function ResponsiveDialog({ children, handleClose }) {\n  const theme = useTheme()\n  const fullScreen = useMediaQuery(theme.breakpoints.down('sm'))\n\n  return (\n    <>\n      <Dialog\n        fullScreen={fullScreen}\n        open\n        onClose={handleClose}\n        aria-labelledby=\"responsive-dialog-title\"\n        disableScrollLock\n      >\n        <DialogContent>{children}</DialogContent>\n        <DialogActions>\n          <Button\n            style={{ backgroundColor: 'white' }}\n            variant=\"text\"\n            onClick={handleClose}\n          >\n            Close\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  )\n}\n","import React from 'react'\n\nexport default function LoadingUntillDone({\n  loading,\n  redirectComponent = null,\n  children,\n}) {\n  return (\n    <>\n      {loading && <p>Loading...</p>}\n      {redirectComponent}\n      {!loading && !redirectComponent && children}\n    </>\n  )\n}\n","/* eslint-disable react/no-array-index-key */\nimport React, { useEffect, useState } from 'react'\nimport Button from '@material-ui/core/Button'\nimport isJSON from 'validator/es/lib/isJSON'\n\nexport default function OrdersList({\n  orders,\n  handleExport,\n  handleDeletion,\n  handleLoadingMoreOrders,\n  labelForDeletion,\n}) {\n  const [ordersWithStyles, setOrdersWithStyles] = useState([])\n\n  useEffect(() => {\n    setOrdersWithStyles(\n      orders.map((order) => ({\n        order: {\n          ...order,\n        },\n        isNew:\n          new Date(order.date).toDateString() === new Date(Date.now()).toDateString(),\n        className: order.confirmed\n          ? 'basic-order-style confirmed-order-style'\n          : 'basic-order-style',\n        hidden: order.confirmed,\n      }))\n    )\n  }, [orders])\n\n  function handleHideOrShow(orderWithStyles) {\n    setOrdersWithStyles([\n      ...ordersWithStyles.map((o) => {\n        if (o.order.id === orderWithStyles.order.id) {\n          return {\n            ...orderWithStyles,\n            hidden: !o.hidden,\n            className: o.hidden\n              ? 'basic-order-style'\n              : 'basic-order-style confirmed-order-style',\n          }\n        }\n        return o\n      }),\n    ])\n  }\n\n  function empty() {\n    return <p>Nothing found</p>\n  }\n\n  function JSONOrder(jsonOrder, id) {\n    return Object.entries(JSON.parse(jsonOrder)).map(([fieldName, fieldValue], index) => (\n      <div\n        key={`${fieldName}${fieldValue}${id}`}\n        style={{\n          minHeight: '1.2rem',\n          backgroundColor: index % 2 !== 0 && 'var(--brand-color-very-light)',\n        }}\n      >\n        <span style={{ fontWeight: 'bold' }}>{fieldName}</span>:{' '}\n        {fieldName === 'dateTime'\n          ? `${new Date(fieldValue).toLocaleDateString()} ${new Date(fieldValue)\n              .toLocaleTimeString()\n              .slice(0, 5)}`\n          : fieldValue}\n      </div>\n    ))\n  }\n\n  function textOrder(txtOrder, id) {\n    return txtOrder\n      .split('\\n')\n      .map((line, index) => <div key={`${id}${index}${line}`}>{line}</div>)\n  }\n\n  function list() {\n    return (\n      <>\n        {ordersWithStyles.map((orderWithStyles) => (\n          <div className=\"order-pool-list\" key={orderWithStyles.order.id}>\n            <div className=\"order-top-bar\">\n              <div className=\"order-status-icons-container\">\n                {orderWithStyles.isNew && (\n                  <span className=\"order-status-new-order order-status-icon\">NEW</span>\n                )}\n                <span\n                  className={`order-status-icon ${\n                    orderWithStyles.order.confirmed\n                      ? 'order-status-icon order-status-confirmed'\n                      : 'order-status-icon order-status-notification'\n                  }`}\n                >\n                  {orderWithStyles.order.confirmed ? '‚úî' : '‚ùï'}{' '}\n                </span>\n              </div>\n              <div className=\"order-actions\">\n                <Button\n                  style={{ padding: 0, fontSize: '0.9rem' }}\n                  variant=\"text\"\n                  size=\"small\"\n                  onClick={() => handleDeletion(orderWithStyles.order.id)}\n                >\n                  {labelForDeletion}\n                </Button>\n                <Button\n                  style={{\n                    padding: 0,\n                    fontSize: '0.8rem',\n                    color: orderWithStyles.order.confirmed && 'var(--brand-color-dark)',\n                  }}\n                  onClick={() => {\n                    handleExport(orderWithStyles.order)\n                  }}\n                  variant=\"text\"\n                  size=\"small\"\n                >\n                  Export\n                </Button>\n                <Button\n                  style={{ padding: 0 }}\n                  variant=\"text\"\n                  size=\"small\"\n                  onClick={() => handleHideOrShow(orderWithStyles)}\n                >\n                  {orderWithStyles.hidden ? 'Show ‚ûï' : 'Hide ‚ûñ'}\n                </Button>\n              </div>\n            </div>\n            <div className={orderWithStyles.className}>\n              {isJSON(orderWithStyles.order.text)\n                ? JSONOrder(orderWithStyles.order.text, orderWithStyles.order.id)\n                : textOrder(orderWithStyles.order.text, orderWithStyles.order.id)}\n            </div>\n          </div>\n        ))}\n        <Button onClick={handleLoadingMoreOrders} size=\"small\">\n          Load more\n        </Button>\n      </>\n    )\n  }\n\n  return orders.length === 0 ? empty() : list()\n}\n","import React, { useEffect, useState } from 'react'\nimport TextField from '@material-ui/core/TextField'\nimport Button from '@material-ui/core/Button'\nimport IconButton from '@material-ui/core/IconButton'\nimport RefreshIcon from '@material-ui/icons/Refresh'\nimport DeleteIcon from '@material-ui/icons/Delete'\nimport RestoreIcon from '@material-ui/icons/Restore'\nimport orderPoolAPI from '../../../services/orderPoolAPI'\nimport LoadingUntillDone from '../../LoadingUntillDone'\nimport OrdersList from './OrdersList'\nimport './OrderPool.css'\n\nconst INBOX = 'inbox'\nconst TRASHCAN = 'trashcan'\n\nexport default function OrderPool({ handleExport }) {\n  const [orders, setOrders] = useState([])\n  const [isLoading, setIsloading] = useState(true)\n\n  const [currentTab, setCurrentTab] = useState(INBOX)\n  const [searchOptions, setSearchOptions] = useState({\n    inbox: {\n      pages: [1],\n      searchText: '',\n      showOnlyNotConfirmed: false,\n    },\n    trashcan: {\n      pages: [1],\n      searchText: '',\n      showOnlyNotConfirmed: false,\n    },\n  })\n  const [searchResults, setSearchResults] = useState(orders)\n  const [forceUpdate, setForceUpdate] = useState({ hasToUpdate: false, trigger: 0 })\n  const [pages, setPages] = useState({ inbox: [1], trashcan: [1] })\n\n  const numberOfOrders = orders.length\n  const numberOfUnconfirmedOrders = orders.filter((order) => !order.confirmed).length\n\n  function filterWithSearchText(values, search) {\n    return values.filter((value) =>\n      value.text.toLowerCase().includes(search?.toLowerCase().trim())\n    )\n  }\n\n  function filterConfirmed(values, condition) {\n    return condition ? values.filter((value) => value?.confirmed === false) : values\n  }\n\n  function makeSearch(val, bool, searchTarget) {\n    const filteredWithConfirmedAndSearch = filterConfirmed(\n      filterWithSearchText(searchTarget, val),\n      bool\n    )\n    return filteredWithConfirmedAndSearch\n  }\n\n  useEffect(async () => {\n    setIsloading(true)\n    let ordersFromPool\n    try {\n      ordersFromPool =\n        currentTab === INBOX\n          ? await orderPoolAPI.get(pages[currentTab], {\n              forceUpdate: forceUpdate.hasToUpdate,\n            })\n          : await orderPoolAPI.get(pages[currentTab], {\n              deleted: true,\n              forceUpdate: forceUpdate.hasToUpdate,\n            })\n\n      setOrders(ordersFromPool)\n\n      const filteredOrders = makeSearch(\n        searchOptions[currentTab].searchText,\n        searchOptions[currentTab].showOnlyNotConfirmed,\n        ordersFromPool\n      )\n      setSearchResults(filteredOrders)\n      return setIsloading(false)\n    } catch (err) {\n      return err\n    }\n  }, [currentTab, forceUpdate.trigger])\n\n  async function handleLoadingMoreOrders() {\n    const newPage = [pages[currentTab].length + 1]\n    setPages({\n      ...pages,\n      [currentTab]: [...pages[currentTab], ...newPage],\n    })\n    const moreOrdersFromPool =\n      currentTab === INBOX\n        ? await orderPoolAPI.get(newPage)\n        : await orderPoolAPI.get(newPage, { deleted: true })\n\n    const concatenatedOrders = orders.concat(moreOrdersFromPool)\n\n    setOrders(concatenatedOrders)\n\n    const filteredOrders = makeSearch(\n      searchOptions[currentTab].searchText,\n      searchOptions[currentTab].showOnlyNotConfirmed,\n      concatenatedOrders\n    )\n    setSearchResults(filteredOrders)\n  }\n\n  function handleSearchChange(e) {\n    const prevOptsForCurTab = searchOptions[currentTab]\n    setSearchOptions({\n      ...searchOptions,\n      [currentTab]: { ...prevOptsForCurTab, searchText: e.target.value },\n    })\n\n    const filteredOrders = makeSearch(\n      e.target.value,\n      prevOptsForCurTab.showOnlyNotConfirmed,\n      orders\n    )\n\n    setSearchResults(filteredOrders)\n  }\n\n  function handleOnlyNotConfirmedSearch(bool) {\n    const prevOptsForCurTab = searchOptions[currentTab]\n    setSearchOptions({\n      ...searchOptions,\n      [currentTab]: { ...prevOptsForCurTab, showOnlyNotConfirmed: bool },\n    })\n\n    const filteredOrders = makeSearch(prevOptsForCurTab.searchText, bool, orders)\n\n    setSearchResults(filteredOrders)\n  }\n\n  function handleTabBarChange(e) {\n    setCurrentTab(e.target.dataset.tabname)\n  }\n\n  function handleRefresh() {\n    setForceUpdate({\n      ...forceUpdate,\n      trigger: forceUpdate.trigger + 1,\n      hasToUpdate: true,\n    })\n    setTimeout(() =>\n      setForceUpdate({\n        ...forceUpdate,\n        hasToUpdate: false,\n      })\n    )\n  }\n\n  async function handleOrderDeletion(id) {\n    await orderPoolAPI.remove(id)\n    setOrders(orders.filter((order) => order.id !== id))\n    setSearchResults(searchResults.filter((order) => order.id !== id))\n  }\n\n  async function handleRetrieval(id) {\n    await orderPoolAPI.retrieve(id)\n    setOrders(orders.filter((order) => order.id !== id))\n    setSearchResults(searchResults.filter((order) => order.id !== id))\n  }\n\n  const inboxClassName = () =>\n    currentTab === INBOX ? 'tab-panel-item tab-panel-item-selected' : 'tab-panel-item'\n\n  const trashcanClassName = () =>\n    currentTab === TRASHCAN ? 'tab-panel-item tab-panel-item-selected' : 'tab-panel-item'\n\n  return (\n    <>\n      <div className=\"tab-panel\">\n        <Button onClick={handleTabBarChange} className=\"p-0\" variant=\"text\" size=\"small\">\n          <h3 data-tabname={INBOX} className={inboxClassName()}>\n            Inbox\n          </h3>\n        </Button>\n        <Button onClick={handleTabBarChange} className=\"p-0\" variant=\"text\" size=\"small\">\n          <h3 data-tabname={TRASHCAN} className={trashcanClassName()}>\n            Trashcan\n          </h3>\n        </Button>\n        <IconButton\n          style={{ marginLeft: 'auto', marginRight: '12px' }}\n          onClick={handleRefresh}\n          className=\"p-0\"\n          variant=\"text\"\n          size=\"small\"\n        >\n          <RefreshIcon />\n        </IconButton>\n      </div>\n      <div className=\"filters-tab\">\n        <span className=\"filters-tab-orders-count\">\n          {searchResults.length}/{orders.length}\n        </span>\n        <TextField\n          className=\"flex-item\"\n          type=\"text\"\n          name=\"searchText\"\n          placeholder=\"Search\"\n          value={searchOptions[currentTab].searchText}\n          onChange={handleSearchChange}\n        />\n        {numberOfUnconfirmedOrders > 0 && (\n          <Button\n            className=\"p-0 filters-tab-orders-status-icon\"\n            size=\"small\"\n            onClick={() =>\n              handleOnlyNotConfirmedSearch(\n                !searchOptions[currentTab].showOnlyNotConfirmed\n              )\n            }\n          >\n            <span style={{ fontSize: '1rem' }}>\n              {searchOptions[currentTab].showOnlyNotConfirmed\n                ? numberOfOrders\n                : numberOfUnconfirmedOrders}\n            </span>\n            <span\n              className={`order-status-icon order-status-notification ${\n                searchOptions[currentTab].showOnlyNotConfirmed &&\n                'order-status-icon-selected'\n              }`}\n            >\n              {searchOptions[currentTab].showOnlyNotConfirmed ? '‚úî&‚ùï' : '‚ùï'}\n            </span>\n          </Button>\n        )}\n      </div>\n      <LoadingUntillDone loading={isLoading}>\n        <OrdersList\n          orders={searchResults}\n          handleExport={handleExport}\n          labelForDeletion={currentTab === TRASHCAN ? <RestoreIcon /> : <DeleteIcon />}\n          handleDeletion={currentTab === TRASHCAN ? handleRetrieval : handleOrderDeletion}\n          handleLoadingMoreOrders={handleLoadingMoreOrders}\n        />\n      </LoadingUntillDone>\n    </>\n  )\n}\n","import React from 'react'\nimport { useHistory } from 'react-router-dom'\nimport ResponsiveDialog from '../../ResponsiveDialog'\nimport OrderPool from './OrderPool'\n\nexport default function OrderPoolDialog({ handleExport }) {\n  const history = useHistory()\n\n  const handleClose = () => {\n    history.goBack()\n  }\n\n  return (\n    <>\n      <ResponsiveDialog handleClose={handleClose}>\n        <OrderPool\n          handleExport={(o) => {\n            handleExport(o)\n            handleClose()\n          }}\n        />\n      </ResponsiveDialog>\n    </>\n  )\n}\n","import React, { useState, useRef, useEffect } from 'react'\nimport { useSnackbar } from 'notistack'\nimport { Route } from 'react-router-dom'\n\nimport './Confirmator.css'\nimport Editor from './Editor'\n\nimport OrderSettings from './OrderSettings'\nimport ValidationDisplay from './ValidationDisplay'\nimport RawOrderContainer from './OrderContainers/RawOrderContainer'\nimport TransformedOrderContainer from './OrderContainers/TransformedOrderContainer'\nimport TransformPanel from './OrderOperations/TransformPanel'\nimport MainOperationsPanel from './OrderOperations/MainOperationsPanel'\nimport OrderPoolDialog from './OrderPool/OrderPoolDialog'\n\nimport Order from '../../helpers/Order'\n\nexport default function Confirmator() {\n  const [rawOrder, setRawOrder] = useState({ text: '', id: null })\n  const [transformedOrder, setTransformedOrder] = useState({\n    text: '',\n    id: null,\n  })\n\n  const [order, setOrder] = useState(Order.default())\n\n  useEffect(() => {\n    const savedOrder = localStorage.getItem('confirmator_order')\n    if (savedOrder) {\n      setOrder(new Order(JSON.parse(savedOrder)))\n    }\n  }, [])\n\n  useEffect(() => {\n    localStorage.setItem('confirmator_order', JSON.stringify(order))\n  }, [order])\n\n  const { enqueueSnackbar } = useSnackbar()\n\n  function transform(o) {\n    return Order.transformToText(o, (msg) =>\n      enqueueSnackbar(msg, { autoHideDuration: 750 })\n    )\n  }\n\n  const rawOrderOrderContainerRef = useRef(null)\n  const transformedOrderContainerRef = useRef(null)\n\n  function reset() {\n    setRawOrder({ text: '', id: null })\n    setTransformedOrder({ text: '', id: null })\n    setOrder(Order.default())\n  }\n\n  function handleOrderChange(e) {\n    const changedOrder = new Order({\n      ...order,\n      [e.target.name]: e.target.type === 'checkbox' ? e.target.checked : e.target.value,\n    })\n    return setOrder(changedOrder)\n  }\n\n  function handleRawOrderUpdate(rawO) {\n    // Raw order has an id and is an object if it is exported from DB otherwise it's a plain string\n    setRawOrder({ ...rawOrder, id: rawO.id || null, text: rawO.text || rawO })\n  }\n  function handleTransformedOrderUpdate(transO) {\n    setTransformedOrder({ ...transformedOrder, text: transO })\n  }\n\n  function handleOrderTransformFromText(o = rawOrder) {\n    Order.setupOrderFromText(o.text)\n      .then((orderFromText) => {\n        setOrder(orderFromText)\n        return setTransformedOrder({\n          id: o.id,\n          text: transform(orderFromText),\n        })\n      })\n      .catch((err) => enqueueSnackbar(err.message, { variant: 'error' }))\n  }\n\n  function handleOrderTransformFromEditor() {\n    return setTransformedOrder({ id: rawOrder.id, text: transform(order) })\n  }\n\n  function handleOrderPoolExport(o) {\n    handleRawOrderUpdate(o)\n    handleOrderTransformFromText(o)\n    setTimeout(\n      () => rawOrderOrderContainerRef.current.scrollIntoView({ smooth: true }),\n      700\n    )\n  }\n\n  return (\n    <div className=\"flex-container\">\n      <RawOrderContainer\n        elementRef={rawOrderOrderContainerRef}\n        rawOrderText={rawOrder.text}\n        handleClick={handleRawOrderUpdate}\n      />\n\n      <Editor order={order} handleChange={handleOrderChange} />\n\n      <TransformPanel\n        elementRef={transformedOrderContainerRef}\n        transformDisabled={!rawOrder.text}\n        copyDisabled={!transformedOrder.text}\n        handleOrderTransformFromText={handleOrderTransformFromText}\n        handleOrderTransformFromEditor={handleOrderTransformFromEditor}\n      />\n\n      <TransformedOrderContainer\n        elementRef={transformedOrderContainerRef}\n        transformedOrderText={transformedOrder.text}\n        handleClick={handleTransformedOrderUpdate}\n      />\n\n      <OrderSettings handleChange={handleOrderChange} order={order} />\n      <ValidationDisplay order={order} shouldValidate={transformedOrder.text} />\n      <MainOperationsPanel\n        order={order}\n        orderId={rawOrder.id}\n        transformedOrder={transformedOrder}\n        handleResetClick={reset}\n        orderPoolUrl=\"/confirmator/order-pool\"\n      />\n      <Route path=\"/confirmator/order-pool\">\n        <OrderPoolDialog handleExport={handleOrderPoolExport} />\n      </Route>\n    </div>\n  )\n}\n","export default __webpack_public_path__ + \"static/media/paku24-logo.7602fc02.png\";","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport './Header.css'\nimport logo from '../assets/paku24-logo.png'\n\nexport default function Header({ isLogged }) {\n  return (\n    <div className=\"logo\">\n      <div>\n        <Link to={isLogged ? '/confirmator' : '/login'}>\n          <img src={logo} alt=\"Logo\" width=\"125px\" />\n        </Link>\n        <span className=\"text\">CONFIRMATOR</span>\n      </div>\n    </div>\n  )\n}\n","import axios from 'axios'\n\nconst baseUrl = '/api/login'\n\n// Defining interceptor specific to login service\n// Default interceptor notifies about refresh token problems\n// We don't need to notify about that when the user opens the app for the first time\n// (eg. when trying to login)\nconst axiosLoginInstance = axios.create()\naxiosLoginInstance.interceptors.response.use(\n  (response) => response,\n  async (error) => {\n    const originalRequest = error.config\n    if (error.response.data.error === 'access token expired') {\n      try {\n        await axios.post('/api/token')\n        await axios.post('/api/token/is-new')\n        return axiosLoginInstance(originalRequest)\n      } catch (err) {\n        return err\n      }\n    }\n\n    return Promise.reject(error)\n  }\n)\n\nasync function loginWithCredentials(credentials) {\n  return axiosLoginInstance.post(baseUrl, credentials).then((res) => res.data)\n}\n\nasync function loginWithAccessToken() {\n  const response = await axiosLoginInstance.post(`${baseUrl}/token`)\n  return response.data\n}\n\nexport default { loginWithCredentials, loginWithAccessToken }\n","import React from 'react'\nimport InfoOutlinedIcon from '@material-ui/icons/InfoOutlined'\n\nconst Notification = ({ notification }) => {\n  let color = 'black'\n  if (notification.toLowerCase().includes('error')) color = 'red'\n\n  return (\n    <>\n      {notification ? (\n        <div\n          style={{\n            backgroundColor: 'white',\n            color,\n            padding: '10px',\n            width: '80%',\n            borderBottom: '3px solid darkgrey',\n            fontSize: 'small',\n            display: 'flex',\n            alignItems: 'center',\n            marginBottom: '10px',\n          }}\n        >\n          <InfoOutlinedIcon />\n          <span style={{ marginLeft: '10px' }}>{notification}</span>\n        </div>\n      ) : null}\n    </>\n  )\n}\n\nexport default Notification\n","import React, { useState } from 'react'\nimport { useHistory, Link } from 'react-router-dom'\nimport TextField from '@material-ui/core/TextField'\nimport Button from '@material-ui/core/Button'\nimport loginServi—Åe from '../services/login'\nimport Notification from './Notification'\n\nexport default function Login({ setUser }) {\n  const background = {\n    width: '95%',\n    margin: '0 auto',\n    padding: 20,\n    backgroundColor: 'lightgrey',\n    borderBottom: '4px solid darkgrey',\n  }\n\n  const flexItem = {\n    marginBottom: '7px',\n    backgroundColor: 'white',\n  }\n\n  const formContainer = {\n    color: 'black',\n    fontSize: '1.3rem',\n    letterSpacing: '0.7px',\n    marginTop: '10px',\n    marginBottom: '15px',\n  }\n\n  const flexForm = {\n    paddingBottom: '10px',\n    height: '80%',\n    display: 'flex',\n    flexFlow: 'column wrap',\n    justifyContent: 'space-evenly',\n  }\n\n  const history = useHistory()\n  const referrer = history?.location.state?.referrer\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [isButtonDisabled, setIsButtonDisabled] = useState(false)\n  const [inputError, setInputError] = useState(false)\n  const [notification, setNotification] = useState('')\n\n  async function handleLogin(event) {\n    event.preventDefault()\n    setNotification('Working...')\n\n    try {\n      const { user } = await loginServi—Åe.loginWithCredentials({\n        username,\n        password,\n      })\n      setNotification('Done')\n\n      history.push(referrer || '/confirmator')\n      setUser(user)\n    } catch (err) {\n      setInputError(true)\n      setIsButtonDisabled(true)\n      setTimeout(() => setIsButtonDisabled(false), 2000)\n      setNotification(`Error: ${err.response?.data.error}`)\n    }\n  }\n\n  return (\n    <div style={{ margin: '30px 5px' }}>\n      <div style={background}>\n        <div style={formContainer}>\n          LOGIN\n          <span\n            style={{\n              color: 'black',\n              fontSize: '1.0rem',\n              letterSpacing: '0.2px',\n            }}\n          >\n            {' '}\n            or <Link to=\"/register\">request access</Link>\n          </span>\n        </div>\n\n        <Notification notification={notification} />\n\n        <form onSubmit={handleLogin} style={flexForm}>\n          <TextField\n            className=\"flex-item\"\n            style={flexItem}\n            error={inputError}\n            required\n            name=\"username\"\n            value={username}\n            onChange={({ target }) => setUsername(target.value)}\n            label=\"Username\"\n            variant=\"filled\"\n            size=\"small\"\n          />\n          <TextField\n            className=\"flex-item\"\n            style={flexItem}\n            error={inputError}\n            type=\"password\"\n            required\n            value={password}\n            name=\"password\"\n            onChange={({ target }) => setPassword(target.value)}\n            label=\"Password\"\n            variant=\"filled\"\n            size=\"small\"\n          />\n\n          <Button\n            className=\"flex-item\"\n            style={flexItem}\n            type=\"submit\"\n            disabled={isButtonDisabled}\n            variant=\"contained\"\n            size=\"small\"\n          >\n            Login\n          </Button>\n        </form>\n      </div>\n    </div>\n  )\n}\n","import React, { useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport TextField from '@material-ui/core/TextField'\nimport Button from '@material-ui/core/Button'\nimport axios from 'axios'\nimport Notification from './Notification'\n\nexport default function Register() {\n  const background = {\n    width: '95%',\n    padding: 20,\n    margin: '0 auto',\n    backgroundColor: 'lightgrey',\n    borderBottom: '4px solid darkgrey',\n  }\n\n  const flexItem = {\n    marginBottom: '7px',\n    backgroundColor: 'white',\n  }\n\n  const formContainer = {\n    color: 'black',\n    fontSize: '1.3rem',\n    letterSpacing: '0.7px',\n    marginTop: '10px',\n    marginBottom: '15px',\n  }\n\n  const flexForm = {\n    paddingBottom: '10px',\n    height: '80%',\n    display: 'flex',\n    flexFlow: 'column wrap',\n    justifyContent: 'space-evenly',\n  }\n\n  const [name, setName] = useState('')\n  const [email, setEmail] = useState('')\n  const [purpose, setPurpose] = useState('')\n  const [response, setResponse] = useState('')\n  const [disabled, setDisabled] = useState(false)\n\n  async function sendRequestForAccess(params) {\n    return axios.post('/api/registration/request-access', params).then((res) => res.data)\n  }\n\n  async function handleRequest(event) {\n    event.preventDefault()\n    setDisabled(true)\n    setResponse('Working...')\n    try {\n      const res = await sendRequestForAccess({ name, email, purpose })\n      setResponse(res?.message)\n      setName('')\n      setEmail('')\n      setPurpose('')\n      setDisabled(false)\n    } catch (err) {\n      setDisabled(false)\n      setResponse(`Error: ${err?.response.data?.error}`)\n    }\n  }\n\n  return (\n    <div style={{ margin: '30px 5px' }}>\n      <div style={background}>\n        <div style={formContainer}>\n          REQUEST ACCESS\n          <span\n            style={{\n              color: 'black',\n              fontSize: '1.0rem',\n              letterSpacing: '0.2px',\n            }}\n          >\n            {' '}\n            or <Link to=\"/login\">login</Link>\n          </span>\n        </div>\n\n        <Notification notification={response} />\n\n        <form onSubmit={handleRequest} style={flexForm}>\n          <TextField\n            style={flexItem}\n            required\n            name=\"name\"\n            value={name}\n            onChange={({ target }) => setName(target.value)}\n            label=\"Name\"\n            variant=\"filled\"\n            size=\"small\"\n          />\n          <TextField\n            style={flexItem}\n            type=\"email\"\n            required\n            value={email}\n            name=\"email\"\n            onChange={({ target }) => setEmail(target.value)}\n            label=\"Email\"\n            variant=\"filled\"\n            size=\"small\"\n          />\n\n          <TextField\n            style={flexItem}\n            type=\"text\"\n            required\n            multiline\n            rows=\"3\"\n            value={purpose}\n            name=\"purpose\"\n            onChange={({ target }) => setPurpose(target.value)}\n            label=\"Why do you want to use this application?\"\n            variant=\"filled\"\n            size=\"small\"\n          />\n\n          <Button\n            style={flexItem}\n            type=\"submit\"\n            disabled={disabled}\n            variant=\"contained\"\n            size=\"small\"\n          >\n            Send request\n          </Button>\n        </form>\n      </div>\n    </div>\n  )\n}\n","import axios from 'axios'\n\nconst baseUrl = '/api/logout'\n\nasync function logout() {\n  return axios.post(baseUrl).then((res) => res.data)\n}\n\nexport default { logout }\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport MeetingRoomIcon from '@material-ui/icons/MeetingRoom'\n\nexport default function LogoutButton({ handleClick }) {\n  return (\n    <Button\n      style={{ backgroundColor: 'lightgrey' }}\n      variant=\"outlined\"\n      size=\"small\"\n      onClick={handleClick}\n    >\n      Logout <MeetingRoomIcon />\n    </Button>\n  )\n}\n","import React from 'react'\nimport logoutService from '../services/logout'\nimport LogoutButton from './LogoutButton'\n\nexport default function Footer({ user, logoutUser }) {\n  return (\n    <div\n      style={{\n        backgroundColor: 'darkgrey',\n        padding: '15px',\n        marginTop: '40px',\n        display: 'flex',\n        justifyContent: 'space-between',\n        borderTop: '3.5px solid lightgrey',\n      }}\n    >\n      <div style={{ paddingTop: '2px', marginRight: '20px' }}>\n        <span style={{ fontFamily: 'monospace' }}>\n          {' '}\n          {user.username}\n          <br />\n          {user.name}\n        </span>\n      </div>\n      <LogoutButton handleClick={() => logoutService.logout().then(logoutUser)} />\n    </div>\n  )\n}\n","import React, { useState, useEffect } from 'react'\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom'\nimport { ErrorBoundary } from 'react-error-boundary'\nimport { useSnackbar } from 'notistack'\nimport Confirmator from './components/Confirmator/Confirmator'\nimport Header from './components/Header'\nimport Login from './components/Login'\nimport Register from './components/Register'\nimport loginServi—Åe from './services/login'\nimport './App.css'\nimport Footer from './components/Footer'\nimport LoadingUntillDone from './components/LoadingUntillDone'\nimport interceptor from './services/interceptor'\n\nfunction ErrorFallback({ error }) {\n  return (\n    <div role=\"alert\">\n      <p>Something went wrong:</p>\n      <pre style={{ color: 'red' }}>{error.message}</pre>\n    </div>\n  )\n}\n\nfunction RedirectToLoginPageIfNotAuthenticated({ user, setUser, children }) {\n  const history = useHistory()\n  let currentLocation\n  if (user === null || user === 'Loading') {\n    currentLocation = history.location.pathname\n  }\n\n  const loading = user === 'Loading'\n  const mustRedirect = user === null\n  const redirectToLoginPage = mustRedirect && (\n    <Redirect to={{ pathname: '/login', state: { referrer: currentLocation } }} />\n  )\n\n  return (\n    <>\n      <LoadingUntillDone loading={loading} redirectComponent={redirectToLoginPage}>\n        {children}\n      </LoadingUntillDone>\n\n      <Route path=\"/login\">\n        {user === null ? <Login setUser={setUser} /> : <Redirect to=\"/confirmator\" />}\n      </Route>\n    </>\n  )\n}\n\nfunction App() {\n  const [user, setUser] = useState('Loading')\n\n  const { enqueueSnackbar } = useSnackbar()\n  const history = useHistory()\n\n  useEffect(async () => {\n    // Initializing Axios interceptor with ability to logout user\n    interceptor.setupInterceptor({\n      logout: () => setUser(null),\n      notificate: () =>\n        enqueueSnackbar(\n          'You were logged out for security reasons. Your work has been saved. Login to continue.',\n          {\n            variant: 'warning',\n            autoHideDuration: 10000,\n          }\n        ),\n    })\n\n    try {\n      const { user: userFromToken } = await loginServi—Åe.loginWithAccessToken()\n      history.push('/confirmator')\n      return setUser(userFromToken)\n    } catch (err) {\n      return setUser(null)\n    }\n  }, [])\n\n  return (\n    <div className=\"container\">\n      <ErrorBoundary FallbackComponent={ErrorFallback}>\n        <Header isLogged={user !== null && user !== 'Loading'} />\n        <Switch>\n          <Route path=\"/register\">\n            <Register />\n          </Route>\n          <Route path=\"/\">\n            <RedirectToLoginPageIfNotAuthenticated user={user} setUser={setUser}>\n              <Route path=\"/confirmator\">\n                <Confirmator />\n                <Footer user={user} logoutUser={() => setUser(null)} />\n              </Route>\n            </RedirectToLoginPageIfNotAuthenticated>\n          </Route>\n        </Switch>\n      </ErrorBoundary>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter as Router } from 'react-router-dom'\nimport { SnackbarProvider } from 'notistack'\nimport CancelIcon from '@material-ui/icons/Cancel'\nimport App from './App'\nimport './index.css'\n\nconst notistackRef = React.createRef()\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router basename=\"/app\">\n      <SnackbarProvider\n        action={(key) => (\n          <CancelIcon\n            onClick={() => {\n              notistackRef.current.closeSnackbar(key)\n            }}\n          />\n        )}\n        ref={notistackRef}\n        maxSnack={3}\n        dense\n        autoHideDuration={3500}\n        anchorOrigin={{ horizontal: 'left', vertical: 'top' }}\n      >\n        <App />\n      </SnackbarProvider>\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}