{"version":3,"sources":["components/Confirmator/Editor.js","components/Confirmator/OrderSettings.js","components/Confirmator/ValidationDisplay.js","components/Confirmator/withEditing.js","components/Confirmator/OrderContainers/RawOrderContainer.js","components/Confirmator/OrderContainers/TransformedOrderContainer.js","components/Confirmator/OrderOperations/TransformButton.js","components/Confirmator/OrderOperations/CopyButton.js","components/Confirmator/OrderOperations/TransformPanel.js","components/Confirmator/NewOrderButton.js","components/Confirmator/OrderPool/OrderPoolOpenerButton.js","components/Confirmator/OrderOperations/MessageBeforeButton.js","components/Confirmator/OrderOperations/CustomButton.js","services/tokens.js","services/interceptor.js","services/emailAPI.js","components/Confirmator/OrderOperations/ConfirmationEmailSenderButton.js","services/smsAPI.js","components/Confirmator/OrderOperations/ConfirmationSMSSenderButton.js","services/calendarAPI.js","services/orderPoolAPI.js","helpers/TextOrder.js","helpers/Order.js","components/Confirmator/OrderOperations/AddOrderToCalendarButton.js","components/Confirmator/OrderOperations/MainOperationsPanel.js","components/ResponsiveDialog.js","components/LoadingUntillDone.js","components/Confirmator/OrderPool/OrdersList.js","components/Confirmator/OrderPool/OrderPool.js","components/Confirmator/OrderPool/OrderPoolDialog.js","components/Confirmator/Confirmator.js","assets/paku24-logo.png","components/Header.js","services/login.js","components/Notification.js","components/Login.js","components/Register.js","services/logout.js","components/LogoutButton.js","components/Footer.js","App.js","index.js"],"names":["Editor","order","handleChange","margin","marginTop","marginLeftRight","marginLeft","marginRight","useState","dateTime","selectedDate","handleDateChange","useEffect","target","name","value","className","style","utils","DayjsUtils","DateTimePicker","ampm","format","minutesStep","onChange","DialogProps","disableScrollLock","NativeSelect","paddingLeft","duration","fullWidth","serviceName","services","map","service","id","paymentType","paymentTypes","TextField","required","address","label","variant","size","multiline","destination","email","type","phone","TextareaAutosize","rowsMin","cols","comment","placeholder","CheckboxGroup","props","FormControl","hiddenLabel","FormLabel","component","RadioGroup","distance","FormControlLabel","control","Radio","color","Checkbox","checked","hsy","labelPlacement","altColorPalette","XL","ValidationMessages","validationArray","errStyle","v","isError","message","ValidationDisplay","shouldValidate","setValidationArray","validationAr","validator","isBefore","toISOString","Date","confirmationDateString","time","isEmpty","isMobilePhone","isEmail","someIsInvalid","some","borderTop","borderBottom","padding","withEditing","EditableComponent","NotEditableComponent","content","handleUpdate","rest","isEditable","setIsEditable","savedChanges","setSavedChanges","incomingChanges","setIncomingChanges","handleIncomingChanges","e","handleCancelClick","handleSaveClick","handleEditClick","Button","onClick","button","IconButton","width","RawOrderContainer","handleClick","rawOrderText","elementRef","ContainerWithEditing","ref","TransformedOrderContainer","transformedOrderText","length","split","line","index","TransformButton","text","fontSize","CopyButton","disabled","tempTextarea","document","createElement","body","appendChild","current","innerText","defaultValue","select","execCommand","removeChild","copyToClipboard","Toast","info","TransformPanel","handleOrderTransformFromText","handleOrderTransformFromEditor","transformDisabled","copyDisabled","NewOrderButton","OrderPoolOpenerButton","history","useHistory","push","MessageBeforeButton","CustomButton","isDisabled","grayScale","display","baseUrl","a","interceptor","axiosInstance","post","result","response","data","error","refreshTokens","axios","create","setupInterceptor","externalActions","interceptors","use","originalRequest","config","tokenService","logout","status","setTimeout","Promise","reject","params","EMAIL","ConfirmationEmailSenderButton","statusText","changeStatus","buttonContent","sendConfirmationEmail","orderDetails","then","res","catch","err","fail","sendSMS","SMS","ConfirmationSMSSenderButton","msg","addEventToCalendar","makeQueryArray","queryName","items","item","isLastItem","join","storeOrdersInSessionStorage","query","orders","resolve","sessionStorage","setItem","JSON","stringify","validUntil","now","getOrdersFromSessionStorage","parse","getItem","isStorageUpToDate","pages","options","deleted","forceUpdate","url","get","put","delete","confirm","remove","retrieve","cannotFind","TextOrder","textOrder","this","initialCleanup","dateRe","exec","Error","date","replace","getFullYear","getMonth","getDate","beginMarker","beginIndex","indexOf","endIndex","paymentTypeField","slice","trim","nonWordChars","match","filter","c","endIndex2","p","includes","priceLine","startMarker","fromIndex","find","s","endMarkers","addresses","forEach","marker","rawAddress","replaceAll","cityField","postalCode","addressField","city","test","re","str","splitStr","noRebundantWhitespace","defaultOrder","distances","insideCapital","orderClassPropertyNames","Object","keys","Order","propertyName","toTimeString","priceXL","price","dd","mm","yyyy","timeInNumberType","dayOFWeek","getDay","dayOfMonth","endOfMonth","weekEndFeeApplicable","endOfMonthFeeApplicable","morningFeeApplicable","nightFeeApplicable","paymentFeeApplicable","fees","weekend","firstOrLastDayOfTheMonth","morning","night","bill","f","printed","repeat","fee","toUpperCase","amount","formattedStr","isJSON","orderArguments","notificate","transformed","servicePrice","printFees","console","CALENDAR","AddOrderToCalendarButton","orderId","entry","getEventForCalendar","orderPoolAPI","createdEvent","MainOperationsPanel","transformedOrder","handleResetClick","defaultStatuses","disable","sms","calendar","statuses","setStatuses","emailBlock","smsBlock","threeButtonsBlock","ResponsiveDialog","children","handleClose","theme","useTheme","fullScreen","useMediaQuery","breakpoints","down","Dialog","open","onClose","aria-labelledby","DialogContent","DialogActions","backgroundColor","LoadingUntillDone","loading","redirectComponent","OrdersList","handleExport","handleDeletion","handleLoadingMoreOrders","labelForDeletion","ordersWithStyles","setOrdersWithStyles","txtOrder","isNew","toDateString","confirmed","hidden","orderWithStyles","o","handleHideOrShow","jsonOrder","entries","fieldName","fieldValue","minHeight","fontWeight","toLocaleDateString","toLocaleTimeString","INBOX","TRASHCAN","OrderPool","setOrders","isLoading","setIsloading","currentTab","setCurrentTab","inbox","searchText","showOnlyNotConfirmed","trashcan","searchOptions","setSearchOptions","searchResults","setSearchResults","hasToUpdate","trigger","setForceUpdate","setPages","numberOfOrders","numberOfUnconfirmedOrders","makeSearch","val","bool","searchTarget","search","values","condition","filterConfirmed","toLowerCase","newPage","moreOrdersFromPool","concatenatedOrders","concat","filteredOrders","handleTabBarChange","dataset","tabname","ordersFromPool","data-tabname","prevOptsForCurTab","handleOnlyNotConfirmedSearch","OrderPoolDialog","goBack","path","Confirmator","rawOrder","setRawOrder","setTransformedOrder","default","setOrder","transform","transformToText","rawOrderOrderContainerRef","useRef","transformedOrderContainerRef","handleOrderChange","changedOrder","handleRawOrderUpdate","rawO","setupOrderFromText","orderFromText","transO","scrollIntoView","smooth","Header","isLogged","to","src","logo","alt","credentials","loginWithCredentials","loginWithAccessToken","Notification","notification","alignItems","marginBottom","Login","setUser","flexItem","referrer","location","state","username","setUsername","password","setPassword","isButtonDisabled","setIsButtonDisabled","inputError","setInputError","setNotification","event","preventDefault","loginServi—Åe","user","letterSpacing","onSubmit","paddingBottom","height","flexFlow","justifyContent","Register","setName","setEmail","purpose","setPurpose","setResponse","setDisabled","sendRequestForAccess","rows","LogoutButton","Footer","logoutUser","paddingTop","fontFamily","logoutService","ErrorFallback","role","RedirectToLoginPageIfNotAuthenticated","currentLocation","pathname","redirectToLoginPage","App","userFromToken","FallbackComponent","ReactDOM","render","StrictMode","basename","getElementById"],"mappings":"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","file":"static/js/main.232d56a0.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport TextField from '@material-ui/core/TextField'\nimport NativeSelect from '@material-ui/core/NativeSelect'\nimport TextareaAutosize from '@material-ui/core/TextareaAutosize'\nimport DayjsUtils from '@date-io/dayjs'\nimport { DateTimePicker, MuiPickersUtilsProvider } from '@material-ui/pickers'\nimport services from '../../data/services.json'\nimport paymentTypes from '../../data/paymentTypes.json'\n\nexport default function Editor({ order, handleChange }) {\n  const margin = {\n    marginTop: 5,\n  }\n  const marginLeftRight = {\n    marginLeft: 5,\n    marginRight: 5,\n  }\n\n  // hack to make date from mui datetimepicker to be inside fake event object\n  const [selectedDate, handleDateChange] = useState(order.dateTime)\n  useEffect(() => {\n    handleChange({ target: { name: 'dateTime', value: selectedDate } })\n  }, [selectedDate])\n\n  return (\n    <div className=\"basic-flex\" style={{ marginTop: '5px' }}>\n      <div className=\"flex-100-space-between flex-item\" style={marginLeftRight}>\n        <MuiPickersUtilsProvider utils={DayjsUtils}>\n          <DateTimePicker\n            ampm={false}\n            format=\"DD-MM-YYYY HH:mm\"\n            minutesStep={15}\n            style={marginLeftRight}\n            className=\"time-duration\"\n            name=\"dateTime\"\n            value={order.dateTime}\n            onChange={handleDateChange}\n            DialogProps={{ disableScrollLock: true }}\n          />\n        </MuiPickersUtilsProvider>\n\n        <NativeSelect\n          className=\"time-duration\"\n          style={{ ...marginLeftRight, paddingLeft: 10 }}\n          name=\"duration\"\n          value={order?.duration}\n          onChange={handleChange}\n        >\n          <option value={1}>1h</option>\n          <option value={1.5}>1.5h</option>\n          <option value={2}>2h</option>\n          <option value={2.5}>2.5h</option>\n          <option value={3}>3h</option>\n          <option value={3.5}>3.5h</option>\n          <option value={4}>4h</option>\n          <option value={4.5}>4.5h</option>\n          <option value={5}>5h</option>\n          <option value={5.5}>5.5h</option>\n          <option value={6}>6h</option>\n          <option value={6.5}>6.5h</option>\n          <option value={7}>7h</option>\n          <option value={7.5}>7.5h</option>\n          <option value={8}>8h</option>\n          <option value={8.5}>8.5h</option>\n          <option value={9}>9h</option>\n          <option value={9.5}>9.5h</option>\n          <option value={10}>10h</option>\n        </NativeSelect>\n      </div>\n\n      <NativeSelect\n        fullWidth\n        style={marginLeftRight}\n        className=\"flex-item\"\n        name=\"serviceName\"\n        value={order?.serviceName}\n        onChange={handleChange}\n      >\n        {services.map((service) => (\n          <option key={service.id} value={service.name}>\n            {service.name}\n          </option>\n        ))}\n      </NativeSelect>\n\n      <NativeSelect\n        fullWidth\n        style={marginLeftRight}\n        className=\"flex-item\"\n        name=\"paymentType\"\n        value={order?.paymentType}\n        onChange={handleChange}\n      >\n        {paymentTypes.map(({ name, id }) => (\n          <option key={id} value={name}>\n            {name}\n          </option>\n        ))}\n      </NativeSelect>\n\n      <TextField\n        fullWidth\n        style={margin}\n        className=\"flex-item\"\n        required\n        name=\"address\"\n        value={order?.address}\n        onChange={handleChange}\n        label=\"Address\"\n        variant=\"outlined\"\n        size=\"small\"\n      />\n\n      <TextField\n        fullWidth\n        multiline\n        style={margin}\n        className=\"flex-item\"\n        name=\"destination\"\n        value={order?.destination}\n        onChange={handleChange}\n        label=\"Destination\"\n        variant=\"outlined\"\n        size=\"small\"\n      />\n\n      <TextField\n        fullWidth\n        required\n        style={margin}\n        className=\"flex-item\"\n        name=\"name\"\n        value={order?.name}\n        onChange={handleChange}\n        label=\"Name\"\n        variant=\"outlined\"\n        size=\"small\"\n      />\n\n      <TextField\n        fullWidth\n        style={margin}\n        className=\"flex-item\"\n        name=\"email\"\n        value={order?.email}\n        onChange={handleChange}\n        type=\"email\"\n        label=\"Email\"\n        variant=\"outlined\"\n        size=\"small\"\n      />\n\n      <TextField\n        fullWidth\n        style={margin}\n        className=\"flex-item\"\n        required\n        name=\"phone\"\n        value={order?.phone}\n        onChange={handleChange}\n        label=\"Phonenumber\"\n        variant=\"outlined\"\n        size=\"small\"\n      />\n\n      <TextareaAutosize\n        style={margin}\n        className=\"flex-item textarea-2\"\n        rowsMin={3}\n        cols={27}\n        name=\"comment\"\n        value={order?.comment}\n        placeholder=\"Additional information.\"\n        onChange={handleChange}\n      />\n    </div>\n  )\n}\n","import React from 'react'\nimport FormLabel from '@material-ui/core/FormLabel'\nimport FormControl from '@material-ui/core/FormControl'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport Radio from '@material-ui/core/Radio'\nimport RadioGroup from '@material-ui/core/RadioGroup'\n\nexport default function CheckboxGroup(props) {\n  const { handleChange, order } = props\n\n  return (\n    <div className=\"checkbox-container\">\n      <FormControl\n        className=\"checkbox-distance flex-item\"\n        hiddenLabel={false}\n        size=\"small\"\n      >\n        <FormLabel component=\"legend\">Pick one:</FormLabel>\n        <RadioGroup value={order.distance} onChange={handleChange}>\n          <FormControlLabel\n            name=\"distance\"\n            value=\"insideCapital\"\n            control={<Radio color=\"default\" />}\n            label=\"üèô Inside capital\"\n          />\n          <FormControlLabel\n            name=\"distance\"\n            value=\"outsideCapital\"\n            control={<Radio color=\"default\" />}\n            label=\"üèû Outside capital\"\n          />\n          <FormControlLabel\n            name=\"distance\"\n            value=\"fromCapitalToOutside\"\n            control={<Radio color=\"default\" />}\n            label=\"üèô->üèû From capital\"\n          />\n          <FormControlLabel\n            name=\"distance\"\n            value=\"fromOutsideToCapital\"\n            control={<Radio color=\"default\" />}\n            label=\"üèû->üèô To capital\"\n          />\n        </RadioGroup>\n      </FormControl>\n      <FormControl className=\"basic-flex\" size=\"small\">\n        <FormControlLabel\n          size=\"small\"\n          className=\"flex-item\"\n          control={\n            <Checkbox checked={order.hsy} onChange={handleChange} color=\"primary\" />\n          }\n          name=\"hsy\"\n          label=\"‚ôª HSY\"\n          labelPlacement=\"start\"\n        />\n        <FormControlLabel\n          className=\"flex-item\"\n          control={\n            <Checkbox\n              checked={order.altColorPalette}\n              onChange={handleChange}\n              color=\"primary\"\n            />\n          }\n          name=\"altColorPalette\"\n          label=\"Second car\"\n          labelPlacement=\"start\"\n        />\n        <FormControlLabel\n          className=\"flex-item\"\n          control={\n            <Checkbox checked={order.XL} onChange={handleChange} color=\"primary\" />\n          }\n          name=\"XL\"\n          label=\"XL\"\n          labelPlacement=\"start\"\n        />\n      </FormControl>\n    </div>\n  )\n}\n","import React, { useState, useEffect } from 'react'\nimport validator from 'validator'\nimport ErrorOutlineIcon from '@material-ui/icons/ErrorOutline'\n\nfunction ValidationMessages({ validationArray }) {\n  const errStyle = { color: 'red' }\n\n  return (\n    <>\n      {validationArray.map((v) => {\n        if (v.isError) {\n          return (\n            <div key={v.id}>\n              <span style={errStyle}>{v.name} </span>\n              {v.message}\n            </div>\n          )\n        }\n        return null\n      })}\n    </>\n  )\n}\n\nexport default function ValidationDisplay({ order, shouldValidate }) {\n  const [validationArray, setValidationArray] = useState([])\n\n  useEffect(() => {\n    if (shouldValidate) {\n      const validationAr = [\n        {\n          id: 1,\n          name: 'Date and time',\n          isError: validator.isBefore(\n            order.dateTime.toISOString(),\n            new Date().toISOString()\n          ),\n          message: `might have some problems. Check to be sure: ${\n            `${order.confirmationDateString} ${order.time}` || '---'\n          }`,\n        },\n        {\n          id: 2,\n          name: 'Address',\n          isError: validator.isEmpty(order.address),\n          message: 'is missing',\n        },\n        {\n          id: 3,\n          name: 'Phonenumber',\n          isError: !validator.isMobilePhone(order.phone, ['fi-FI', 'es-ES', 'sv-SE']),\n          message: `is missing or is incorrect: ${order.phone || '---'}`,\n        },\n        {\n          id: 4,\n          name: 'Email',\n          isError: !validator.isEmail(order.email),\n          message: `is missing or is incorrect: ${order.email || '---'}`,\n        },\n      ]\n      setValidationArray(validationAr)\n    }\n  }, [order.dateTime, order.phone, order.address, order.email, shouldValidate])\n\n  const someIsInvalid = validationArray.some((v) => v.isError)\n\n  const border = {\n    borderTop: '1px solid gray',\n    borderBottom: '1px solid gray',\n    padding: '15px 0 15px 0',\n    margin: '10px 0 10px 0',\n  }\n\n  return (\n    <>\n      {shouldValidate && someIsInvalid && (\n        <div style={border} className=\"flex-100-space-between\">\n          <div>\n            <ErrorOutlineIcon />\n            <ValidationMessages validationArray={validationArray} />\n          </div>\n        </div>\n      )}\n    </>\n  )\n}\n","import React, { useState } from 'react'\nimport Button from '@material-ui/core/Button'\nimport IconButton from '@material-ui/core/IconButton'\nimport EditOutlinedIcon from '@material-ui/icons/EditOutlined'\nimport './withEditing.css'\n\nconst withEditing = (EditableComponent, NotEditableComponent) => ({\n  content,\n  handleUpdate,\n  ...rest\n}) => {\n  const [isEditable, setIsEditable] = useState(false)\n  const [savedChanges, setSavedChanges] = useState(content)\n  const [incomingChanges, setIncomingChanges] = useState(savedChanges)\n\n  function removeUnsavedChanges() {\n    setIncomingChanges(savedChanges)\n  }\n\n  function handleIncomingChanges(e) {\n    setIncomingChanges(e.target.value)\n  }\n\n  function handleCancelClick() {\n    removeUnsavedChanges()\n    setIsEditable(!isEditable)\n  }\n\n  function handleSaveClick() {\n    setSavedChanges(incomingChanges)\n    handleUpdate(incomingChanges)\n    setIsEditable(!isEditable)\n  }\n\n  function handleEditClick() {\n    setIsEditable(!isEditable)\n  }\n\n  function notEditable() {\n    return (\n      <>\n        <NotEditableComponent\n          content={content}\n          button={\n            <span>\n              <IconButton size=\"small\" onClick={handleEditClick}>\n                <EditOutlinedIcon style={{ width: '20px' }} />\n              </IconButton>\n            </span>\n          }\n          {...rest}\n        />\n      </>\n    )\n  }\n  function editable() {\n    return (\n      <>\n        <EditableComponent\n          content={incomingChanges}\n          handleChange={handleIncomingChanges}\n          {...rest}\n        />\n        <div className=\"buttons-block\">\n          <Button size=\"small\" onClick={handleCancelClick}>\n            Cancel\n          </Button>\n          <Button className=\"primary\" size=\"small\" onClick={handleSaveClick}>\n            Save\n          </Button>\n        </div>\n      </>\n    )\n  }\n\n  return <>{isEditable ? editable() : notEditable()}</>\n}\n\nexport default withEditing\n","import React from 'react'\nimport TextareaAutosize from '@material-ui/core/TextareaAutosize'\nimport withEditing from '../withEditing'\n\nexport default function RawOrderContainer({ handleClick, rawOrderText, elementRef }) {\n  const Editable = ({ handleChange, content }) => (\n    <TextareaAutosize\n      onChange={handleChange}\n      value={content}\n      style={{ marginTop: '10px' }}\n      className=\"width-100\"\n      rowsMin={5}\n      cols={40}\n      placeholder=\"Raw order here.\"\n    />\n  )\n\n  const NotEditable = ({ button }) => (\n    <div ref={elementRef} className=\"not-editable-container\">\n      Raw order{button}\n    </div>\n  )\n  const ContainerWithEditing = withEditing(Editable, NotEditable)\n  return (\n    <ContainerWithEditing\n      style={{ width: 'max-content' }}\n      handleUpdate={handleClick}\n      content={rawOrderText}\n    />\n  )\n}\n","/* eslint-disable react/no-array-index-key */\n/* eslint-disable react/destructuring-assignment */\nimport React from 'react'\nimport TextareaAutosize from '@material-ui/core/TextareaAutosize'\nimport withEditing from '../withEditing'\nimport './orderContainers.css'\n\nexport default function TransformedOrderContainer({\n  elementRef,\n  handleClick,\n  transformedOrderText,\n}) {\n  const Editable = ({ handleChange, content }) => (\n    <TextareaAutosize\n      onChange={handleChange}\n      value={content}\n      ref={elementRef}\n      style={{ marginTop: '10px' }}\n      className=\"width-100\"\n      rowsMin={5}\n      cols={40}\n      placeholder=\"Transformed order.\"\n    />\n  )\n\n  const NotEditable = ({ content, button }) => (\n    <div\n      ref={elementRef}\n      style={{ width: transformedOrderText && '100%', marginTop: '12px' }}\n      className=\"not-editable-container\"\n    >\n      {content.length === 0 ? (\n        'Transformed order'\n      ) : (\n        <div className=\"text-container-with-scroll\">\n          {content.split('\\n').map((line, index) => (\n            <div key={index}>{line}</div>\n          ))}\n        </div>\n      )}\n      {button}\n    </div>\n  )\n  const ContainerWithEditing = withEditing(Editable, NotEditable)\n  return (\n    <ContainerWithEditing handleUpdate={handleClick} content={transformedOrderText} />\n  )\n}\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport TransformIcon from '@material-ui/icons/Transform'\n\nexport default function TransformButton({ handleClick, text = 'Transform', ...rest }) {\n  return (\n    <Button\n      className=\"button-one-third flex-item\"\n      variant=\"outlined\"\n      size=\"small\"\n      style={{ fontSize: '0.8rem', padding: '1px' }}\n      onClick={() => handleClick()}\n      {...rest}\n    >\n      <TransformIcon />\n      {text}\n    </Button>\n  )\n}\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport FileCopyIcon from '@material-ui/icons/FileCopy'\nimport Toast from 'light-toast'\n\nexport default function CopyButton({ elementRef, disabled }) {\n  function copyToClipboard() {\n    const tempTextarea = document.createElement('textarea')\n    document.body.appendChild(tempTextarea)\n    // getting text from container (div) or from textarea that holds the transformed order\n    tempTextarea.value = elementRef.current.innerText || elementRef.current.defaultValue\n    tempTextarea.select()\n    document.execCommand('copy')\n    document.body.removeChild(tempTextarea)\n  }\n\n  function handleCopying() {\n    copyToClipboard()\n    Toast.info('Copied!', 500)\n  }\n\n  return (\n    <Button\n      disabled={disabled}\n      className=\"button-one-third flex-item\"\n      variant=\"outlined\"\n      size=\"small\"\n      onClick={handleCopying}\n    >\n      Copy <FileCopyIcon />\n    </Button>\n  )\n}\n","import React from 'react'\nimport TransformButton from './TransformButton'\nimport CopyButton from './CopyButton'\n\nexport default function TransformPanel({\n  handleOrderTransformFromText,\n  handleOrderTransformFromEditor,\n  transformDisabled,\n  copyDisabled,\n  elementRef,\n}) {\n  return (\n    <div className=\"order-operations\">\n      <div className=\"block\">\n        <CopyButton disabled={copyDisabled} elementRef={elementRef} />\n        <TransformButton\n          text=\"from text\"\n          disabled={transformDisabled}\n          handleClick={handleOrderTransformFromText}\n        />\n\n        <TransformButton\n          text=\"from editor\"\n          handleClick={handleOrderTransformFromEditor}\n        />\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport NoteAddIcon from '@material-ui/icons/NoteAdd'\n\nexport default function NewOrderButton({ handleClick, className }) {\n  return (\n    <Button className={className} variant=\"contained\" size=\"small\" onClick={handleClick}>\n      New order <NoteAddIcon />\n    </Button>\n  )\n}\n","import React from 'react'\nimport { useHistory } from 'react-router-dom'\nimport Button from '@material-ui/core/Button'\n\nexport default function OrderPoolOpenerButton({ className }) {\n  const history = useHistory()\n\n  const handleClickOpen = () => {\n    history.push('/order-pool')\n  }\n\n  return (\n    <>\n      <Button\n        size=\"small\"\n        className={className}\n        variant=\"contained\"\n        onClick={handleClickOpen}\n      >\n        Order Pool\n      </Button>\n    </>\n  )\n}\n","import React from 'react'\n\nexport default function MessageBeforeButton({ text, className, ...rest }) {\n  return (\n    <div className={`message ${className}`} {...rest}>\n      {text}\n    </div>\n  )\n}\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\n\nexport default function CustomButton({\n  handleClick,\n  isDisabled,\n  grayScale,\n  content,\n  className,\n}) {\n  const style = grayScale && { color: 'grey' }\n  return (\n    <Button\n      disabled={isDisabled}\n      className={className}\n      variant=\"contained\"\n      size=\"small\"\n      onClick={handleClick}\n    >\n      <span style={{ display: 'flex', ...style }}>{content}</span>\n    </Button>\n  )\n}\n","/* eslint-disable consistent-return */\n// eslint-disable-next-line import/no-cycle\nimport interceptor from './interceptor'\n\nconst baseUrl = '/api/token'\n\nasync function refreshTokens() {\n  const result = await interceptor.axiosInstance.post(baseUrl)\n  if (result.response?.data.error) {\n    // return an error for interceptor to handle it\n    return result\n  }\n  await interceptor.axiosInstance.post(`${baseUrl}/is-new`)\n}\n\nexport default { refreshTokens }\n","import axios from 'axios'\n// eslint-disable-next-line import/no-cycle\nimport tokenService from './tokens'\n\nconst axiosInstance = axios.create()\n\nfunction setupInterceptor(externalActions) {\n  axiosInstance.interceptors.response.use(\n    (response) => response,\n    async (error) => {\n      const originalRequest = error.config\n      if (error.response.data.error === 'access token expired') {\n        /*\n          isError is true if the token service received an http error objected \n          that was returned from this interceptor. \n          In all other scenarios it does not return anything.\n          See next if statement.\n          (This is badly designed)\n        */\n        const isError = await tokenService.refreshTokens()\n        if (isError) return null\n        return axiosInstance(originalRequest)\n      }\n      if (\n        error.response.data.error === 'refresh token expired' ||\n        error.response.data.error === 'invalid refresh token' ||\n        error.response.data.error === 'token missing'\n      ) {\n        /* \n          It's important to not throw errors in this block but only return them\n          because other services that are based on this instance do not handle refresh token errors\n        */\n        externalActions.logout()\n        return error\n      }\n      if (error.response.status === 429) {\n        setTimeout(() => null, 1500)\n      }\n      return Promise.reject(error)\n    }\n  )\n}\n\nexport default { axiosInstance, setupInterceptor }\n","import interceptor from './interceptor'\n\nconst baseUrl = '/api/email'\n/**\n * @param {Object} params\n * @param {string} params.orderDetails\n * @param {Object} params.order\n */\n\nexport default async function sendConfirmationEmail(params) {\n  const response = await interceptor.axiosInstance.post(\n    `${baseUrl}/send-confirmation`,\n    params\n  )\n  return response.data\n}\n","import React from 'react'\nimport Toast from 'light-toast'\nimport EmailIcon from '@material-ui/icons/Email'\nimport CustomButton from './CustomButton'\nimport sendConfirmationEmail from '../../../services/emailAPI'\n\nconst EMAIL = 'email'\n\nexport default function ConfirmationEmailSenderButton({\n  email,\n  order,\n  transformedOrderText,\n  statusText,\n  isDisabled,\n  changeStatus,\n  className,\n}) {\n  function handleEmailSending() {\n    if (email && transformedOrderText) {\n      changeStatus(EMAIL, 'Working', true)\n      return sendConfirmationEmail({\n        orderDetails: transformedOrderText,\n        order,\n        email,\n      })\n        .then((res) => {\n          changeStatus(EMAIL, 'Done', true)\n          Toast.info(res.message, 500)\n        })\n        .catch((err) => {\n          changeStatus(EMAIL, 'Error', false)\n          Toast.fail(err.response.data.error)\n        })\n    }\n    return Toast.fail('No confirmation found or recipients defined.', 1000)\n  }\n\n  const buttonContent = statusText || (\n    <>\n      <span>Send</span> <EmailIcon />\n    </>\n  )\n\n  return (\n    <CustomButton\n      className={className}\n      isDisabled={isDisabled}\n      grayScale={statusText !== null}\n      handleClick={handleEmailSending}\n      content={buttonContent}\n    />\n  )\n}\n","import interceptor from './interceptor'\n\nconst baseUrl = '/api/sms'\n/**\n * @param {Object} params\n * @param {string} params.phone\n * @param {string} params.msg\n */\n\nexport default async function sendSMS(params) {\n  const response = await interceptor.axiosInstance.post(baseUrl, params)\n  return response.data\n}\n","import React from 'react'\nimport Toast from 'light-toast'\nimport TextsmsIcon from '@material-ui/icons/Textsms'\nimport sendSMS from '../../../services/smsAPI'\nimport CustomButton from './CustomButton'\n\nconst SMS = 'sms'\n\nexport default function ConfirmationSMSSenderButton({\n  phone,\n  transformedOrderText,\n  statusText,\n  isDisabled,\n  changeStatus,\n  className,\n}) {\n  async function handleSendingSMS() {\n    try {\n      const msg = transformedOrderText\n      if (msg && phone) {\n        changeStatus(SMS, 'Working', true)\n        const response = await sendSMS({ msg, phone })\n        changeStatus(SMS, 'Done', true)\n        Toast.info(`${response.message}`, 500)\n      }\n    } catch (err) {\n      changeStatus(SMS, 'Error', false)\n      Toast.fail(err.response?.data.error, 2000)\n    }\n  }\n\n  const buttonContent = statusText || (\n    <>\n      <span>Send</span> <TextsmsIcon />\n    </>\n  )\n\n  return (\n    <CustomButton\n      className={className}\n      isDisabled={isDisabled}\n      grayScale={statusText !== null}\n      handleClick={handleSendingSMS}\n      content={buttonContent}\n    />\n  )\n}\n","import interceptor from './interceptor'\n\nconst baseUrl = '/api/calendar'\n\n/**\n * @param {Object} params\n * @param {string} params.entry\n * @param {Object} params.order\n * @param {Array} params.fees\n */\n\nexport default async function addEventToCalendar(params) {\n  const response = await interceptor.axiosInstance.post(baseUrl, params)\n  return response.data\n}\n","/* eslint-disable no-param-reassign */\nimport interceptor from './interceptor'\n\nconst baseUrl = '/api/order-pool'\n/**\n * @param {string} queryName\n * @param {Array} items\n * @return Something like: pages[]=1&pages[]=2&pages[]=3\n */\nfunction makeQueryArray(queryName, items) {\n  return items\n    .map((item, index) => {\n      const isLastItem = index === items.length - 1\n      return `${queryName}[]=${item}${isLastItem ? '' : '&'}`\n    })\n    .join('')\n}\n\nfunction storeOrdersInSessionStorage({ query, orders }) {\n  return Promise.resolve(() =>\n    sessionStorage.setItem(\n      `order-pool/${query}`,\n      JSON.stringify({\n        validUntil: Date.now() + 5 * 60 * 1000,\n        orders,\n      })\n    )\n  )\n}\n\nfunction getOrdersFromSessionStorage(query) {\n  return Promise.resolve().then(() =>\n    JSON.parse(sessionStorage.getItem(`order-pool/${query}`))\n  )\n}\n\nfunction isStorageUpToDate(query) {\n  return Promise.resolve(() => {\n    try {\n      const { validUntil } = JSON.parse(sessionStorage.getItem(`order-pool/${query}`))\n      return validUntil > Date.now()\n    } catch {\n      return false\n    }\n  })\n}\n\n/**\n * @param {Array} [pages] - Default: [ 1 ]\n * @param {Object} options - Default: { deleted: false, forceUpdate: false }\n * @param {Boolean} [options.deleted]\n * @param {Boolean} [options.forceUpdate]\n */\nasync function get(pages = [1], options = { deleted: false, forceUpdate: false }) {\n  const { deleted, forceUpdate } = options\n\n  const query = `${deleted ? 'deleted=true' : 'deleted=false'}&${makeQueryArray(\n    'pages',\n    pages\n  )}`\n\n  if (!forceUpdate && (await isStorageUpToDate(query))) {\n    return getOrdersFromSessionStorage(query).then((data) => data.orders)\n  }\n\n  // example: /api/order-pool/?deleted=false&pages[]=1&pages[]=2\n  const url = `${baseUrl}/?${query}`\n\n  return interceptor.axiosInstance.get(url).then((res) => {\n    const { orders } = res?.data\n    storeOrdersInSessionStorage({ query, orders })\n\n    return orders\n  })\n}\n\nasync function confirm(id) {\n  return interceptor.axiosInstance\n    .put(`${baseUrl}/confirm/${id}`)\n    .then((res) => res?.data)\n  // .catch((err) => console.log(err))\n}\n\nasync function remove(id) {\n  const response = await interceptor.axiosInstance.delete(`${baseUrl}/delete/${id}`)\n  return response?.data\n}\n\nasync function retrieve(id) {\n  const response = await interceptor.axiosInstance.put(`${baseUrl}/retrieve/${id}`)\n  return response?.data\n}\n\nexport default { get, confirm, remove, retrieve }\n","/* eslint-disable no-param-reassign */\n/* eslint-disable no-control-regex */\n/* eslint-disable no-useless-escape */\nimport services from '../data/services.json'\nimport paymentTypes from '../data/paymentTypes.json'\n\nfunction cannotFind(name) {\n  return `Cannot find ${name}`\n}\n\nexport default class TextOrder {\n  constructor(textOrder) {\n    this.textOrder = TextOrder.initialCleanup(textOrder)\n  }\n\n  get dateTime() {\n    const dateRe = /(?<=Date and time: \\w+, )\\w+ \\d+(th|rd|st|nd)? \\w+/.exec(\n      this.textOrder\n    )\n\n    if (!dateRe) throw new Error(cannotFind('date'))\n\n    const date = new Date(`${dateRe[0].replace(/th|rd|st|nd/, '')}Z`)\n    const time = /\\d+:\\d+/.exec(this.textOrder)[0]\n\n    const dateTime = new Date(`\n    ${date.getFullYear()}\n    ${date.getMonth() + 1}\n    ${date.getDate()}\n    ${time}`)\n\n    return dateTime\n  }\n\n  get duration() {\n    const duration = /\\d+(\\.\\d+)?(?=\\sh.)/.exec(this.textOrder)\n\n    if (!duration) throw new Error(cannotFind('duration'))\n\n    return duration[0]\n  }\n\n  get paymentType() {\n    const beginMarker = 'Payment Type: '\n    const endMarker = 'PRICE'\n\n    const beginIndex = this.textOrder.indexOf(beginMarker) + beginMarker.length\n    const endIndex = this.textOrder.indexOf(endMarker)\n\n    const paymentTypeField = this.textOrder.slice(beginIndex, endIndex).trim()\n\n    const nonWordChars = paymentTypeField\n      .match(/\\W+/g)\n      .filter((c) => c !== '/' && c !== ' ' && c !== '√§')\n\n    const endIndex2 = paymentTypeField.indexOf(nonWordChars[0].trim())\n\n    const paymentType = paymentTypeField.slice(0, endIndex2).trim()\n\n    if (!paymentType) throw new Error(cannotFind('payment type'))\n\n    // does payment type names include our payment type\n    if (!paymentTypes.map((p) => p.name).includes(paymentType)) {\n      throw new Error('Unrecognized payment type')\n    }\n    return paymentType\n  }\n\n  get movingBoxesPrice() {\n    const beginIndex = this.textOrder.indexOf('‚Äî Price: ')\n    const endIndex = this.textOrder.indexOf('‚Äî Booking time start')\n    const priceLine = this.textOrder.slice(beginIndex, endIndex)\n    const re = /\\d+/\n    const price = priceLine && priceLine.match(re)[0]\n    return price\n  }\n\n  get serviceName() {\n    const startMarker = 'Service: '\n    const endMarker = 'Accessories'\n    const fromIndex = this.textOrder.indexOf(startMarker) + startMarker.length\n    const endIndex = this.textOrder.indexOf(endMarker)\n    const serviceName = this.textOrder.slice(fromIndex, endIndex).trim()\n\n    if (!serviceName) {\n      throw new Error(cannotFind('service name'))\n    }\n\n    // Check if service with that name exists\n    const service = services.find((s) => s.name === serviceName)\n\n    if (!service) throw new Error('Unrecognized service name')\n\n    return serviceName\n  }\n\n  get addresses() {\n    const beginMarkers = ['Start location:', 'End location:']\n    const endMarkers = ['End location', 'Name']\n    const addresses = []\n\n    beginMarkers.forEach((marker, index) => {\n      const beginIndex = this.textOrder.indexOf(marker) + marker.length\n      const endIndex = this.textOrder.indexOf(endMarkers[index])\n\n      const rawAddress = this.textOrder\n        .slice(beginIndex, endIndex)\n        .replaceAll(',', '')\n        .trim()\n\n      const cityField = rawAddress.slice(0, rawAddress.indexOf(' / '))\n\n      // Finnish postal codes are all 5 digits long\n      let postalCode = rawAddress.match(/\\d{5}/)\n      postalCode = (postalCode && postalCode[0]) || ''\n\n      const addressField = rawAddress.slice(rawAddress.indexOf(' / ') + ' / '.length)\n\n      let city = cityField.match(/\\D+/)\n      city = city && city[0]\n      let address = addressField.replace(postalCode, '')\n      address = address || null\n\n      const numbersInAddress = /\\d+/.test(addressField)\n\n      // User provided address instead of city and city instead of address\n      if (\n        !numbersInAddress ||\n        (addressField.includes(postalCode) && addressField.length < 15)\n      ) {\n        address = cityField.replace(postalCode, '')\n        city = addressField.match(/\\D+/)\n        city = city && city[0]\n      }\n\n      if (address.includes(city)) {\n        address = address.replace(city, '')\n      }\n\n      if (index === 0 && !address) throw new Error(cannotFind('address'))\n\n      addresses.push(`${address}, ${postalCode} ${city}`.replace(/\\s+/g, ' ').trim())\n    })\n\n    return addresses\n  }\n\n  get address() {\n    return this.addresses[0]\n  }\n\n  get destination() {\n    // destructuring doesn't throw an error if destination is undefined\n    const [, destination] = this.addresses\n    return destination\n  }\n\n  get name() {\n    const beginMarker = 'Name: '\n    const endMarker = 'Email'\n\n    const beginIndex = this.textOrder.indexOf(beginMarker) + beginMarker.length\n    const endIndex = this.textOrder.indexOf(endMarker)\n\n    const name = this.textOrder.slice(beginIndex, endIndex).trim()\n\n    if (!name) throw new Error(cannotFind('name'))\n\n    return name\n  }\n\n  get email() {\n    // regex from internet\n    const email = /(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])/.exec(\n      this.textOrder\n    )\n\n    if (!email) throw new Error(cannotFind('email'))\n\n    return email[0]\n  }\n\n  get phone() {\n    // regex from internet\n    const phone = /(?<=Phone: )[+]*[(]{0,1}[0-9]{1,4}[)]{0,1}[-\\s\\./0-9]*/.exec(\n      this.textOrder\n    )\n\n    if (!phone) throw new Error(cannotFind('phone'))\n\n    return phone[0].trim()\n  }\n\n  get comment() {\n    let comment = /(?<=Comment: )(.*\\s*)*/.exec(this.textOrder)\n    comment = comment ? comment[0] : ''\n\n    const re = /\\n\\n\\-\\-\\nT√§m√§ viesti l√§hetettiin sivustolta Paku24\\.fi \\(https:\\/\\/paku24\\.fi\\)/\n    const footer = re.exec(comment)\n\n    if (footer) {\n      comment = comment.replace(re, '')\n    }\n\n    return comment\n  }\n\n  // get vanSize() {\n\n  // }\n\n  static initialCleanup(str) {\n    const splitStr = str.split('\\n')\n    const noRebundantWhitespace = []\n    splitStr.forEach((line) => noRebundantWhitespace.push(line.trim()))\n    const string = noRebundantWhitespace\n      .join('\\n')\n      .replaceAll('‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî', '')\n      .replaceAll('------------------------', '')\n\n    return string\n  }\n}\n","/* eslint-disable no-console */\nimport isJSON from 'validator/es/lib/isJSON'\nimport fees from '../data/fees.json'\nimport services from '../data/services.json'\nimport TextOrder from './TextOrder'\nimport paymentTypes from '../data/paymentTypes.json'\nimport distances from '../data/distances.json'\n\nconst defaultOrder = {\n  dateTime: new Date(),\n  duration: 1,\n  serviceName: services[0].name,\n  paymentType: paymentTypes[0].name,\n  address: '',\n  destination: '',\n  name: '',\n  email: '',\n  phone: '',\n  comment: '',\n  distance: distances.insideCapital,\n  hsy: false,\n  altColorPalette: false,\n  XL: false,\n}\nconst orderClassPropertyNames = Object.keys(defaultOrder)\n\nexport default class Order {\n  constructor(order) {\n    for (const propertyName of orderClassPropertyNames) {\n      this[propertyName] = order[propertyName] ?? defaultOrder[propertyName]\n    }\n    this.dateTime = new Date(order.dateTime)\n  }\n\n  get time() {\n    return this.dateTime.toTimeString().slice(0, 5)\n  }\n\n  get servicePrice() {\n    const service = services.find((s) => s.name === this.serviceName)\n    return this.XL ? service.priceXL : service.price\n  }\n\n  get ISODateString() {\n    return `${this.dateTime.toISOString().split('T')[0]}T${this.time}`\n  }\n\n  get confirmationDateString() {\n    let dd = this.dateTime.getDate()\n    let mm = this.dateTime.getMonth() + 1\n    const yyyy = this.dateTime.getFullYear()\n\n    if (dd < 10) {\n      dd = `0${dd}`\n    }\n    if (mm < 10) {\n      mm = `0${mm}`\n    }\n\n    return `${dd}-${mm}-${yyyy}`\n  }\n\n  get fees() {\n    const timeInNumberType = this.time.split(':')[0] * 1\n\n    const dayOFWeek = this.dateTime.getDay()\n    const dayOfMonth = this.dateTime.getDate()\n    const endOfMonth = [\n      new Date(this.dateTime.getFullYear(), this.dateTime.getMonth() + 1, 0).getDate(),\n      1,\n    ]\n\n    const weekEndFeeApplicable = dayOFWeek === 6 || dayOFWeek === 0\n    const endOfMonthFeeApplicable =\n      !weekEndFeeApplicable && endOfMonth.includes(dayOfMonth)\n    const morningFeeApplicable = timeInNumberType < 8\n    const nightFeeApplicable = timeInNumberType > 20\n    const paymentFeeApplicable =\n      this.paymentType === 'Lasku' ||\n      this.paymentType === 'Lasku/Osamaksu' ||\n      this.paymentType === 'Invoice/Instalment payment'\n\n    return [\n      weekEndFeeApplicable && fees.weekend,\n      endOfMonthFeeApplicable && fees.firstOrLastDayOfTheMonth,\n      morningFeeApplicable && fees.morning,\n      nightFeeApplicable && fees.night,\n      paymentFeeApplicable && fees.bill,\n    ].filter((f) => f !== false)\n  }\n\n  printFees() {\n    const template = '\\n@feeName\\n@feeAmount'\n    // template needs to be as long as the fees array\n    let printed = template.repeat(this.fees.length)\n    this.fees.forEach((fee) => {\n      printed = printed.replace('@feeName', fee.name.toUpperCase())\n      printed = printed.replace('@feeAmount', `${fee.amount}‚Ç¨`)\n    })\n\n    return printed\n  }\n\n  static getEventForCalendar(formattedStr, startMarker) {\n    return formattedStr.slice(formattedStr.indexOf(startMarker))\n  }\n\n  static setupOrderFromText(text) {\n    return new Promise((resolve) => {\n      if (isJSON(text)) {\n        resolve(new Order(JSON.parse(text)))\n      }\n\n      const orderArguments = {}\n      const textOrder = new TextOrder(text)\n      for (const propertyName of orderClassPropertyNames) {\n        orderArguments[propertyName] = textOrder[propertyName]\n      }\n      resolve(new Order(orderArguments))\n    })\n  }\n\n  static default() {\n    return new Order(defaultOrder)\n  }\n\n  static transformToText(order, notificate) {\n    let transformed\n    try {\n      transformed = `VARAUKSEN TIEDOT\n${order.confirmationDateString}\nALKAMISAIKA\nKlo ${order.time} (+/-15min)\nARVIOITU KESTO\n${order.duration}h (${order.servicePrice}‚Ç¨/h, ${order.serviceName})\nMAKSUTAPA\n${order.paymentType}${order.printFees()}\nL√ÑHT√ñPAIKKA\n${order.address}\n${order.destination.length > 5 ? `M√Ñ√ÑR√ÑNP√Ñ√Ñ\\n${order.destination}\\n` : ''}NIMI\n${order.name}\n${order.email ? `S√ÑHK√ñPOSTI\\n${order.email}\\n` : ''}PUHELIN\n${order.phone}\n${order.comment ? `LIS√ÑTIETOJA\\n${order.comment}\\n` : ''}`\n      notificate('Succesefully formatted!')\n    } catch (err) {\n      console.error(err)\n      notificate(err.message)\n    }\n    return transformed\n  }\n}\n","import React from 'react'\nimport Toast from 'light-toast'\nimport EventIcon from '@material-ui/icons/Event'\nimport addEventToCalendar from '../../../services/calendarAPI'\nimport orderPoolAPI from '../../../services/orderPoolAPI'\nimport Order from '../../../helpers/Order'\n\nimport CustomButton from './CustomButton'\n\nconst CALENDAR = 'calendar'\n\nexport default function AddOrderToCalendarButton({\n  order,\n  orderId,\n  transformedOrderText,\n  statusText,\n  isDisabled,\n  changeStatus,\n  className,\n}) {\n  async function handleAddingToCalendar() {\n    try {\n      const entry = Order.getEventForCalendar(transformedOrderText, order.address)\n      if (entry) {\n        changeStatus(CALENDAR, 'Working', true)\n        const response = await addEventToCalendar({\n          entry,\n          order,\n          fees: order.fees,\n        })\n        if (orderId) await orderPoolAPI.confirm(orderId)\n        changeStatus(CALENDAR, 'Done', true)\n        Toast.info(`${response.message}\\n${response.createdEvent}`, 3000)\n      }\n    } catch (err) {\n      changeStatus(CALENDAR, 'Error', false)\n      Toast.fail(err.response?.data.error, 2000)\n    }\n  }\n\n  const buttonContent = statusText || (\n    <>\n      <span>Add</span> <EventIcon />\n    </>\n  )\n\n  return (\n    <CustomButton\n      className={className}\n      isDisabled={isDisabled}\n      grayScale={statusText !== null}\n      handleClick={handleAddingToCalendar}\n      content={buttonContent}\n    />\n  )\n}\n","import React, { useState } from 'react'\nimport NewOrderButton from '../NewOrderButton'\nimport OrderPoolOpenerButton from '../OrderPool/OrderPoolOpenerButton'\nimport MessageBeforeButton from './MessageBeforeButton'\nimport ConfirmationEmailSenderButton from './ConfirmationEmailSenderButton'\nimport ConfirmationSMSSenderButton from './ConfirmationSMSSenderButton'\nimport AddOrderToCalendarButton from './AddOrderToCalendarButton'\nimport './OrderOperations.css'\n\nexport default function MainOperationsPanel({\n  order,\n  orderId,\n  transformedOrder,\n  handleResetClick,\n}) {\n  const defaultStatuses = {\n    email: {\n      status: null,\n      disable: false,\n    },\n    sms: {\n      status: null,\n      disable: false,\n    },\n    calendar: {\n      status: null,\n      disable: false,\n    },\n  }\n  const [statuses, setStatuses] = useState(defaultStatuses)\n\n  function changeStatus(name, status, disable) {\n    setStatuses({ ...statuses, [name]: { status, disable } })\n  }\n\n  function emailBlock() {\n    const isDisabled = statuses.email.disable || !(order.email && transformedOrder.text)\n    return (\n      <div className=\"block\">\n        <MessageBeforeButton\n          className={`width-75 ${isDisabled && 'grayedFont'}`}\n          text={`Email to: ${order.email}`}\n        />\n        <ConfirmationEmailSenderButton\n          className=\"width-25\"\n          email={order.email}\n          order={order}\n          statusText={statuses.email.status}\n          isDisabled={isDisabled}\n          transformedOrderText={transformedOrder.text}\n          changeStatus={changeStatus}\n        />\n      </div>\n    )\n  }\n\n  function smsBlock() {\n    const isDisabled = statuses.sms.disable || !(order.phone && transformedOrder.text)\n    return (\n      <div className=\"block\">\n        <MessageBeforeButton\n          className={`width-75 ${isDisabled && 'grayedFont'}`}\n          text={`Sms to: ${order.phone}`}\n        />\n        <ConfirmationSMSSenderButton\n          className=\"width-25\"\n          statusText={statuses.sms.status}\n          isDisabled={isDisabled}\n          phone={order.phone}\n          transformedOrderText={transformedOrder.text}\n          changeStatus={changeStatus}\n        />\n      </div>\n    )\n  }\n\n  function threeButtonsBlock() {\n    const isDisabled = statuses.calendar.disable || !transformedOrder.text\n    return (\n      <div className=\"block\">\n        <NewOrderButton\n          className=\"share-space\"\n          handleClick={() => {\n            setStatuses(defaultStatuses)\n            handleResetClick()\n          }}\n        />\n        <OrderPoolOpenerButton className=\"share-space\" />\n        <AddOrderToCalendarButton\n          className=\"width-25\"\n          statusText={statuses.calendar.status}\n          isDisabled={isDisabled}\n          order={order}\n          orderId={orderId}\n          transformedOrderText={transformedOrder.text}\n          changeStatus={changeStatus}\n        />\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"order-operations\">\n      {emailBlock()}\n      {smsBlock()}\n      {threeButtonsBlock()}\n    </div>\n  )\n}\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport useMediaQuery from '@material-ui/core/useMediaQuery'\nimport { useTheme } from '@material-ui/core/styles'\n\nexport default function ResponsiveDialog({ children, handleClose }) {\n  const theme = useTheme()\n  const fullScreen = useMediaQuery(theme.breakpoints.down('sm'))\n\n  return (\n    <>\n      <Dialog\n        fullScreen={fullScreen}\n        open\n        onClose={handleClose}\n        aria-labelledby=\"responsive-dialog-title\"\n        disableScrollLock\n      >\n        <DialogContent>{children}</DialogContent>\n        <DialogActions>\n          <Button\n            style={{ backgroundColor: 'white' }}\n            variant=\"text\"\n            onClick={handleClose}\n          >\n            Close\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  )\n}\n","import React from 'react'\n\nexport default function LoadingUntillDone({\n  loading,\n  redirectComponent = null,\n  children,\n}) {\n  return (\n    <>\n      {loading && <p>Loading...</p>}\n      {redirectComponent}\n      {!loading && !redirectComponent && children}\n    </>\n  )\n}\n","/* eslint-disable react/no-array-index-key */\nimport React, { useEffect, useState } from 'react'\nimport Button from '@material-ui/core/Button'\nimport isJSON from 'validator/es/lib/isJSON'\n\nexport default function OrdersList({\n  orders,\n  handleExport,\n  handleDeletion,\n  handleLoadingMoreOrders,\n  labelForDeletion,\n}) {\n  const [ordersWithStyles, setOrdersWithStyles] = useState([])\n\n  useEffect(() => {\n    setOrdersWithStyles(\n      orders.map((order) => ({\n        order: {\n          ...order,\n        },\n        isNew:\n          new Date(order.date).toDateString() === new Date(Date.now()).toDateString(),\n        className: order.confirmed\n          ? 'basic-order-style confirmed-order-style'\n          : 'basic-order-style',\n        hidden: order.confirmed,\n      }))\n    )\n  }, [orders])\n\n  function handleHideOrShow(orderWithStyles) {\n    setOrdersWithStyles([\n      ...ordersWithStyles.map((o) => {\n        if (o.order.id === orderWithStyles.order.id) {\n          return {\n            ...orderWithStyles,\n            hidden: !o.hidden,\n            className: o.hidden\n              ? 'basic-order-style'\n              : 'basic-order-style confirmed-order-style',\n          }\n        }\n        return o\n      }),\n    ])\n  }\n\n  function empty() {\n    return <p>Nothing found</p>\n  }\n\n  function JSONOrder(jsonOrder, id) {\n    return Object.entries(JSON.parse(jsonOrder)).map(([fieldName, fieldValue], index) => (\n      <div\n        key={`${fieldName}${fieldValue}${id}`}\n        style={{\n          minHeight: '1.2rem',\n          backgroundColor: index % 2 !== 0 && 'var(--brand-color-very-light)',\n        }}\n      >\n        <span style={{ fontWeight: 'bold' }}>{fieldName}</span>:{' '}\n        {fieldName === 'dateTime'\n          ? `${new Date(fieldValue).toLocaleDateString()} ${new Date(fieldValue)\n              .toLocaleTimeString()\n              .slice(0, 5)}`\n          : fieldValue}\n      </div>\n    ))\n  }\n\n  function textOrder(txtOrder, id) {\n    return txtOrder\n      .split('\\n')\n      .map((line, index) => <div key={`${id}${index}${line}`}>{line}</div>)\n  }\n\n  function list() {\n    return (\n      <>\n        {ordersWithStyles.map((orderWithStyles) => (\n          <div className=\"order-pool-list\" key={orderWithStyles.order.id}>\n            <div className=\"order-top-bar\">\n              <div className=\"order-status-icons-container\">\n                {orderWithStyles.isNew && (\n                  <span className=\"order-status-new-order order-status-icon\">NEW</span>\n                )}\n                <span\n                  className={`order-status-icon ${\n                    orderWithStyles.order.confirmed\n                      ? 'order-status-icon order-status-confirmed'\n                      : 'order-status-icon order-status-notification'\n                  }`}\n                >\n                  {orderWithStyles.order.confirmed ? '‚úî' : '‚ùï'}{' '}\n                </span>\n              </div>\n              <div className=\"order-actions\">\n                <Button\n                  style={{ padding: 0, fontSize: '0.9rem' }}\n                  variant=\"text\"\n                  size=\"small\"\n                  onClick={() => handleDeletion(orderWithStyles.order.id)}\n                >\n                  {labelForDeletion}\n                </Button>\n                <Button\n                  style={{\n                    padding: 0,\n                    fontSize: '0.8rem',\n                    color: orderWithStyles.order.confirmed && 'var(--brand-color-dark)',\n                  }}\n                  onClick={() => {\n                    handleExport(orderWithStyles.order)\n                  }}\n                  variant=\"text\"\n                  size=\"small\"\n                >\n                  Export\n                </Button>\n                <Button\n                  style={{ padding: 0 }}\n                  variant=\"text\"\n                  size=\"small\"\n                  onClick={() => handleHideOrShow(orderWithStyles)}\n                >\n                  {orderWithStyles.hidden ? 'Show ‚ûï' : 'Hide ‚ûñ'}\n                </Button>\n              </div>\n            </div>\n            <div className={orderWithStyles.className}>\n              {isJSON(orderWithStyles.order.text)\n                ? JSONOrder(orderWithStyles.order.text, orderWithStyles.order.id)\n                : textOrder(orderWithStyles.order.text, orderWithStyles.order.id)}\n            </div>\n          </div>\n        ))}\n        <Button onClick={handleLoadingMoreOrders} size=\"small\">\n          Load more\n        </Button>\n      </>\n    )\n  }\n\n  return orders.length === 0 ? empty() : list()\n}\n","import React, { useEffect, useState } from 'react'\nimport TextField from '@material-ui/core/TextField'\nimport Button from '@material-ui/core/Button'\nimport IconButton from '@material-ui/core/IconButton'\nimport RefreshIcon from '@material-ui/icons/Refresh'\nimport DeleteIcon from '@material-ui/icons/Delete'\nimport RestoreIcon from '@material-ui/icons/Restore'\nimport orderPoolAPI from '../../../services/orderPoolAPI'\nimport LoadingUntillDone from '../../LoadingUntillDone'\nimport OrdersList from './OrdersList'\nimport './OrderPool.css'\n\nconst INBOX = 'inbox'\nconst TRASHCAN = 'trashcan'\n\nexport default function OrderPool({ handleExport }) {\n  const [orders, setOrders] = useState([])\n  const [isLoading, setIsloading] = useState(true)\n\n  const [currentTab, setCurrentTab] = useState(INBOX)\n  const [searchOptions, setSearchOptions] = useState({\n    inbox: {\n      pages: [1],\n      searchText: '',\n      showOnlyNotConfirmed: false,\n    },\n    trashcan: {\n      pages: [1],\n      searchText: '',\n      showOnlyNotConfirmed: false,\n    },\n  })\n  const [searchResults, setSearchResults] = useState(orders)\n  const [forceUpdate, setForceUpdate] = useState({ hasToUpdate: false, trigger: 0 })\n  const [pages, setPages] = useState({ inbox: [1], trashcan: [1] })\n\n  const numberOfOrders = orders.length\n  const numberOfUnconfirmedOrders = orders.filter((order) => !order.confirmed).length\n\n  function filterWithSearchText(values, search) {\n    return values.filter((value) =>\n      value.text.toLowerCase().includes(search?.toLowerCase().trim())\n    )\n  }\n\n  function filterConfirmed(values, condition) {\n    return condition ? values.filter((value) => value?.confirmed === false) : values\n  }\n\n  function makeSearch(val, bool, searchTarget) {\n    const filteredWithConfirmedAndSearch = filterConfirmed(\n      filterWithSearchText(searchTarget, val),\n      bool\n    )\n    return filteredWithConfirmedAndSearch\n  }\n\n  useEffect(async () => {\n    setIsloading(true)\n    const ordersFromPool =\n      currentTab === INBOX\n        ? await orderPoolAPI.get(pages[currentTab], {\n            forceUpdate: forceUpdate.hasToUpdate,\n          })\n        : await orderPoolAPI.get(pages[currentTab], {\n            deleted: true,\n            forceUpdate: forceUpdate.hasToUpdate,\n          })\n\n    if (!ordersFromPool) return\n\n    setOrders(ordersFromPool)\n\n    const filteredOrders = makeSearch(\n      searchOptions[currentTab].searchText,\n      searchOptions[currentTab].showOnlyNotConfirmed,\n      ordersFromPool\n    )\n    setSearchResults(filteredOrders)\n    setIsloading(false)\n  }, [currentTab, forceUpdate.trigger])\n\n  async function handleLoadingMoreOrders() {\n    const newPage = [pages[currentTab].length + 1]\n    setPages({\n      ...pages,\n      [currentTab]: [...pages[currentTab], ...newPage],\n    })\n    const moreOrdersFromPool =\n      currentTab === INBOX\n        ? await orderPoolAPI.get(newPage)\n        : await orderPoolAPI.get(newPage, { deleted: true })\n\n    const concatenatedOrders = orders.concat(moreOrdersFromPool)\n\n    setOrders(concatenatedOrders)\n\n    const filteredOrders = makeSearch(\n      searchOptions[currentTab].searchText,\n      searchOptions[currentTab].showOnlyNotConfirmed,\n      concatenatedOrders\n    )\n    setSearchResults(filteredOrders)\n  }\n\n  function handleSearchChange(e) {\n    const prevOptsForCurTab = searchOptions[currentTab]\n    setSearchOptions({\n      ...searchOptions,\n      [currentTab]: { ...prevOptsForCurTab, searchText: e.target.value },\n    })\n\n    const filteredOrders = makeSearch(\n      e.target.value,\n      prevOptsForCurTab.showOnlyNotConfirmed,\n      orders\n    )\n\n    setSearchResults(filteredOrders)\n  }\n\n  function handleOnlyNotConfirmedSearch(bool) {\n    const prevOptsForCurTab = searchOptions[currentTab]\n    setSearchOptions({\n      ...searchOptions,\n      [currentTab]: { ...prevOptsForCurTab, showOnlyNotConfirmed: bool },\n    })\n\n    const filteredOrders = makeSearch(prevOptsForCurTab.searchText, bool, orders)\n\n    setSearchResults(filteredOrders)\n  }\n\n  function handleTabBarChange(e) {\n    setCurrentTab(e.target.dataset.tabname)\n  }\n\n  function handleRefresh() {\n    setForceUpdate({\n      ...forceUpdate,\n      trigger: forceUpdate.trigger + 1,\n      hasToUpdate: true,\n    })\n    setTimeout(() =>\n      setForceUpdate({\n        ...forceUpdate,\n        hasToUpdate: false,\n      })\n    )\n  }\n\n  async function handleOrderDeletion(id) {\n    await orderPoolAPI.remove(id)\n    setOrders(orders.filter((order) => order.id !== id))\n    setSearchResults(searchResults.filter((order) => order.id !== id))\n  }\n\n  async function handleRetrieval(id) {\n    await orderPoolAPI.retrieve(id)\n    setOrders(orders.filter((order) => order.id !== id))\n    setSearchResults(searchResults.filter((order) => order.id !== id))\n  }\n\n  const inboxClassName = () =>\n    currentTab === INBOX ? 'tab-panel-item tab-panel-item-selected' : 'tab-panel-item'\n\n  const trashcanClassName = () =>\n    currentTab === TRASHCAN ? 'tab-panel-item tab-panel-item-selected' : 'tab-panel-item'\n\n  return (\n    <>\n      <div className=\"tab-panel\">\n        <Button onClick={handleTabBarChange} className=\"p-0\" variant=\"text\" size=\"small\">\n          <h3 data-tabname={INBOX} className={inboxClassName()}>\n            Inbox\n          </h3>\n        </Button>\n        <Button onClick={handleTabBarChange} className=\"p-0\" variant=\"text\" size=\"small\">\n          <h3 data-tabname={TRASHCAN} className={trashcanClassName()}>\n            Trashcan\n          </h3>\n        </Button>\n        <IconButton\n          style={{ marginLeft: 'auto', marginRight: '12px' }}\n          onClick={handleRefresh}\n          className=\"p-0\"\n          variant=\"text\"\n          size=\"small\"\n        >\n          <RefreshIcon />\n        </IconButton>\n      </div>\n      <div className=\"filters-tab\">\n        <span className=\"filters-tab-orders-count\">\n          {searchResults.length}/{orders.length}\n        </span>\n        <TextField\n          className=\"flex-item\"\n          type=\"text\"\n          name=\"searchText\"\n          placeholder=\"Search\"\n          value={searchOptions[currentTab].searchText}\n          onChange={handleSearchChange}\n        />\n        {numberOfUnconfirmedOrders > 0 && (\n          <Button\n            className=\"p-0 filters-tab-orders-status-icon\"\n            size=\"small\"\n            onClick={() =>\n              handleOnlyNotConfirmedSearch(\n                !searchOptions[currentTab].showOnlyNotConfirmed\n              )\n            }\n          >\n            <span style={{ fontSize: '1rem' }}>\n              {searchOptions[currentTab].showOnlyNotConfirmed\n                ? numberOfOrders\n                : numberOfUnconfirmedOrders}\n            </span>\n            <span\n              className={`order-status-icon order-status-notification ${\n                searchOptions[currentTab].showOnlyNotConfirmed &&\n                'order-status-icon-selected'\n              }`}\n            >\n              {searchOptions[currentTab].showOnlyNotConfirmed ? '‚úî&‚ùï' : '‚ùï'}\n            </span>\n          </Button>\n        )}\n      </div>\n      <LoadingUntillDone loading={isLoading}>\n        <OrdersList\n          orders={searchResults}\n          handleExport={handleExport}\n          labelForDeletion={currentTab === TRASHCAN ? <RestoreIcon /> : <DeleteIcon />}\n          handleDeletion={currentTab === TRASHCAN ? handleRetrieval : handleOrderDeletion}\n          handleLoadingMoreOrders={handleLoadingMoreOrders}\n        />\n      </LoadingUntillDone>\n    </>\n  )\n}\n","import React from 'react'\nimport { useHistory, Route } from 'react-router-dom'\nimport ResponsiveDialog from '../../ResponsiveDialog'\nimport OrderPool from './OrderPool'\n\nexport default function OrderPoolDialog({ handleExport }) {\n  const history = useHistory()\n\n  const handleClose = () => {\n    history.goBack()\n  }\n\n  return (\n    <>\n      <Route path=\"/order-pool\">\n        <ResponsiveDialog handleClose={handleClose}>\n          <OrderPool\n            handleExport={(o) => {\n              handleExport(o)\n              handleClose()\n            }}\n          />\n        </ResponsiveDialog>\n      </Route>\n    </>\n  )\n}\n","import React, { useState, useRef } from 'react'\nimport Toast from 'light-toast'\n\nimport './Confirmator.css'\nimport Editor from './Editor'\n\nimport OrderSettings from './OrderSettings'\nimport ValidationDisplay from './ValidationDisplay'\nimport RawOrderContainer from './OrderContainers/RawOrderContainer'\nimport TransformedOrderContainer from './OrderContainers/TransformedOrderContainer'\nimport TransformPanel from './OrderOperations/TransformPanel'\nimport MainOperationsPanel from './OrderOperations/MainOperationsPanel'\nimport OrderPoolDialog from './OrderPool/OrderPoolDialog'\n\nimport Order from '../../helpers/Order'\n\nexport default function Confirmator() {\n  const [rawOrder, setRawOrder] = useState({ text: '', id: null })\n  const [transformedOrder, setTransformedOrder] = useState({\n    text: '',\n    id: null,\n  })\n\n  const [order, setOrder] = useState(Order.default())\n\n  function transform(o) {\n    return Order.transformToText(o, (msg) => Toast.info(msg, 500))\n  }\n\n  const rawOrderOrderContainerRef = useRef(null)\n  const transformedOrderContainerRef = useRef(null)\n\n  function reset() {\n    setRawOrder({ text: '', id: null })\n    setTransformedOrder({ text: '', id: null })\n    setOrder(Order.default())\n  }\n\n  function handleOrderChange(e) {\n    const changedOrder = new Order({\n      ...order,\n      [e.target.name]: e.target.type === 'checkbox' ? e.target.checked : e.target.value,\n    })\n    return setOrder(changedOrder)\n  }\n\n  function handleRawOrderUpdate(rawO) {\n    // Raw order has an id and is an object if it is exported from DB otherwise it's a plain string\n    setRawOrder({ ...rawOrder, id: rawO.id || null, text: rawO.text || rawO })\n  }\n  function handleTransformedOrderUpdate(transO) {\n    setTransformedOrder({ ...transformedOrder, text: transO })\n  }\n\n  function handleOrderTransformFromText(o = rawOrder) {\n    Order.setupOrderFromText(o.text)\n      .then((orderFromText) => {\n        setOrder(orderFromText)\n        return setTransformedOrder({\n          id: o.id,\n          text: transform(orderFromText),\n        })\n      })\n      .catch((err) => Toast.fail(err.message, 400))\n  }\n\n  function handleOrderTransformFromEditor() {\n    return setTransformedOrder({ id: rawOrder.id, text: transform(order) })\n  }\n\n  function handleOrderPoolExport(o) {\n    handleRawOrderUpdate(o)\n    handleOrderTransformFromText(o)\n    setTimeout(\n      () => rawOrderOrderContainerRef.current.scrollIntoView({ smooth: true }),\n      700\n    )\n  }\n\n  return (\n    <div className=\"flex-container\">\n      <RawOrderContainer\n        elementRef={rawOrderOrderContainerRef}\n        rawOrderText={rawOrder.text}\n        handleClick={handleRawOrderUpdate}\n      />\n\n      <Editor order={order} handleChange={handleOrderChange} />\n\n      <TransformPanel\n        elementRef={transformedOrderContainerRef}\n        transformDisabled={!rawOrder.text}\n        copyDisabled={!transformedOrder.text}\n        handleOrderTransformFromText={handleOrderTransformFromText}\n        handleOrderTransformFromEditor={handleOrderTransformFromEditor}\n      />\n\n      <TransformedOrderContainer\n        elementRef={transformedOrderContainerRef}\n        transformedOrderText={transformedOrder.text}\n        handleClick={handleTransformedOrderUpdate}\n      />\n\n      <OrderSettings handleChange={handleOrderChange} order={order} />\n      <ValidationDisplay order={order} shouldValidate={transformedOrder.text} />\n      <MainOperationsPanel\n        order={order}\n        orderId={rawOrder.id}\n        transformedOrder={transformedOrder}\n        handleResetClick={reset}\n      />\n      <OrderPoolDialog handleExport={handleOrderPoolExport} />\n    </div>\n  )\n}\n","export default __webpack_public_path__ + \"static/media/paku24-logo.7602fc02.png\";","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport './Header.css'\nimport logo from '../assets/paku24-logo.png'\n\nexport default function Header({ isLogged }) {\n  return (\n    <div className=\"logo\">\n      <div>\n        <Link to={isLogged ? '/' : '/login'}>\n          <img src={logo} alt=\"Logo\" width=\"125px\" />\n        </Link>\n        <span className=\"text\">CONFIRMATOR</span>\n      </div>\n    </div>\n  )\n}\n","import interceptor from './interceptor'\n\nconst baseUrl = '/api/login'\n\nasync function loginWithCredentials(credentials) {\n  return interceptor.axiosInstance.post(baseUrl, credentials).then((res) => res.data)\n}\n\nasync function loginWithAccessToken() {\n  const response = await interceptor.axiosInstance.post(`${baseUrl}/token`)\n  return response.data\n}\n\nexport default { loginWithCredentials, loginWithAccessToken }\n","import React from 'react'\nimport InfoOutlinedIcon from '@material-ui/icons/InfoOutlined'\n\nconst Notification = ({ notification }) => {\n  let color = 'black'\n  if (notification.toLowerCase().includes('error')) color = 'red'\n\n  return (\n    <>\n      {notification ? (\n        <div\n          style={{\n            backgroundColor: 'white',\n            color,\n            padding: '10px',\n            width: '80%',\n            borderBottom: '3px solid darkgrey',\n            fontSize: 'small',\n            display: 'flex',\n            alignItems: 'center',\n            marginBottom: '10px',\n          }}\n        >\n          <InfoOutlinedIcon />\n          <span style={{ marginLeft: '10px' }}>{notification}</span>\n        </div>\n      ) : null}\n    </>\n  )\n}\n\nexport default Notification\n","import React, { useState } from 'react'\nimport { useHistory, Link } from 'react-router-dom'\nimport TextField from '@material-ui/core/TextField'\nimport Button from '@material-ui/core/Button'\nimport loginServi—Åe from '../services/login'\nimport Notification from './Notification'\n\nexport default function Login({ setUser }) {\n  const background = {\n    width: '95%',\n    margin: '0 auto',\n    padding: 20,\n    backgroundColor: 'lightgrey',\n    borderBottom: '4px solid darkgrey',\n  }\n\n  const flexItem = {\n    marginBottom: '7px',\n    backgroundColor: 'white',\n  }\n\n  const formContainer = {\n    color: 'black',\n    fontSize: '1.3rem',\n    letterSpacing: '0.7px',\n    marginTop: '10px',\n    marginBottom: '15px',\n  }\n\n  const flexForm = {\n    paddingBottom: '10px',\n    height: '80%',\n    display: 'flex',\n    flexFlow: 'column wrap',\n    justifyContent: 'space-evenly',\n  }\n\n  const history = useHistory()\n  const referrer = history?.location.state?.referrer\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [isButtonDisabled, setIsButtonDisabled] = useState(false)\n  const [inputError, setInputError] = useState(false)\n  const [notification, setNotification] = useState('')\n\n  async function handleLogin(event) {\n    event.preventDefault()\n    setNotification('Working...')\n\n    try {\n      const { user } = await loginServi—Åe.loginWithCredentials({\n        username,\n        password,\n      })\n      setNotification('Done')\n\n      history.push(referrer || '/')\n      setUser(user)\n    } catch (err) {\n      setInputError(true)\n      setIsButtonDisabled(true)\n      setTimeout(() => setIsButtonDisabled(false), 2000)\n      setNotification(`Error: ${err.response?.data.error}`)\n    }\n  }\n\n  return (\n    <div style={{ margin: '30px 5px' }}>\n      <div style={background}>\n        <div style={formContainer}>\n          LOGIN\n          <span\n            style={{\n              color: 'black',\n              fontSize: '1.0rem',\n              letterSpacing: '0.2px',\n            }}\n          >\n            {' '}\n            or <Link to=\"/register\">request access</Link>\n          </span>\n        </div>\n\n        <Notification notification={notification} />\n\n        <form onSubmit={handleLogin} style={flexForm}>\n          <TextField\n            className=\"flex-item\"\n            style={flexItem}\n            error={inputError}\n            required\n            name=\"username\"\n            value={username}\n            onChange={({ target }) => setUsername(target.value)}\n            label=\"Username\"\n            variant=\"filled\"\n            size=\"small\"\n          />\n          <TextField\n            className=\"flex-item\"\n            style={flexItem}\n            error={inputError}\n            type=\"password\"\n            required\n            value={password}\n            name=\"password\"\n            onChange={({ target }) => setPassword(target.value)}\n            label=\"Password\"\n            variant=\"filled\"\n            size=\"small\"\n          />\n\n          <Button\n            className=\"flex-item\"\n            style={flexItem}\n            type=\"submit\"\n            disabled={isButtonDisabled}\n            variant=\"contained\"\n            size=\"small\"\n          >\n            Login\n          </Button>\n        </form>\n      </div>\n    </div>\n  )\n}\n","import React, { useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport TextField from '@material-ui/core/TextField'\nimport Button from '@material-ui/core/Button'\nimport axios from 'axios'\nimport Notification from './Notification'\n\nexport default function Register() {\n  const background = {\n    width: '95%',\n    padding: 20,\n    margin: '0 auto',\n    backgroundColor: 'lightgrey',\n    borderBottom: '4px solid darkgrey',\n  }\n\n  const flexItem = {\n    marginBottom: '7px',\n    backgroundColor: 'white',\n  }\n\n  const formContainer = {\n    color: 'black',\n    fontSize: '1.3rem',\n    letterSpacing: '0.7px',\n    marginTop: '10px',\n    marginBottom: '15px',\n  }\n\n  const flexForm = {\n    paddingBottom: '10px',\n    height: '80%',\n    display: 'flex',\n    flexFlow: 'column wrap',\n    justifyContent: 'space-evenly',\n  }\n\n  const [name, setName] = useState('')\n  const [email, setEmail] = useState('')\n  const [purpose, setPurpose] = useState('')\n  const [response, setResponse] = useState('')\n  const [disabled, setDisabled] = useState(false)\n\n  async function sendRequestForAccess(params) {\n    return axios.post('/api/registration/request-access', params).then((res) => res.data)\n  }\n\n  async function handleRequest(event) {\n    event.preventDefault()\n    setDisabled(true)\n    setResponse('Working...')\n    try {\n      const res = await sendRequestForAccess({ name, email, purpose })\n      setResponse(res?.message)\n      setName('')\n      setEmail('')\n      setPurpose('')\n      setDisabled(false)\n    } catch (err) {\n      setDisabled(false)\n      setResponse(`Error: ${err?.response.data?.error}`)\n    }\n  }\n\n  return (\n    <div style={{ margin: '30px 5px' }}>\n      <div style={background}>\n        <div style={formContainer}>\n          REQUEST ACCESS\n          <span\n            style={{\n              color: 'black',\n              fontSize: '1.0rem',\n              letterSpacing: '0.2px',\n            }}\n          >\n            {' '}\n            or <Link to=\"/login\">login</Link>\n          </span>\n        </div>\n\n        <Notification notification={response} />\n\n        <form onSubmit={handleRequest} style={flexForm}>\n          <TextField\n            style={flexItem}\n            required\n            name=\"name\"\n            value={name}\n            onChange={({ target }) => setName(target.value)}\n            label=\"Name\"\n            variant=\"filled\"\n            size=\"small\"\n          />\n          <TextField\n            style={flexItem}\n            type=\"email\"\n            required\n            value={email}\n            name=\"email\"\n            onChange={({ target }) => setEmail(target.value)}\n            label=\"Email\"\n            variant=\"filled\"\n            size=\"small\"\n          />\n\n          <TextField\n            style={flexItem}\n            type=\"text\"\n            required\n            multiline\n            rows=\"3\"\n            value={purpose}\n            name=\"purpose\"\n            onChange={({ target }) => setPurpose(target.value)}\n            label=\"Why you want to use this application?\"\n            variant=\"filled\"\n            size=\"small\"\n          />\n\n          <Button\n            style={flexItem}\n            type=\"submit\"\n            disabled={disabled}\n            variant=\"contained\"\n            size=\"small\"\n          >\n            Send request\n          </Button>\n        </form>\n      </div>\n    </div>\n  )\n}\n","import axios from 'axios'\n\nconst baseUrl = '/api/logout'\n\nasync function logout() {\n  return axios.post(baseUrl).then((res) => res.data)\n}\n\nexport default { logout }\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport MeetingRoomIcon from '@material-ui/icons/MeetingRoom'\n\nexport default function LogoutButton({ handleClick }) {\n  return (\n    <Button\n      style={{ backgroundColor: 'lightgrey' }}\n      variant=\"outlined\"\n      size=\"small\"\n      onClick={handleClick}\n    >\n      Logout <MeetingRoomIcon />\n    </Button>\n  )\n}\n","import React from 'react'\nimport logoutService from '../services/logout'\nimport LogoutButton from './LogoutButton'\n\nexport default function Footer({ user, logoutUser }) {\n  return (\n    <div\n      style={{\n        backgroundColor: 'darkgrey',\n        padding: '15px',\n        marginTop: '40px',\n        display: 'flex',\n        justifyContent: 'space-between',\n        borderTop: '3.5px solid lightgrey',\n      }}\n    >\n      <div style={{ paddingTop: '2px', marginRight: '20px' }}>\n        <span style={{ fontFamily: 'monospace' }}>\n          {' '}\n          {user.username}\n          <br />\n          {user.name}\n        </span>\n      </div>\n      <LogoutButton handleClick={() => logoutService.logout().then(logoutUser)} />\n    </div>\n  )\n}\n","import React, { useState, useEffect } from 'react'\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom'\nimport { ErrorBoundary } from 'react-error-boundary'\nimport Confirmator from './components/Confirmator/Confirmator'\nimport Header from './components/Header'\nimport Login from './components/Login'\nimport Register from './components/Register'\nimport loginServi—Åe from './services/login'\nimport './App.css'\nimport Footer from './components/Footer'\nimport LoadingUntillDone from './components/LoadingUntillDone'\nimport interceptor from './services/interceptor'\n\nfunction ErrorFallback({ error }) {\n  return (\n    <div role=\"alert\">\n      <p>Something went wrong:</p>\n      <pre style={{ color: 'red' }}>{error.message}</pre>\n    </div>\n  )\n}\n\nfunction RedirectToLoginPageIfNotAuthenticated({ user, setUser, children }) {\n  const history = useHistory()\n  let currentLocation\n  if (user === null || user === 'Loading') {\n    currentLocation = history.location.pathname\n  }\n\n  const loading = user === 'Loading'\n  const mustRedirect = user === null\n  const redirectToLoginPage = mustRedirect && (\n    <Redirect to={{ pathname: '/login', state: { referrer: currentLocation } }} />\n  )\n\n  return (\n    <>\n      <LoadingUntillDone loading={loading} redirectComponent={redirectToLoginPage}>\n        {children}\n      </LoadingUntillDone>\n\n      <Route path=\"/login\">\n        {user === null ? <Login setUser={setUser} /> : <Redirect to=\"/\" />}\n      </Route>\n    </>\n  )\n}\n\nfunction App() {\n  const [user, setUser] = useState('Loading')\n\n  // Initializing Axios interceptor with ability to logout user\n  useEffect(() => {\n    interceptor.setupInterceptor({ logout: () => setUser(null) })\n  }, [])\n\n  useEffect(async () => {\n    try {\n      const { user: userFromToken } = await loginServi—Åe.loginWithAccessToken()\n      return setUser(userFromToken)\n    } catch (err) {\n      return setUser(null)\n    }\n  }, [])\n\n  return (\n    <div className=\"container\">\n      <ErrorBoundary FallbackComponent={ErrorFallback}>\n        <Header isLogged={user !== null && user !== 'Loading'} />\n        <Switch>\n          <Route path=\"/register\">\n            <Register />\n          </Route>\n          <Route path=\"/\">\n            <RedirectToLoginPageIfNotAuthenticated user={user} setUser={setUser}>\n              <Confirmator />\n              <Footer user={user} logoutUser={() => setUser(null)} />\n            </RedirectToLoginPageIfNotAuthenticated>\n          </Route>\n        </Switch>\n      </ErrorBoundary>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter as Router } from 'react-router-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router basename=\"/app\">\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}